
  <!DOCTYPE html>

<html lang="en" dir="ltr">

  
<!-- Mirrored from canonical.com/maas/docs/maas-troubleshooting-guide by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 20:41:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content=" 
      Canonical makes open source secure, reliable and easy to use, providing support for Ubuntu and a portfolio of enterprise-grade technologies. Founded in 2004, Canonical operates globally with team members in over 80 countries." />
      <meta name="copydoc" content=" 
        https://drive.google.com/drive/folders/0B8feV0jqaac3TmExU3NDcHhFTGc" />
        <meta name="author" content="Canonical Ltd" />
        <link rel="canonical" href="maas-troubleshooting-guide.html" />
        
        <meta name="discourse-url" content="
        https://discourse.ubuntu.com" />

          <meta name="theme-color" content="#262626" />
          <meta name="twitter:account_id" content="169015850" />
          <meta name="twitter:site" content="@canonical" />
          <meta property="og:type" content="website" />
          <meta property="og:url" content="maas-troubleshooting-guide.html" />
          <meta property="og:site_name" content="Canonical" />
          
          <title>

            Troubleshooting guide
          </title>
          
            <meta name="twitter:title" content="Troubleshooting guide | Canonical" />
            <meta property="og:title" content="Troubleshooting guide | Canonical" />
          
          
            <meta name="twitter:description" content="Canonical makes open source secure, reliable and easy to use, providing support for Ubuntu and a portfolio of enterprise-grade technologies. Founded in 2004, Canonical operates globally with team members in over 80 countries." />
            <meta property="og:description" content="Canonical makes open source secure, reliable and easy to use, providing support for Ubuntu and a portfolio of enterprise-grade technologies. Founded in 2004, Canonical operates globally with team members in over 80 countries." />
          

          
          <!-- Meta keywords:  -->
          

          
          <!-- Meta image:  -->
          
            <meta name="twitter:card" content="summary_large_image" />
            <meta name="twitter:image"
                  content="https://assets.ubuntu.com/v1/c797f1d7-og_ canonical.png" />
            <meta property="og:image"
                  content="https://assets.ubuntu.com/v1/c797f1d7-og_ canonical.png" />
          

          
          

          

          <link rel="apple-touch-icon"
                sizes="180x180"
                href="https://assets.ubuntu.com/v1/f38b9c7e-COF apple-touch-icon.png" />
          <link rel="icon"
                type="image/png"
                sizes="32x32"
                href="https://assets.ubuntu.com/v1/be7e4cc6-COF-favicon-32x32.png" />
          <link rel="icon"
                type="image/png"
                sizes="16x16"
                href="https://assets.ubuntu.com/v1/16c27f81-COF favicon-16x16.png" />
          <link rel="manifest" href="https://canonical.com/static/files/site.webmanifest?v=861e2f6" />
          <!-- Serving favicon for search engines locally -->
          <link rel="icon" type="image/png" sizes="48x48" href="https://canonical.com/static/favicons/COF-favicon-48x48.png?v=fa3c63f" />

          <link rel="preconnect" href="https://assets.ubuntu.com/" />

          <link rel="preload"
                as="font"
                type="font/woff2"
                href="https://assets.ubuntu.com/v1/e8c07df6-Ubuntu-L_W.woff2"
                crossorigin />
          <link rel="preload"
                as="font"
                type="font/woff2"
                href="https://assets.ubuntu.com/v1/7f100985-Ubuntu-Th_W.woff2"
                crossorigin />
          <link rel="preload"
                as="font"
                type="font/woff2"
                href="https://assets.ubuntu.com/v1/f8097dea-Ubuntu-LI_W.woff2"
                crossorigin />
          <link rel="preload"
                as="font"
                type="font/woff2"
                href="https://assets.ubuntu.com/v1/fff37993-Ubuntu-R_W.woff2"
                crossorigin />

          <script src="https://assets.ubuntu.com/v1/703e23c9-lazysizes+noscript+native-loading.5.1.2.min.js"
                  defer></script>

          <link rel="stylesheet" type="text/css" media="screen" href="https://canonical.com/static/css/styles.css?v=62f7ad6" />
        </head>

        <body class=" 
           l-site">
          <!-- Google Tag Manager (noscript) -->
          <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M5BPGQ6"
        height="0"
        width="0"
        style="display:none;
               visibility:hidden"></iframe></noscript>
          <a href="#main-content" class="u-off-screen">Skip to main content</a>
          <div id="success" class="u-hide">
            <div class="p-notification--positive u-no-margin--bottom">
              <div class="p-notification__content">
                <p class="p-notification__message">
                  Your submission was sent successfully! <a href="#"
    onclick="document.querySelector('#success').classList.add('u-hide');"><i class="p-notification__close">Close</i></a>
                </p>
              </div>
            </div>
          </div>
          <div id="newsletter-signup" class="u-hide">
            <div class="p-notification--positive u-no-margin--bottom">
              <div class="p-notification__content">
                <p class="p-notification__message">
                  Thank you for signing up for our newsletter!
                  <br />
                  In these regular emails you will find the latest updates from Canonical and upcoming events where you can meet our team.<a href="#"
   onclick="document.querySelector('#newsletter-signup').classList.add('u-hide');"><i class="p-notification__close">Close</i></a>
                </p>
              </div>
            </div>
          </div>
          <div id="contact-form-success" class="u-hide">
            <div class="p-notification--positive u-no-margin--bottom">
              <div class="p-notification__content">
                <p class="p-notification__message">
                  Thank you for contacting us. A member of our team will be in touch shortly. <a href="#"
   onclick="document.querySelector('#contact-form-success').classList.add('u-hide');"><i class="p-notification__close">Close</i></a>
                </p>
              </div>
            </div>
          </div>
          <div id="contact-form-fail" class="u-hide">
            <div class="p-notification--negative u-no-margin--bottom">
              <div class="p-notification__content">
                <p class="p-notification__message">
                  
                    
                    
                      An error occurred while submitting your form.
                    
                    Please try again or 
                    <a href="https://github.com/canonical/canonical.com/issues/new?template=ISSUE_TEMPLATE.md">file a bug report</a>.
                  
                  <a href="#" onclick="document.querySelector('#contact-form-fail').classList.add('u-hide');"><i class="p-notification__close">Close</i></a>
                </p>
              </div>
            </div>
          </div>

          

<header id="navigation"
        class="p-navigation--reduced is-dark">
  <div class="p-navigation__row--25-75">
    <div class="p-navigation__banner">
      <div class="p-navigation__tagged-logo">
        <a class="p-navigation__link" href="https://canonical.com/">
          <div class="p-navigation__logo-tag">
            <img class="p-navigation__logo-icon"
                 src="https://assets.ubuntu.com/v1/82818827-CoF_white.svg"
                 alt="Canonical" />
          </div>
          <span class="p-navigation__logo-title">Canonical</span>
        </a>
      </div>
      <ul class="p-navigation__items">
        <li class="p-navigation__item">
          <a href="https://canonical.com/search"
             class="js-search-button p-navigation__link--search-toggle"
             aria-label="Search"></a>
        </li>
        <li class="p-navigation__item">
          <button class="js-menu-button p-navigation__link">Menu</button>
        </li>
      </ul>
    </div>
    <nav class="p-navigation__nav js-show-nav" aria-label="Categories">
      <ul class="p-navigation__items js-dropdown-list">
        <li class="p-navigation__item--dropdown-toggle"
            role="menuitem"
            id="products-nav">
          <a class="p-navigation__link js-dropdown-button"
             href="#"
             aria-controls="products-content"
             tabindex="0"
             data-level="0">Products</a>
             <div class="p-navigation__dropdown is-full-width is-collapsed"
     data-level="1"
     id="products-content"
     aria-hidden="true">
  
    <div class="p-navigation__dropdown-content--sliding">
  <ul class="p-list u-no-margin js-dropdown-list">
    <li class="p-navigation__item--dropdown-close" id="products-content-back">
      <a class="p-navigation__link js-back-button js-focus-target"
         aria-controls="products-content"
         href="#products-content-back"
         data-level="1">Back</a>
    </li>
    
      
        <li class="p-navigation__item--dropdown-toggle"
            id="featured-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#featured-menu"
             aria-controls="featured-menu"
             data-level="1">Featured</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="featured-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="featured-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="featured-content"
                 href="#featured-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://ubuntu.com/desktop"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Desktop</span>
    <br />
    
      <small>Fast, modern and secure Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/server"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Server</span>
    <br />
    
      <small>Scalable Linux for the cloud</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://maas.io/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MAAS</span>
    <br />
    
      <small>Bare metal provisioning</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://snapcraft.io/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Snapcraft</span>
    <br />
    
      <small>App store for Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/openstack"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>OpenStack</span>
    <br />
    
      <small>Private cloud provisioning</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/microcloud"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MicroCloud</span>
    <br />
    
      <small>Lightweight, automated clouds</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/pro"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Pro</span>
    <br />
    
      <small>Security &amp; compliance subscription</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/support"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Enterprise-grade support</span>
    <br />
    
      <small>24/7 support for the full-stack</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/security/livepatch"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Livepatch</span>
    <br />
    
      <small>Stay patched and defer reboots</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/kubernetes"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Kubernetes</span>
    <br />
    
      <small>Containerized workloads</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://charmhub.io/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Charmhub</span>
    <br />
    
      <small>Charmed Operators marketplace</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://juju.is/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Juju</span>
    <br />
    
      <small>Orchestration engine for operators</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/certified"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Certified hardware</span>
    <br />
    
      <small>Ubuntu hardware you can trust</small>
    
  </a>
</li>
                
              
            
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="ubuntu-os-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#ubuntu-os-menu"
             aria-controls="ubuntu-os-menu"
             data-level="1">Ubuntu OS</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="ubuntu-os-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="ubuntu-os-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="ubuntu-os-content"
                 href="#ubuntu-os-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://ubuntu.com/desktop"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Desktop</span>
    <br />
    
      <small>Fast, modern and secure Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/server"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Server</span>
    <br />
    
      <small>Scalable Linux for the cloud</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/pro"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Pro</span>
    <br />
    
      <small>Security &amp; compliance subscription</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/core"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Core</span>
    <br />
    
      <small>Embedded Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/security/fips"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>FIPS for Ubuntu</span>
    <br />
    
      <small>Secure Linux for government</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/desktop/wsl"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>WSL</span>
    <br />
    
      <small>Windows Subsystem for Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/multipass"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Multipass</span>
    <br />
    
      <small>VMs for Windows, macOS &amp; Linux</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/tutorials/upgrading-ubuntu-desktop" data-level="2" class="js-focus-target">Upgrade Ubuntu</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://help.ubuntu.com/" data-level="2" class="js-focus-target">Ubuntu documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/tutorials/install-ubuntu-desktop" data-level="2" class="js-focus-target">Desktop install</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/server/docs/installation" data-level="2" class="js-focus-target">Server install</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/server/docs" data-level="2" class="js-focus-target">Server guide</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/cloud/public-cloud" data-level="2" class="js-focus-target">Ubuntu on public clouds</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="private-cloud-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#private-cloud-menu"
             aria-controls="private-cloud-menu"
             data-level="1">Private cloud</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="private-cloud-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="private-cloud-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="private-cloud-content"
                 href="#private-cloud-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://canonical.com/openstack"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>OpenStack</span>
    <br />
    
      <small>Enterprise private cloud</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/server"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Server</span>
    <br />
    
      <small>Scalable Linux for the cloud</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/landscape"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Landscape</span>
    <br />
    
      <small>Monitor and manage machines</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://maas.io/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MAAS</span>
    <br />
    
      <small>Bare metal provisioning</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/ceph"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ceph</span>
    <br />
    
      <small>Open source storage</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/anbox-cloud"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Anbox Cloud</span>
    <br />
    
      <small>Virtualized Android on demand</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://juju.is/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Juju</span>
    <br />
    
      <small>Orchestrator engine for operators</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/openstack/consulting"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Private cloud build</span>
    <br />
    
      <small>OpenStack implementation</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/microstack"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MicroStack</span>
    <br />
    
      <small>Cloud-native OpenStack</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/microcloud"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MicroCloud</span>
    <br />
    
      <small>Lightweight, automated clouds</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/server/docs" data-level="2" class="js-focus-target">Server documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://maas.io/docs" data-level="2" class="js-focus-target">MAAS documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://canonical.com/microstack/docs/single-node" data-level="2" class="js-focus-target">MicroStack installation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/blog/data-centre-networking-what-is-sdn" data-level="2" class="js-focus-target">Data Centre Networking blog</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/openstack/pricing-calculator" data-level="2" class="js-focus-target">OpenStack pricing</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/openstack/consulting" data-level="2" class="js-focus-target">Private cloud consulting</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/blog/private_cloud_avoiding_operational_costs" data-level="2" class="js-focus-target">Private cloud: Avoiding the high cost of operations</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="public-cloud-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#public-cloud-menu"
             aria-controls="public-cloud-menu"
             data-level="1">Public cloud</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="public-cloud-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="public-cloud-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="public-cloud-content"
                 href="#public-cloud-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://ubuntu.com/cloud/public-cloud"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu on public clouds</span>
    <br />
    
      <small>The most popular cloud OS</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/aws"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu on AWS</span>
    <br />
    
      <small>AWS Marketplace</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/azure"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu on Azure</span>
    <br />
    
      <small>Microsoft Azure Marketplace</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/gcp"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu on GCP</span>
    <br />
    
      <small>Google Cloud Marketplace</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/aws/workspaces"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu WorkSpaces</span>
    <br />
    
      <small>Virtual desktops on AWS</small>
    
  </a>
</li>
                
              
            
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="virtualization-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#virtualization-menu"
             aria-controls="virtualization-menu"
             data-level="1">Virtualization</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="virtualization-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="virtualization-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="virtualization-content"
                 href="#virtualization-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://canonical.com/multipass"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Multipass</span>
    <br />
    
      <small>VMs for Windows, macOS &amp; Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/lxd"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>LXD</span>
    <br />
    
      <small>Linux containers and VMs</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/desktop/wsl"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>WSL</span>
    <br />
    
      <small>Windows Subsystem for Linux</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://snapcraft.io/blog/what-is-virtualisation-the-basics" data-level="2" class="js-focus-target">What is virtualization?</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://documentation.ubuntu.com/multipass/en/latest" data-level="2" class="js-focus-target">Multipass documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/server/docs/virtualization-multipass" data-level="2" class="js-focus-target">Virtualization docs in the server guide</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://wiki.ubuntu.com/WSL" data-level="2" class="js-focus-target">What is WSL?</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-11-with-gui-support" data-level="2" class="js-focus-target">Install Ubuntu on Windows 11</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-10" data-level="2" class="js-focus-target">Install Ubuntu on Windows 10</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="security-and-support-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#security-and-support-menu"
             aria-controls="security-and-support-menu"
             data-level="1">Security and support</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="security-and-support-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="security-and-support-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="security-and-support-content"
                 href="#security-and-support-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://ubuntu.com/pro"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Pro</span>
    <br />
    
      <small>Security &amp; compliance subscription</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/support"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Pro + support</span>
    <br />
    
      <small>24/7 support for the full-stack</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/security/esm"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>ESM</span>
    <br />
    
      <small>10 years of security maintenance</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/landscape"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Landscape</span>
    <br />
    
      <small>Monitor and manage machines</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/security/livepatch"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Livepatch</span>
    <br />
    
      <small>Stay patched without reboots</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/aws/pro"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Pro for AWS</span>
    <br />
    
      <small>Amazon Web Services support</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/azure/pro"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Pro for Azure</span>
    <br />
    
      <small>Microsoft Azure cloud support</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/gcp/pro"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Pro for GCP</span>
    <br />
    
      <small>Google Cloud support</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/security/certifications"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Certifications and hardening</span>
    <br />
    
      <small>CIS, DISA-STIG, FIPS compliance</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/confidential-computing"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Confidential computing</span>
    <br />
    
      <small>Protect your data in use</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/pricing/pro" data-level="2" class="js-focus-target">Ubuntu Pro pricing</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/pricing/consulting" data-level="2" class="js-focus-target">Open infrastructure consulting</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/certified" data-level="2" class="js-focus-target">Certified hardware</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/security/cves" data-level="2" class="js-focus-target">CVE reports</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/security/notices" data-level="2" class="js-focus-target">Ubuntu Security Notices (USN)</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/pro/free-trial" data-level="2" class="js-focus-target">Ubuntu Pro free trial</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/pro/subscribe" data-level="2" class="js-focus-target">Get Ubuntu Pro now</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="kubernetes-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#kubernetes-menu"
             aria-controls="kubernetes-menu"
             data-level="1">Kubernetes</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="kubernetes-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="kubernetes-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="kubernetes-content"
                 href="#kubernetes-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://ubuntu.com/kubernetes"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Kubernetes</span>
    <br />
    
      <small>Containerized workloads</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://microk8s.io/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MicroK8s</span>
    <br />
    
      <small>Simplest way to get Kubernetes</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/kubernetes/charmed-k8s"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Charmed Kubernetes</span>
    <br />
    
      <small>Composable K8s for the enterprise</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/ai/what-is-kubeflow"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Kubeflow</span>
    <br />
    
      <small>Machine learning toolkit for K8s</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/kubernetes/docs" data-level="2" class="js-focus-target">Kubernetes documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/kubernetes/docs/quickstart" data-level="2" class="js-focus-target">Getting started with Kubernetes</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/kubernetes/compare" data-level="2" class="js-focus-target">Distributions comparison</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://juju.is/cloud-native-kubernetes-usage-report-2022" data-level="2" class="js-focus-target">Cloud native operations report</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="http://microk8s.io/docs/getting-started" data-level="2" class="js-focus-target">Getting started with MicroK8s</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://charmed-kubeflow.io/docs/install" data-level="2" class="js-focus-target">Kubeflow installation tutorial</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="ai-and-data-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#ai-and-data-menu"
             aria-controls="ai-and-data-menu"
             data-level="1">AI and data</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="ai-and-data-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="ai-and-data-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="ai-and-data-content"
                 href="#ai-and-data-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://ubuntu.com/ai"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>AI/ML</span>
    <br />
    
      <small>AI and machine learning on Ubuntu</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://charmed-kubeflow.io/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Kubeflow</span>
    <br />
    
      <small>End-to-end MLOps platform</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/ai/mlflow"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MLflow</span>
    <br />
    
      <small>Lightweight ML platform</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/data"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Data solutions</span>
    <br />
    
      <small>Enterprise data management at scale</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/data/kafka"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Kafka</span>
    <br />
    
      <small>Streaming data platform</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/data/spark"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Spark</span>
    <br />
    
      <small>Big data processing</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/data/mongodb"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MongoDB</span>
    <br />
    
      <small>NoSQL database management</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/data/postgresql"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>PostgreSQL</span>
    <br />
    
      <small>Relational database management</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/data/mysql"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>MySQL</span>
    <br />
    
      <small>Relational database management</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://canonical.com/data/opensearch"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>OpenSearch</span>
    <br />
    
      <small>Search and analytics suite</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://charmed-kubeflow.io/docs" data-level="2" class="js-focus-target">Kubeflow documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://documentation.ubuntu.com/charmed-mlflow/en/latest/" data-level="2" class="js-focus-target">MLflow documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://canonical.com/data/docs" data-level="2" class="js-focus-target">Data documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/engage/mlops-toolkit/" data-level="2" class="js-focus-target">MLOps toolkit</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/engage/open-source-big-data-ai" data-level="2" class="js-focus-target">Guide to big data and AI</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="certified-hardware-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#certified-hardware-menu"
             aria-controls="certified-hardware-menu"
             data-level="1">Certified hardware</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="certified-hardware-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="certified-hardware-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="certified-hardware-content"
                 href="#certified-hardware-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://ubuntu.com/certified"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Certified hardware</span>
    <br />
    
      <small>Ubuntu hardware you can trust</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/certified?q=&amp;limit=20&amp;category=Laptop&amp;category=Desktop"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>PC and laptops</span>
    <br />
    
      <small>Certified for Ubuntu</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/certified/servers"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Servers</span>
    <br />
    
      <small>Hardware for data centers</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/certified/devices"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>IoT devices</span>
    <br />
    
      <small>Stable and secure devices</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/certified/socs"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>SoCs</span>
    <br />
    
      <small>System on a Chip hardware</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/certified?q=&amp;limit=20&amp;vendor=Raspberry+Pi+Foundation"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Raspberry Pi</span>
    <br />
    
      <small>Certified Pi devices</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/certified/why-certified" data-level="2" class="js-focus-target">Why use Certified devices?</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/partners/become-a-partner" data-level="2" class="js-focus-target">Certify your device</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://www.brighttalk.com/webcast/6793/497538" data-level="2" class="js-focus-target">Why certification matters for AIoT</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://www.brighttalk.com/webcast/6793/514263" data-level="2" class="js-focus-target">Industrial Pi use cases webinar</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/blog/why-you-should-buy-a-pre-installed-ubuntu-workstation" data-level="2" class="js-focus-target">Why buy a preinstalled workstation?</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="iot-and-edge-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#iot-and-edge-menu"
             aria-controls="iot-and-edge-menu"
             data-level="1">IoT and edge</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="iot-and-edge-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="iot-and-edge-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="iot-and-edge-content"
                 href="#iot-and-edge-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://ubuntu.com/core"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Core</span>
    <br />
    
      <small>Embedded Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/internet-of-things/appstore"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>IoT App Store</span>
    <br />
    
      <small>Private app store for Linux and IoT</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/internet-of-things/management"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Device management</span>
    <br />
    
      <small>Manage fleets of IoT devices</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/certified/devices"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Certified devices</span>
    <br />
    
      <small>Hardware/OS compatibility</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://mir-server.io/ubuntu-frame"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Ubuntu Frame</span>
    <br />
    
      <small>Embedded graphical displays</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/robotics/ros-esm"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>ROS ESM</span>
    <br />
    
      <small>Expanded security for robots</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/real-time"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Real-time Ubuntu</span>
    <br />
    
      <small>Low-latency kernel</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/core/services"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>IoT Professional Services</span>
    <br />
    
      <small>Bring IoT devices to market</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/kernel"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Kernel</span>
    <br />
    
      <small>Ubuntu kernel on certified hardware</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/engage/a-practical-guide-to-iot-lifecycle-management" data-level="2" class="js-focus-target">Guide to IoT lifecycle management</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/blog/canonical-joins-the-connectivity-standards-alliance" data-level="2" class="js-focus-target">Canonical joins the CSA</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/engage/robot-operating-system-choice" data-level="2" class="js-focus-target">Pick the OS for your robots</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/engage/embedded-linux-make-or-buy" data-level="2" class="js-focus-target">Embedded Linux: make or buy?</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/download/raspberry-pi-core" data-level="2" class="js-focus-target">Try Ubuntu Core on Raspberry Pi</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/engage/bridge-the-IT-OT-gap-Industry4" data-level="2" class="js-focus-target">Industry 4.0 webinar</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
        <li class="p-navigation__item--dropdown-toggle"
            id="developer-tools-content">
          <a class="p-navigation__link js-dropdown-button js-focus-target"
             href="#developer-tools-menu"
             aria-controls="developer-tools-menu"
             data-level="1">Developer tools</a>
          <ul class="p-navigation__dropdown js-dropdown-list"
              id="developer-tools-menu"
              aria-hidden="true">
            <li class="p-navigation__item--dropdown-close"
                id="developer-tools-content-back">
              <a class="p-navigation__link js-back-button js-focus-target"
                 aria-controls="developer-tools-content"
                 href="#developer-tools-content-back"
                 data-level="2">Back</a>
            </li>
            
              
                
                  <li>
  <a href="https://snapcraft.io/about"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Snaps</span>
    <br />
    
      <small>Containerized applications for Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://snapcraft.io/build"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Snapcraft</span>
    <br />
    
      <small>Build and publish your snaps</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://snapcraft.io/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Snap Store</span>
    <br />
    
      <small>App store for Linux</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://ubuntu.com/containers/chiselled"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Chiselled Ubuntu</span>
    <br />
    
      <small>Ultra-small containerization</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://juju.is/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Juju</span>
    <br />
    
      <small>Orchestrator engine for operators</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://charmhub.io/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>Charmhub</span>
    <br />
    
      <small>Software operators collection</small>
    
  </a>
</li>
                
              
                
                  <li>
  <a href="https://jaas.ai/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="2">
    <span>JAAS</span>
    <br />
    
      <small>Auditing and compliance for Juju</small>
    
  </a>
</li>
                
              
            
            
              
                
                  <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="2">Quick links</h2>
</li>
                
              
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://snapcraft.io/docs" data-level="2" class="js-focus-target">Snap documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://ubuntu.com/tutorials/create-your-first-snap" data-level="2" class="js-focus-target">Create your first snap</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://juju.is/docs" data-level="2" class="js-focus-target">Juju documentation</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://juju.is/docs/juju/tutorial" data-level="2" class="js-focus-target">Getting started with Juju</a>
                  </span>
                </li>
              
                <li class="p-navigation--list-link">
                  <span class="p-navigation__dropdown-item">
                    <a href="https://juju.is/docs/sdk/from-zero-to-hero-write-your-first-kubernetes-charm" data-level="2" class="js-focus-target">Write your first charm</a>
                  </span>
                </li>
              
            
          </ul>
        </li>
      
    

    

    

    
  </ul>
</div>
    <div class="p-navigation__dropdown-content--full-width js-dropdown-window"
     id="products">
  <div class="row--25-75">
    
      
        <div class="p-navigation__tab-panel col">
  <div class="p-side-navigation is-dark">
    <div class="p-side-navigation__drawer">
      <ul class="p-side-navigation__list js-tabs u-no-margin--bottom"
          aria-label="Categories">
        
          <li class="p-side-navigation__item"
              data-id="products-featured">
            <a href="#"
               class="p-side-navigation__link is-active js-navigation-tab"
               id="products-featured-tab"
               aria-controls="products-featured-tab-content"
               role="tab"
               aria-selected="true">Featured</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-ubuntu-os">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-ubuntu-os-tab"
               aria-controls="products-ubuntu-os-tab-content"
               role="tab"
               aria-selected="">Ubuntu OS</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-private-cloud">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-private-cloud-tab"
               aria-controls="products-private-cloud-tab-content"
               role="tab"
               aria-selected="">Private cloud</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-public-cloud">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-public-cloud-tab"
               aria-controls="products-public-cloud-tab-content"
               role="tab"
               aria-selected="">Public cloud</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-virtualization">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-virtualization-tab"
               aria-controls="products-virtualization-tab-content"
               role="tab"
               aria-selected="">Virtualization</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-security-and-support">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-security-and-support-tab"
               aria-controls="products-security-and-support-tab-content"
               role="tab"
               aria-selected="">Security and support</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-kubernetes">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-kubernetes-tab"
               aria-controls="products-kubernetes-tab-content"
               role="tab"
               aria-selected="">Kubernetes</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-ai-and-data">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-ai-and-data-tab"
               aria-controls="products-ai-and-data-tab-content"
               role="tab"
               aria-selected="">AI and data</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-certified-hardware">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-certified-hardware-tab"
               aria-controls="products-certified-hardware-tab-content"
               role="tab"
               aria-selected="">Certified hardware</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-iot-and-edge">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-iot-and-edge-tab"
               aria-controls="products-iot-and-edge-tab-content"
               role="tab"
               aria-selected="">IoT and edge</a>
          </li>
        
          <li class="p-side-navigation__item"
              data-id="products-developer-tools">
            <a href="#"
               class="p-side-navigation__link  js-navigation-tab"
               id="products-developer-tools-tab"
               aria-controls="products-developer-tools-tab-content"
               role="tab"
               aria-selected="">Developer tools</a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
      
      <div class=" col">
        
          <div class="p-navigation__content-panel js-content-panel"
               
               id="products-featured-tab-content"
               tabindex="-1"
               aria-labelledby="products-featured-tab">
            <div class="row u-no-padding">
              <div class="col-9">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/desktop"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Desktop</span>
    <br />
    
      <small>Fast, modern and secure Linux</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/server"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Server</span>
    <br />
    
      <small>Scalable Linux for the cloud</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://maas.io/"
     class="p-navigation__dropdown-item "
     >
    <span>MAAS</span>
    <br />
    
      <small>Bare metal provisioning</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://snapcraft.io/"
     class="p-navigation__dropdown-item "
     >
    <span>Snapcraft</span>
    <br />
    
      <small>App store for Linux</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/openstack"
     class="p-navigation__dropdown-item "
     >
    <span>OpenStack</span>
    <br />
    
      <small>Private cloud provisioning</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/microcloud"
     class="p-navigation__dropdown-item "
     >
    <span>MicroCloud</span>
    <br />
    
      <small>Lightweight, automated clouds</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/pro"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Pro</span>
    <br />
    
      <small>Security &amp; compliance subscription</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/support"
     class="p-navigation__dropdown-item "
     >
    <span>Enterprise-grade support</span>
    <br />
    
      <small>24/7 support for the full-stack</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/security/livepatch"
     class="p-navigation__dropdown-item "
     >
    <span>Livepatch</span>
    <br />
    
      <small>Stay patched and defer reboots</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/kubernetes"
     class="p-navigation__dropdown-item "
     >
    <span>Kubernetes</span>
    <br />
    
      <small>Containerized workloads</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://charmhub.io/"
     class="p-navigation__dropdown-item "
     >
    <span>Charmhub</span>
    <br />
    
      <small>Charmed Operators marketplace</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://juju.is/"
     class="p-navigation__dropdown-item "
     >
    <span>Juju</span>
    <br />
    
      <small>Orchestration engine for operators</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/certified"
     class="p-navigation__dropdown-item "
     >
    <span>Certified hardware</span>
    <br />
    
      <small>Ubuntu hardware you can trust</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
            </div>
            
              <div class="p-navigation__footer">
                <p>We&#39;re here to help with any questions and more information.</p>
                <a href="https://ubuntu.com/contact-us" class="p-button">Contact us</a>
              </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-ubuntu-os-tab-content"
               tabindex="-1"
               aria-labelledby="products-ubuntu-os-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/desktop"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Desktop</span>
    <br />
    
      <small>Fast, modern and secure Linux</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/server"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Server</span>
    <br />
    
      <small>Scalable Linux for the cloud</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/pro"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Pro</span>
    <br />
    
      <small>Security &amp; compliance subscription</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/core"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Core</span>
    <br />
    
      <small>Embedded Linux</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/security/fips"
     class="p-navigation__dropdown-item "
     >
    <span>FIPS for Ubuntu</span>
    <br />
    
      <small>Secure Linux for government</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/desktop/wsl"
     class="p-navigation__dropdown-item "
     >
    <span>WSL</span>
    <br />
    
      <small>Windows Subsystem for Linux</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/multipass"
     class="p-navigation__dropdown-item "
     >
    <span>Multipass</span>
    <br />
    
      <small>VMs for Windows, macOS &amp; Linux</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/tutorials/upgrading-ubuntu-desktop">Upgrade Ubuntu</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://help.ubuntu.com/">Ubuntu documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/tutorials/install-ubuntu-desktop">Desktop install</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/server/docs/installation">Server install</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/server/docs">Server guide</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/cloud/public-cloud">Ubuntu on public clouds</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-private-cloud-tab-content"
               tabindex="-1"
               aria-labelledby="products-private-cloud-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/openstack"
     class="p-navigation__dropdown-item "
     >
    <span>OpenStack</span>
    <br />
    
      <small>Enterprise private cloud</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/server"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Server</span>
    <br />
    
      <small>Scalable Linux for the cloud</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/landscape"
     class="p-navigation__dropdown-item "
     >
    <span>Landscape</span>
    <br />
    
      <small>Monitor and manage machines</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://maas.io/"
     class="p-navigation__dropdown-item "
     >
    <span>MAAS</span>
    <br />
    
      <small>Bare metal provisioning</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/ceph"
     class="p-navigation__dropdown-item "
     >
    <span>Ceph</span>
    <br />
    
      <small>Open source storage</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/anbox-cloud"
     class="p-navigation__dropdown-item "
     >
    <span>Anbox Cloud</span>
    <br />
    
      <small>Virtualized Android on demand</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://juju.is/"
     class="p-navigation__dropdown-item "
     >
    <span>Juju</span>
    <br />
    
      <small>Orchestrator engine for operators</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/openstack/consulting"
     class="p-navigation__dropdown-item "
     >
    <span>Private cloud build</span>
    <br />
    
      <small>OpenStack implementation</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/microstack"
     class="p-navigation__dropdown-item "
     >
    <span>MicroStack</span>
    <br />
    
      <small>Cloud-native OpenStack</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/microcloud"
     class="p-navigation__dropdown-item "
     >
    <span>MicroCloud</span>
    <br />
    
      <small>Lightweight, automated clouds</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/server/docs">Server documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://maas.io/docs">MAAS documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/microstack/docs/single-node">MicroStack installation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/blog/data-centre-networking-what-is-sdn">Data Centre Networking blog</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/openstack/pricing-calculator">OpenStack pricing</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/openstack/consulting">Private cloud consulting</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/blog/private_cloud_avoiding_operational_costs">Private cloud: Avoiding the high cost of operations</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-public-cloud-tab-content"
               tabindex="-1"
               aria-labelledby="products-public-cloud-tab">
            <div class="row u-no-padding">
              <div class="col-9">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/cloud/public-cloud"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu on public clouds</span>
    <br />
    
      <small>The most popular cloud OS</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/aws"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu on AWS</span>
    <br />
    
      <small>AWS Marketplace</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/azure"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu on Azure</span>
    <br />
    
      <small>Microsoft Azure Marketplace</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/gcp"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu on GCP</span>
    <br />
    
      <small>Google Cloud Marketplace</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/aws/workspaces"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu WorkSpaces</span>
    <br />
    
      <small>Virtual desktops on AWS</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-virtualization-tab-content"
               tabindex="-1"
               aria-labelledby="products-virtualization-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/multipass"
     class="p-navigation__dropdown-item "
     >
    <span>Multipass</span>
    <br />
    
      <small>VMs for Windows, macOS &amp; Linux</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/lxd"
     class="p-navigation__dropdown-item "
     >
    <span>LXD</span>
    <br />
    
      <small>Linux containers and VMs</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/desktop/wsl"
     class="p-navigation__dropdown-item "
     >
    <span>WSL</span>
    <br />
    
      <small>Windows Subsystem for Linux</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://snapcraft.io/blog/what-is-virtualisation-the-basics">What is virtualization?</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://documentation.ubuntu.com/multipass/en/latest">Multipass documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/server/docs/virtualization-multipass">Virtualization docs in the server guide</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://wiki.ubuntu.com/WSL">What is WSL?</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-11-with-gui-support">Install Ubuntu on Windows 11</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-10">Install Ubuntu on Windows 10</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-security-and-support-tab-content"
               tabindex="-1"
               aria-labelledby="products-security-and-support-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/pro"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Pro</span>
    <br />
    
      <small>Security &amp; compliance subscription</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/support"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Pro + support</span>
    <br />
    
      <small>24/7 support for the full-stack</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/security/esm"
     class="p-navigation__dropdown-item "
     >
    <span>ESM</span>
    <br />
    
      <small>10 years of security maintenance</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/landscape"
     class="p-navigation__dropdown-item "
     >
    <span>Landscape</span>
    <br />
    
      <small>Monitor and manage machines</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/security/livepatch"
     class="p-navigation__dropdown-item "
     >
    <span>Livepatch</span>
    <br />
    
      <small>Stay patched without reboots</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/aws/pro"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Pro for AWS</span>
    <br />
    
      <small>Amazon Web Services support</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/azure/pro"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Pro for Azure</span>
    <br />
    
      <small>Microsoft Azure cloud support</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/gcp/pro"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Pro for GCP</span>
    <br />
    
      <small>Google Cloud support</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/security/certifications"
     class="p-navigation__dropdown-item "
     >
    <span>Certifications and hardening</span>
    <br />
    
      <small>CIS, DISA-STIG, FIPS compliance</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/confidential-computing"
     class="p-navigation__dropdown-item "
     >
    <span>Confidential computing</span>
    <br />
    
      <small>Protect your data in use</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/pricing/pro">Ubuntu Pro pricing</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/pricing/consulting">Open infrastructure consulting</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/certified">Certified hardware</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/security/cves">CVE reports</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/security/notices">Ubuntu Security Notices (USN)</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/pro/free-trial">Ubuntu Pro free trial</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/pro/subscribe">Get Ubuntu Pro now</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-kubernetes-tab-content"
               tabindex="-1"
               aria-labelledby="products-kubernetes-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/kubernetes"
     class="p-navigation__dropdown-item "
     >
    <span>Kubernetes</span>
    <br />
    
      <small>Containerized workloads</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://microk8s.io/"
     class="p-navigation__dropdown-item "
     >
    <span>MicroK8s</span>
    <br />
    
      <small>Simplest way to get Kubernetes</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/kubernetes/charmed-k8s"
     class="p-navigation__dropdown-item "
     >
    <span>Charmed Kubernetes</span>
    <br />
    
      <small>Composable K8s for the enterprise</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/ai/what-is-kubeflow"
     class="p-navigation__dropdown-item "
     >
    <span>Kubeflow</span>
    <br />
    
      <small>Machine learning toolkit for K8s</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/kubernetes/docs">Kubernetes documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/kubernetes/docs/quickstart">Getting started with Kubernetes</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/kubernetes/compare">Distributions comparison</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://juju.is/cloud-native-kubernetes-usage-report-2022">Cloud native operations report</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="http://microk8s.io/docs/getting-started">Getting started with MicroK8s</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://charmed-kubeflow.io/docs/install">Kubeflow installation tutorial</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-ai-and-data-tab-content"
               tabindex="-1"
               aria-labelledby="products-ai-and-data-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/ai"
     class="p-navigation__dropdown-item "
     >
    <span>AI/ML</span>
    <br />
    
      <small>AI and machine learning on Ubuntu</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://charmed-kubeflow.io/"
     class="p-navigation__dropdown-item "
     >
    <span>Kubeflow</span>
    <br />
    
      <small>End-to-end MLOps platform</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/ai/mlflow"
     class="p-navigation__dropdown-item "
     >
    <span>MLflow</span>
    <br />
    
      <small>Lightweight ML platform</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/data"
     class="p-navigation__dropdown-item "
     >
    <span>Data solutions</span>
    <br />
    
      <small>Enterprise data management at scale</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/data/kafka"
     class="p-navigation__dropdown-item "
     >
    <span>Kafka</span>
    <br />
    
      <small>Streaming data platform</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/data/spark"
     class="p-navigation__dropdown-item "
     >
    <span>Spark</span>
    <br />
    
      <small>Big data processing</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/data/mongodb"
     class="p-navigation__dropdown-item "
     >
    <span>MongoDB</span>
    <br />
    
      <small>NoSQL database management</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/data/postgresql"
     class="p-navigation__dropdown-item "
     >
    <span>PostgreSQL</span>
    <br />
    
      <small>Relational database management</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/data/mysql"
     class="p-navigation__dropdown-item "
     >
    <span>MySQL</span>
    <br />
    
      <small>Relational database management</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/data/opensearch"
     class="p-navigation__dropdown-item "
     >
    <span>OpenSearch</span>
    <br />
    
      <small>Search and analytics suite</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://charmed-kubeflow.io/docs">Kubeflow documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://documentation.ubuntu.com/charmed-mlflow/en/latest/">MLflow documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/data/docs">Data documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/engage/mlops-toolkit/">MLOps toolkit</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/engage/open-source-big-data-ai">Guide to big data and AI</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-certified-hardware-tab-content"
               tabindex="-1"
               aria-labelledby="products-certified-hardware-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/certified"
     class="p-navigation__dropdown-item "
     >
    <span>Certified hardware</span>
    <br />
    
      <small>Ubuntu hardware you can trust</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/certified?q=&amp;limit=20&amp;category=Laptop&amp;category=Desktop"
     class="p-navigation__dropdown-item "
     >
    <span>PC and laptops</span>
    <br />
    
      <small>Certified for Ubuntu</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/certified/servers"
     class="p-navigation__dropdown-item "
     >
    <span>Servers</span>
    <br />
    
      <small>Hardware for data centers</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/certified/devices"
     class="p-navigation__dropdown-item "
     >
    <span>IoT devices</span>
    <br />
    
      <small>Stable and secure devices</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/certified/socs"
     class="p-navigation__dropdown-item "
     >
    <span>SoCs</span>
    <br />
    
      <small>System on a Chip hardware</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/certified?q=&amp;limit=20&amp;vendor=Raspberry+Pi+Foundation"
     class="p-navigation__dropdown-item "
     >
    <span>Raspberry Pi</span>
    <br />
    
      <small>Certified Pi devices</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/certified/why-certified">Why use Certified devices?</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/partners/become-a-partner">Certify your device</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://www.brighttalk.com/webcast/6793/497538">Why certification matters for AIoT</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://www.brighttalk.com/webcast/6793/514263">Industrial Pi use cases webinar</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/blog/why-you-should-buy-a-pre-installed-ubuntu-workstation">Why buy a preinstalled workstation?</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-iot-and-edge-tab-content"
               tabindex="-1"
               aria-labelledby="products-iot-and-edge-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/core"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Core</span>
    <br />
    
      <small>Embedded Linux</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/internet-of-things/appstore"
     class="p-navigation__dropdown-item "
     >
    <span>IoT App Store</span>
    <br />
    
      <small>Private app store for Linux and IoT</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/internet-of-things/management"
     class="p-navigation__dropdown-item "
     >
    <span>Device management</span>
    <br />
    
      <small>Manage fleets of IoT devices</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/certified/devices"
     class="p-navigation__dropdown-item "
     >
    <span>Certified devices</span>
    <br />
    
      <small>Hardware/OS compatibility</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://mir-server.io/ubuntu-frame"
     class="p-navigation__dropdown-item "
     >
    <span>Ubuntu Frame</span>
    <br />
    
      <small>Embedded graphical displays</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://ubuntu.com/robotics/ros-esm"
     class="p-navigation__dropdown-item "
     >
    <span>ROS ESM</span>
    <br />
    
      <small>Expanded security for robots</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/real-time"
     class="p-navigation__dropdown-item "
     >
    <span>Real-time Ubuntu</span>
    <br />
    
      <small>Low-latency kernel</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/core/services"
     class="p-navigation__dropdown-item "
     >
    <span>IoT Professional Services</span>
    <br />
    
      <small>Bring IoT devices to market</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/kernel"
     class="p-navigation__dropdown-item "
     >
    <span>Kernel</span>
    <br />
    
      <small>Ubuntu kernel on certified hardware</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/engage/a-practical-guide-to-iot-lifecycle-management">Guide to IoT lifecycle management</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/blog/canonical-joins-the-connectivity-standards-alliance">Canonical joins the CSA</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/engage/robot-operating-system-choice">Pick the OS for your robots</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/engage/embedded-linux-make-or-buy">Embedded Linux: make or buy?</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/download/raspberry-pi-core">Try Ubuntu Core on Raspberry Pi</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/engage/bridge-the-IT-OT-gap-Industry4">Industry 4.0 webinar</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
          <div class="p-navigation__content-panel js-content-panel"
               hidden="true"
               id="products-developer-tools-tab-content"
               tabindex="-1"
               aria-labelledby="products-developer-tools-tab">
            <div class="row u-no-padding">
              <div class="col-6">
                
                
                  <div class="p-navigation__main-links">
  
  <div class="row u-no-padding">
    
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://snapcraft.io/about"
     class="p-navigation__dropdown-item "
     >
    <span>Snaps</span>
    <br />
    
      <small>Containerized applications for Linux</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://snapcraft.io/build"
     class="p-navigation__dropdown-item "
     >
    <span>Snapcraft</span>
    <br />
    
      <small>Build and publish your snaps</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://snapcraft.io/"
     class="p-navigation__dropdown-item "
     >
    <span>Snap Store</span>
    <br />
    
      <small>App store for Linux</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://ubuntu.com/containers/chiselled"
     class="p-navigation__dropdown-item "
     >
    <span>Chiselled Ubuntu</span>
    <br />
    
      <small>Ultra-small containerization</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-4">
        <ul class="p-list">
          
            
              <li>
  <a href="https://juju.is/"
     class="p-navigation__dropdown-item "
     >
    <span>Juju</span>
    <br />
    
      <small>Orchestrator engine for operators</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://charmhub.io/"
     class="p-navigation__dropdown-item "
     >
    <span>Charmhub</span>
    <br />
    
      <small>Software operators collection</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://jaas.ai/"
     class="p-navigation__dropdown-item "
     >
    <span>JAAS</span>
    <br />
    
      <small>Auditing and compliance for Juju</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://snapcraft.io/docs">Snap documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://ubuntu.com/tutorials/create-your-first-snap">Create your first snap</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://juju.is/docs">Juju documentation</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://juju.is/docs/juju/tutorial">Getting started with Juju</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://juju.is/docs/sdk/from-zero-to-hero-write-your-first-kubernetes-charm">Write your first charm</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
            
          </div>
        
      </div>
    
  </div>
</div>
  
</div>
        </li>
        <li class="p-navigation__item--dropdown-toggle"
            role="menuitem"
            id="solutions-nav">
          <a class="p-navigation__link js-dropdown-button"
             href="#"
             aria-controls="solutions-content"
             tabindex="0"
             data-level="0">Solutions</a>
             <div class="p-navigation__dropdown is-full-width is-collapsed"
     data-level="1"
     id="solutions-content"
     aria-hidden="true">
  
    <div class="p-navigation__dropdown-content--sliding">
  <ul class="p-list u-no-margin js-dropdown-list">
    <li class="p-navigation__item--dropdown-close" id="solutions-content-back">
      <a class="p-navigation__link js-back-button js-focus-target"
         aria-controls="solutions-content"
         href="#solutions-content-back"
         data-level="1">Back</a>
    </li>
    

    
      <li class="p-navigation--cta">
        <span class="p-navigation__dropdown-item">
          
            <a href="https://canonical.com/solutions" data-level="1" class="js-focus-target">Explore our solutions&nbsp;&rsaquo;</a>
          
        </span>
      </li>
    

    
      
        
          
            <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="1">Categories</h2>
</li>
          
        
        
          
            <li>
  <a href="https://canonical.com/solutions/ai"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>AI</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/data"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Data</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/ubuntu-os"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Ubuntu OS</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/infrastructure"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Infrastructure</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://ubuntu.com/managed"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Managed IT services</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/open-source-security"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Open source security</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/iot-and-devices"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>IoT and devices</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/observability"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Observability</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/cloud-native-development"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Cloud-native apps</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/automation"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Automation</span>
    <br />
    
  </a>
</li>
          
        
      
        
          
            <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="1">Industries</h2>
</li>
          
        
        
          
            <li>
  <a href="https://canonical.com/solutions/automotive"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Automotive</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/financial-services"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Financial services</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/industrial"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Industrial</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/public-sector"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Public sector</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/solutions/telco"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Telco</span>
    <br />
    
  </a>
</li>
          
        
      
    

    
      
        <li class="p-navigation--list-heading">
          <span class="p-navigation__dropdown-item">
            <h2 class="p-text--small-caps u-no-margin"
                >
              <a href="https://canonical.com/case-study" class="js-focus-target">Case studies&nbsp;&rsaquo;</a>
            </h2>
          </span>
        </li>
      
    
  </ul>
</div>
    <div class="p-navigation__dropdown-content--full-width js-dropdown-window"
     id="solutions">
  <div class="row--25-75">
    
      <div class="p-navigation__content-panel--full-width">
        <div class="p-strip">
          
            <p class="p-navigation--cta">
              <a href="https://canonical.com/solutions">Explore our solutions&nbsp;&rsaquo;</a>
            </p>
          
        </div>
        <div class="p-section--shallow">
          <hr class="p-rule--muted" />
          
            <div class="row u-no-padding">
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Categories</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/ai">AI</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/data">Data</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/ubuntu-os">Ubuntu OS</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/infrastructure">Infrastructure</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://ubuntu.com/managed">Managed IT services</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/open-source-security">Open source security</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/iot-and-devices">IoT and devices</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/observability">Observability</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/cloud-native-development">Cloud-native apps</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/automation">Automation</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Industries</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/automotive">Automotive</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/financial-services">Financial services</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/industrial">Industrial</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/public-sector">Public sector</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/solutions/telco">Telco</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
              
                <div class="col-6">
                  
                    <div class="p-navigation__preview-links">
  
    <h2 class="p-navigation--list-heading p-text--small-caps">
      <a href="https://canonical.com/case-study">Case studies&nbsp;&rsaquo;</a>
    </h2>
  
  <div class="row u-no-padding">
    
      <div class="col-2">
        <a class="p-link--inverted p-navigation__preview-link"
           href="https://canonical.com/case-study/sbi-bits">
          <div class="p-navigation__preview-link--image">
            <img src="https://assets.ubuntu.com/v1/e12c8c8c-SBI BITS.jpg" alt="" loading="lazy" />
          </div>
          <p class="p-navigation__preview-link--description">SBI BITS puts business continuity at the heart of its OpenStack migration.</p>
        </a>
      </div>
    
      <div class="col-2">
        <a class="p-link--inverted p-navigation__preview-link"
           href="https://canonical.com/case-study/episensor">
          <div class="p-navigation__preview-link--image">
            <img src="https://assets.ubuntu.com/v1/c176b95f-EpiSensor.jpg" alt="" loading="lazy" />
          </div>
          <p class="p-navigation__preview-link--description">EpiSensor accelerates the sustainable energy transition with Ubuntu Core.</p>
        </a>
      </div>
    
      <div class="col-2">
        <a class="p-link--inverted p-navigation__preview-link"
           href="https://canonical.com/case-study/esa">
          <div class="p-navigation__preview-link--image">
            <img src="https://assets.ubuntu.com/v1/7efb7d42-ESA.jpg" alt="" loading="lazy" />
          </div>
          <p class="p-navigation__preview-link--description">Canonical deploys infrastructure solutions for ESA&#39;s space mission operations.</p>
        </a>
      </div>
    
  </div>
</div>
                  
                </div>
              
            </div>
          
        </div>
      </div>
    
  </div>
</div>
  
</div>
        </li>
        <li class="p-navigation__item--dropdown-toggle"
            role="menuitem"
            id="partners-nav">
          <a class="p-navigation__link js-dropdown-button"
             href="#"
             aria-controls="partners-content"
             tabindex="0"
             data-level="0">Partners</a>
             <div class="p-navigation__dropdown is-full-width is-collapsed"
     data-level="1"
     id="partners-content"
     aria-hidden="true">
  
    <div class="p-navigation__dropdown-content--sliding">
  <ul class="p-list u-no-margin js-dropdown-list">
    <li class="p-navigation__item--dropdown-close" id="partners-content-back">
      <a class="p-navigation__link js-back-button js-focus-target"
         aria-controls="partners-content"
         href="#partners-content-back"
         data-level="1">Back</a>
    </li>
    

    
      <li class="p-navigation--cta">
        <span class="p-navigation__dropdown-item">
          
            <a href="https://canonical.com/partners" data-level="1" class="js-focus-target">Explore our partners&nbsp;&rsaquo;</a>
          
        </span>
      </li>
    

    
      
        
          <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="1">Partner programs</h2>
</li>
        
      
      
        
          <li>
  <a href="https://canonical.com/partners/desktop"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Desktop</span>
    <br />
    
      <small>Desktop, laptops and workstations</small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/partners/channel-and-reseller"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Channel/reseller</span>
    <br />
    
      <small>Partners on every continent</small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/partners/iot-device"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>IoT devices</span>
    <br />
    
      <small>Robots, edge, development boards</small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/partners/ihv-and-oem"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>IHV/OEM</span>
    <br />
    
      <small>Data centres</small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/partners/isv-partners"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>ISVs</span>
    <br />
    
      <small>Independent Software Vendors</small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/partners/gsi"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>GSIs</span>
    <br />
    
      <small>Global Systems Integrators</small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/partners/public-cloud"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Public cloud</span>
    <br />
    
      <small>Ubuntu optimized for the cloud</small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/partners/silicon"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Silicon</span>
    <br />
    
      <small>CPUs, boards and SoCs</small>
    
  </a>
</li>
        
      
    

    
      
        
          <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="1">Quick links</h2>
</li>
        
      
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://canonical.com/partners/find-a-partner" data-level="1" class="js-focus-target">Find a partner</a>
          </span>
        </li>
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://canonical.com/partners/become-a-partner" data-level="1" class="js-focus-target">Become a partner</a>
          </span>
        </li>
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://www.partner.canonical.com/#/page/login" data-level="1" class="js-focus-target">Log in to the partner portal</a>
          </span>
        </li>
      
    
  </ul>
</div>
    <div class="p-navigation__dropdown-content--full-width js-dropdown-window"
     id="partners">
  <div class="row--25-75">
    
      <div class="p-navigation__content-panel--full-width">
        <div class="p-strip">
          
            <p class="p-navigation--cta">
              <a href="https://canonical.com/partners">Explore our partners&nbsp;&rsaquo;</a>
            </p>
          
        </div>
        <div class="p-section--shallow">
          <hr class="p-rule--muted" />
          
            <div class="row u-no-padding">
              <div class="col-9">
                
                  <div class="p-navigation__main-links">
  
    <h2 class="p-navigation--list-heading p-text--small-caps">Partner programs</h2>
  
  <div class="row u-no-padding">
    
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/partners/desktop"
     class="p-navigation__dropdown-item "
     >
    <span>Desktop</span>
    <br />
    
      <small>Desktop, laptops and workstations</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/partners/channel-and-reseller"
     class="p-navigation__dropdown-item "
     >
    <span>Channel/reseller</span>
    <br />
    
      <small>Partners on every continent</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/partners/iot-device"
     class="p-navigation__dropdown-item "
     >
    <span>IoT devices</span>
    <br />
    
      <small>Robots, edge, development boards</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/partners/ihv-and-oem"
     class="p-navigation__dropdown-item "
     >
    <span>IHV/OEM</span>
    <br />
    
      <small>Data centres</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/partners/isv-partners"
     class="p-navigation__dropdown-item "
     >
    <span>ISVs</span>
    <br />
    
      <small>Independent Software Vendors</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/partners/gsi"
     class="p-navigation__dropdown-item "
     >
    <span>GSIs</span>
    <br />
    
      <small>Global Systems Integrators</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/partners/public-cloud"
     class="p-navigation__dropdown-item "
     >
    <span>Public cloud</span>
    <br />
    
      <small>Ubuntu optimized for the cloud</small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/partners/silicon"
     class="p-navigation__dropdown-item "
     >
    <span>Silicon</span>
    <br />
    
      <small>CPUs, boards and SoCs</small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Quick links</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/partners/find-a-partner">Find a partner</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/partners/become-a-partner">Become a partner</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://www.partner.canonical.com/#/page/login">Log in to the partner portal</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
          
        </div>
      </div>
    
  </div>
</div>
  
</div>
        </li>
        <li class="p-navigation__item--dropdown-toggle"
            role="menuitem"
            id="careers-nav">
          <a class="p-navigation__link js-dropdown-button"
             href="#"
             aria-controls="careers-content"
             tabindex="0"
             data-level="0">Careers</a>
             <div class="p-navigation__dropdown is-full-width is-collapsed"
     data-level="1"
     id="careers-content"
     aria-hidden="true">
  
    <div class="p-navigation__dropdown-content--sliding">
  <ul class="p-list u-no-margin js-dropdown-list">
    <li class="p-navigation__item--dropdown-close" id="careers-content-back">
      <a class="p-navigation__link js-back-button js-focus-target"
         aria-controls="careers-content"
         href="#careers-content-back"
         data-level="1">Back</a>
    </li>
    

    
      <li class="p-navigation--cta">
        <span class="p-navigation__dropdown-item">
          
            <a href="https://canonical.com/careers" data-level="1" class="js-focus-target">Roles by department&nbsp;&rsaquo;</a>
          
        </span>
      </li>
    

    
      
        
          <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="1">Roles by department</h2>
</li>
        
      
      
        
          <li>
  <a href="https://canonical.com/careers/engineering"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Engineering</span>
    <br />
    
      <small class="js-available-roles" data-id="engineering"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/support-engineering"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Support Engineering</span>
    <br />
    
      <small class="js-available-roles" data-id="support-engineering"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/marketing"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Marketing</span>
    <br />
    
      <small class="js-available-roles" data-id="marketing"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/web-and-design"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Web and Design</span>
    <br />
    
      <small class="js-available-roles" data-id="web-and-design"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/alliances-and-channels"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Alliances and Channels</span>
    <br />
    
      <small class="js-available-roles" data-id="alliances-and-channels"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/project-management"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Project management</span>
    <br />
    
      <small class="js-available-roles" data-id="project-management"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/commercial-operations"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Commercial Operations</span>
    <br />
    
      <small class="js-available-roles" data-id="commercial-operations"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/product"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Product</span>
    <br />
    
      <small class="js-available-roles" data-id="product"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/sales"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Sales</span>
    <br />
    
      <small class="js-available-roles" data-id="sales"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/finance"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Finance</span>
    <br />
    
      <small class="js-available-roles" data-id="finance"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/legal"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Legal</span>
    <br />
    
      <small class="js-available-roles" data-id="legal"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/administration"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Administration</span>
    <br />
    
      <small class="js-available-roles" data-id="administration"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
        
          <li>
  <a href="https://canonical.com/careers/people"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>People</span>
    <br />
    
      <small class="js-available-roles" data-id="people"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
        
      
    

    
      
        
          <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="1">Working here</h2>
</li>
        
      
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://canonical.com/careers/hiring-process" data-level="1" class="js-focus-target">Hiring process</a>
          </span>
        </li>
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://canonical.com/careers/company-culture" data-level="1" class="js-focus-target">Company culture</a>
          </span>
        </li>
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://canonical.com/careers/company-culture/remote-work" data-level="1" class="js-focus-target">Remote work</a>
          </span>
        </li>
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://canonical.com/careers/company-culture/progression" data-level="1" class="js-focus-target">Progression</a>
          </span>
        </li>
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://canonical.com/careers/company-culture/diversity" data-level="1" class="js-focus-target">Diversity</a>
          </span>
        </li>
      
        <li class="p-navigation--list-link">
          <span class="p-navigation__dropdown-item">
            <a href="https://canonical.com/careers/company-culture/sustainability" data-level="1" class="js-focus-target">Sustainability</a>
          </span>
        </li>
      
    
  </ul>
</div>
    <div class="p-navigation__dropdown-content--full-width js-dropdown-window"
     id="careers">
  <div class="row--25-75">
    
      <div class="p-navigation__content-panel--full-width">
        <div class="p-strip">
          
            <p class="p-navigation--cta">
              <a href="https://canonical.com/careers">Roles by department&nbsp;&rsaquo;</a>
            </p>
          
        </div>
        <div class="p-section--shallow">
          <hr class="p-rule--muted" />
          
            <div class="row u-no-padding">
              <div class="col-9">
                
                  <div class="p-navigation__main-links">
  
    <h2 class="p-navigation--list-heading p-text--small-caps">Roles by department</h2>
  
  <div class="row u-no-padding">
    
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/careers/engineering"
     class="p-navigation__dropdown-item "
     >
    <span>Engineering</span>
    <br />
    
      <small class="js-available-roles" data-id="engineering"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/support-engineering"
     class="p-navigation__dropdown-item "
     >
    <span>Support Engineering</span>
    <br />
    
      <small class="js-available-roles" data-id="support-engineering"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/marketing"
     class="p-navigation__dropdown-item "
     >
    <span>Marketing</span>
    <br />
    
      <small class="js-available-roles" data-id="marketing"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/web-and-design"
     class="p-navigation__dropdown-item "
     >
    <span>Web and Design</span>
    <br />
    
      <small class="js-available-roles" data-id="web-and-design"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/alliances-and-channels"
     class="p-navigation__dropdown-item "
     >
    <span>Alliances and Channels</span>
    <br />
    
      <small class="js-available-roles" data-id="alliances-and-channels"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/careers/project-management"
     class="p-navigation__dropdown-item "
     >
    <span>Project management</span>
    <br />
    
      <small class="js-available-roles" data-id="project-management"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/commercial-operations"
     class="p-navigation__dropdown-item "
     >
    <span>Commercial Operations</span>
    <br />
    
      <small class="js-available-roles" data-id="commercial-operations"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/product"
     class="p-navigation__dropdown-item "
     >
    <span>Product</span>
    <br />
    
      <small class="js-available-roles" data-id="product"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/sales"
     class="p-navigation__dropdown-item "
     >
    <span>Sales</span>
    <br />
    
      <small class="js-available-roles" data-id="sales"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
      <div class="col-3">
        <ul class="p-list">
          
            
              <li>
  <a href="https://canonical.com/careers/finance"
     class="p-navigation__dropdown-item "
     >
    <span>Finance</span>
    <br />
    
      <small class="js-available-roles" data-id="finance"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/legal"
     class="p-navigation__dropdown-item "
     >
    <span>Legal</span>
    <br />
    
      <small class="js-available-roles" data-id="legal"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/administration"
     class="p-navigation__dropdown-item "
     >
    <span>Administration</span>
    <br />
    
      <small class="js-available-roles" data-id="administration"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
            
              <li>
  <a href="https://canonical.com/careers/people"
     class="p-navigation__dropdown-item "
     >
    <span>People</span>
    <br />
    
      <small class="js-available-roles" data-id="people"><i class="p-icon--spinner u-animation--spin"></i></small>
    
  </a>
</li>
            
          
        </ul>
      </div>
    
  </div>
</div>
                
              </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Working here</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/careers/hiring-process">Hiring process</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/careers/company-culture">Company culture</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/careers/company-culture/remote-work">Remote work</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/careers/company-culture/progression">Progression</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/careers/company-culture/diversity">Diversity</a>
      </li>
    
      <li class="p-list__item">
        <a 
           href="https://canonical.com/careers/company-culture/sustainability">Sustainability</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
            </div>
          
        </div>
      </div>
    
  </div>
</div>
  
</div>
        </li>
        <li class="p-navigation__item--dropdown-toggle"
            role="menuitem"
            id="company-nav">
          <a class="p-navigation__link js-dropdown-button"
             href="#"
             aria-controls="company-content"
             tabindex="0"
             data-level="0">Company</a>
             <div class="p-navigation__dropdown is-full-width is-collapsed"
     data-level="1"
     id="company-content"
     aria-hidden="true">
  
    <div class="p-navigation__dropdown-content--sliding">
  <ul class="p-list u-no-margin js-dropdown-list">
    <li class="p-navigation__item--dropdown-close" id="company-content-back">
      <a class="p-navigation__link js-back-button js-focus-target"
         aria-controls="company-content"
         href="#company-content-back"
         data-level="1">Back</a>
    </li>
    

    
      <li class="p-navigation--cta">
        <span class="p-navigation__dropdown-item">
          
            <a href="https://canonical.com/company" data-level="1" class="js-focus-target">Get to know us&nbsp;&rsaquo;</a>
          
        </span>
      </li>
    

    
      
        
          
            <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="1">Explore Canonical</h2>
</li>
          
        
        
          
            <li>
  <a href="https://canonical.com/documentation"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Documentation practice</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/projects"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Open source projects</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://ubuntu.com/summit"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Ubuntu Summit</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://trust.canonical.com/"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Company Trust Center</span>
    <br />
    
  </a>
</li>
          
        
      
        
          
            <li class="p-navigation--list-heading">
  <h2 class="p-navigation__dropdown-item p-text--small-caps u-no-margin js-focus-target"
      data-level="1">Latest updates</h2>
</li>
          
        
        
          
            <li>
  <a href="https://canonical.com/blog"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Blog</span>
    <br />
    
  </a>
</li>
          
        
          
            <li>
  <a href="https://canonical.com/press-centre"
     class="p-navigation__dropdown-item js-focus-target"
     data-level="1">
    <span>Press Centre</span>
    <br />
    
  </a>
</li>
          
        
      
    

    
      
        <li class="p-navigation--list-heading">
          <span class="p-navigation__dropdown-item">
            <h2 class="p-text--small-caps u-no-margin"
                >
              <a href="https://canonical.com/blog" class="js-focus-target">Company highlights&nbsp;&rsaquo;</a>
            </h2>
          </span>
        </li>
      
    
  </ul>
</div>
    <div class="p-navigation__dropdown-content--full-width js-dropdown-window"
     id="company">
  <div class="row--25-75">
    
      <div class="p-navigation__content-panel--full-width">
        <div class="p-strip">
          
            <p class="p-navigation--cta">
              <a href="https://canonical.com/company">Get to know us&nbsp;&rsaquo;</a>
            </p>
          
        </div>
        <div class="p-section--shallow">
          <hr class="p-rule--muted" />
          
            <div class="row u-no-padding">
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Explore Canonical</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/documentation">Documentation practice</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/projects">Open source projects</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://ubuntu.com/summit">Ubuntu Summit</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://trust.canonical.com/">Company Trust Center</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
                <div class="col-3">
                  
                    <div class="p-navigation__link-list">
  
    <h2 class="p-navigation--list-heading p-text--small-caps u-no-padding">Latest updates</h2>
  
  <ul class="p-list">
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/blog">Blog</a>
      </li>
    
      <li class="p-list__item">
        <a class="p-link--inverted"
           href="https://canonical.com/press-centre">Press Centre</a>
      </li>
    
  </ul>
</div>
                  
                </div>
              
              
                <div class="col-6">
                  
                    <div class="p-navigation__preview-links">
  
    <h2 class="p-navigation--list-heading p-text--small-caps">
      <a href="https://canonical.com/blog">Company highlights&nbsp;&rsaquo;</a>
    </h2>
  
  <div class="row u-no-padding">
    
      <div class="col-2">
        <a class="p-link--inverted p-navigation__preview-link"
           href="https://canonical.com/blog/canonical-offers-12-year-lts-for-any-open-source-docker-image">
          <div class="p-navigation__preview-link--image">
            <img src="https://assets.ubuntu.com/v1/8f5a6839-Shield.png" alt="" loading="lazy" />
          </div>
          <p class="p-navigation__preview-link--description">Canonical offers 12 year LTS for any open source Docker image.</p>
        </a>
      </div>
    
      <div class="col-2">
        <a class="p-link--inverted p-navigation__preview-link"
           href="https://canonical.com/blog/bt-group-and-canonical-deliver-5g-to-uk-stadiums">
          <div class="p-navigation__preview-link--image">
            <img src="https://assets.ubuntu.com/v1/fe25c9e1-BT-5G.png" alt="" loading="lazy" />
          </div>
          <p class="p-navigation__preview-link--description">BT Group and Canonical deliver 5G to UK stadiums.</p>
        </a>
      </div>
    
      <div class="col-2">
        <a class="p-link--inverted p-navigation__preview-link"
           href="https://ubuntu.com/blog/canonical-releases-ubuntu-24-04-noble-numbat">
          <div class="p-navigation__preview-link--image">
            <img src="https://assets.ubuntu.com/v1/697f9812-Noble-Numbat-V2-@3x.png" alt="" loading="lazy" />
          </div>
          <p class="p-navigation__preview-link--description">Canonical releases Ubuntu 24.04 LTS Noble Numbat.</p>
        </a>
      </div>
    
  </div>
</div>
                  
                </div>
              
            </div>
          
        </div>
      </div>
    
  </div>
</div>
  
</div>
        </li>
        <li class="p-navigation__item is-right-shifted">
          <a href="#"
             class="js-search-button p-navigation__link--search-toggle"
             aria-label="Toggle search"></a>
        </li>
      </ul>
      <div class="p-navigation__search">
        <form action="https://canonical.com/search" class="p-search-box">
        <label for="navigation-search" class="u-off-screen">Search</label>
          <input type="search"
                  id="navigation-search"
                  class="p-search-box__input"
                  name="q"
                  placeholder="Search our sites"
                  required
                  aria-label="Search our sites" />
          <button type="reset" class="p-search-box__reset js-search-button">
            <i class="p-icon--close"></i>
          </button>
          <button type="submit" class="p-search-box__button js-search-button no-loader">
            <i class="p-icon--search"></i>
          </button>
        </form>
      </div>
    </nav>
  </div>
  <div class="js-search-overlay p-navigation__search-overlay"></div>
</header>


  <div id="secondary-navigation"
     class="p-navigation is-sticky is-secondary is-dark">
  <div class="p-navigation__row--25-75">
    <div class="p-navigation__banner">
      <div class="p-navigation__tagged-logo">
        <a class="p-navigation__link" href="https://canonical.com/maas">
          <div class="p-navigation__logo-tag">
            <img class="p-navigation__logo-icon"
                 src="https://assets.ubuntu.com/v1/82818827-CoF_white.svg"
                 alt="" />
          </div>
          <span class="p-navigation__logo-title">MAAS</span>
        </a>
      </div>
      
        <ul class="p-navigation__items">
          <li class="p-navigation__item">
            <button class="js-secondary-menu-toggle-button p-navigation__link--menu-toggle"
                    aria-controls="secondary-navigation"
                    title="Toggle navigation"
                    aria-label="Toggle navigation"></button>
          </li>
        </ul>
      
    </div>
    <nav class="p-navigation__nav"
         aria-label="MAAS">
      
        <ul class="p-navigation__items">
          
            
          
            
              <li class="p-navigation__item ">
                <a class="p-navigation__link"
                   href="../how-it-works.html"
                   >How it works</a>
              </li>
            
          
            
              <li class="p-navigation__item ">
                <a class="p-navigation__link"
                   href="how-to-get-maas-up-and-running.html"
                   >Install</a>
              </li>
            
          
            
              <li class="p-navigation__item ">
                <a class="p-navigation__link"
                   href="../docs.html"
                   >Docs</a>
              </li>
            
          
            
              <li class="p-navigation__item ">
                <a class="p-navigation__link"
                   href="../tour.html"
                   >Features</a>
              </li>
            
          
            
              <li class="p-navigation__item ">
                <a class="p-navigation__link"
                   href="../tutorials.html"
                   >Tutorials</a>
              </li>
            
          
            
              <li class="p-navigation__item ">
                <a class="p-navigation__link"
                   href="../blog.html"
                   >Blog</a>
              </li>
            
          
            
              <li class="p-navigation__item ">
                <a class="p-navigation__link"
                   href="https://discourse.maas.io/"
                   >Forum</a>
              </li>
            
          
        </ul>
        
      
    </nav>
  </div>
</div>


          <div id="main-content">

            

  
    
      
<div class="p-strip is-shallow">
	<div class="u-fixed-width">
		<form class="p-search-box u-no-margin--bottom" action="https://canonical.com/maas/docs/search">
		<input class="p-search-box__input" name="q" id="search-input" type="search"  placeholder="Search MAAS docs" required/>
		
			<input name="siteSearch" type="hidden" value="/maas/docs" />
		
		<button type="submit" alt="search" class="p-search-box__button" alt="search"><i class="p-icon--search">Submit</i></button>
		</form>
	</div>
</div>
    
  
  <div class="p-strip is-shallow">
    <div class="row">
      <aside class="col-3">
        

        <nav class="p-side-navigation--raw-html" id="drawer">
          <a href="#drawer"
             class="p-side-navigation__toggle js-drawer-toggle"
             aria-controls="drawer">Toggle side navigation</a>
          <div class="p-side-navigation__overlay js-drawer-toggle"
               aria-controls="drawer"></div>
          <div class="p-side-navigation__drawer">
            <div class="p-side-navigation__drawer-header">
              <a href="#"
                 class="p-side-navigation__toggle--in-drawer js-drawer-toggle"
                 aria-controls="drawer">Toggle side navigation</a>
            </div>
            
              
                
                  
                    <h3 class="p-side-navigation__heading--linked u-no-padding--left"
                        data-level="0">
                      <a class="p-side-navigation__link"
                         href="../docs.html"
                         >Home</a>
                    </h3>
                  
                
                
  <ul class="p-side-navigation__list">
    
  </ul>

              
            
              
                
                
  <ul class="p-side-navigation__list">
    
      <li class="p-side-navigation__item">
        
          <a href="maas-in-thirty-minutes.html"
             class="p-side-navigation__link "
             
             >
            Tutorial
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-guides.html"
             class="p-side-navigation__link is-expandable"
             aria-expanded="false"
             
             >
            How-to guides
          </a>
        

        
          
            <button class="p-side-navigation__expand"
                    aria-expanded="
                    "
                    false
                    "
                    
                    aria-label="show submenu for How-to guides"></button>
          
          
  <ul class="p-side-navigation__list">
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-get-maas-up-and-running.html"
             class="p-side-navigation__link "
             
             >
            Get MAAS up and running
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-back-up-maas.html"
             class="p-side-navigation__link "
             
             >
            Back up MAAS
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-manage-networks.html"
             class="p-side-navigation__link "
             
             >
            Manage networks
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-manage-network-services.html"
             class="p-side-navigation__link "
             
             >
            Manage network services
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-manage-machines.html"
             class="p-side-navigation__link "
             
             >
            Manage machines
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-manage-machine-groups.html"
             class="p-side-navigation__link "
             
             >
            Manage machine groups
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-manage-images.html"
             class="p-side-navigation__link "
             
             >
            Manage images
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-build-ubuntu-images.html"
             class="p-side-navigation__link "
             
             >
            Build Ubuntu images
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-build-custom-images.html"
             class="p-side-navigation__link "
             
             >
            Build custom images
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-manage-high-availability.html"
             class="p-side-navigation__link "
             
             >
            Manage high-availability
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-use-logging.html"
             class="p-side-navigation__link "
             
             >
            Use logging
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-monitor-maas.html"
             class="p-side-navigation__link "
             
             >
            Monitor MAAS
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-enhance-maas-security.html"
             class="p-side-navigation__link "
             
             >
            Enhance MAAS security
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-deploy-a-real-time-kernel.html"
             class="p-side-navigation__link "
             
             >
            Deploy a real-time kernel
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-deploy-a-fips-compliant-kernel.html"
             class="p-side-navigation__link "
             
             >
            Deploy a FIPS kernel
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-set-up-air-gapped-maas.html"
             class="p-side-navigation__link "
             
             >
            Set up air-gapped MAAS
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-script-maas-with-python.html"
             class="p-side-navigation__link "
             
             >
            Script MAAS with Python
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-deploy-vms-on-ibm-z.html"
             class="p-side-navigation__link "
             
             >
            Deploy VMs on IBM Z
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="reference.html"
             class="p-side-navigation__link is-expandable"
             aria-expanded="false"
             
             >
            Reference
          </a>
        

        
          
            <button class="p-side-navigation__expand"
                    aria-expanded=""
                    "
                    true
                    "
                    
                    aria-label="show submenu for Reference"></button>
          
          
  <ul class="p-side-navigation__list">
    
      <li class="p-side-navigation__item">
        
          <a href="release-notes-and-upgrade-instructions.html"
             class="p-side-navigation__link "
             
             >
            Release notes
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="supported-maas-versions.html"
             class="p-side-navigation__link "
             
             >
            Supported MAAS versions
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <strong class="p-side-navigation__text is-expandable"
                  aria-expanded="true"
                  
                  >API reference</strong>
        

        
          
            <button class="p-side-navigation__expand"
                    aria-expanded="
                    "
                    false
                    "
                    
                    aria-label="show submenu for API reference"></button>
          
          
  <ul class="p-side-navigation__list">
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-authenticate-to-the-maas-api.html"
             class="p-side-navigation__link "
             
             >
            API login
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="profile.html"
             class="p-side-navigation__link "
             
             >
            API profile
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="api.html"
             class="p-side-navigation__link "
             
             >
            API reference
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <strong class="p-side-navigation__text is-expandable"
                  aria-expanded="true"
                  
                  >CLI reference</strong>
        

        
          
            <button class="p-side-navigation__expand"
                    aria-expanded="
                    "
                    false
                    "
                    
                    aria-label="show submenu for CLI reference"></button>
          
          
  <ul class="p-side-navigation__list">
    
      <li class="p-side-navigation__item">
        
          <a href="account.html"
             class="p-side-navigation__link "
             
             >
            account
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="apikey.html"
             class="p-side-navigation__link "
             
             >
            apikey
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="bcache.html"
             class="p-side-navigation__link "
             
             >
            bcache
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="bcache-cache-set.html"
             class="p-side-navigation__link "
             
             >
            bcache-cache-set
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="block-device.html"
             class="p-side-navigation__link "
             
             >
            block-device
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="boot-resource.html"
             class="p-side-navigation__link "
             
             >
            boot-resource
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="boot-source-selection.html"
             class="p-side-navigation__link "
             
             >
            boot-source-selection
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="boot-source.html"
             class="p-side-navigation__link "
             
             >
            boot-source
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="changepassword.html"
             class="p-side-navigation__link "
             
             >
            changepassword
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="commissioning-scripts.html"
             class="p-side-navigation__link "
             
             >
            commissioning-scripts
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="configauth.html"
             class="p-side-navigation__link "
             
             >
            configauth
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="config.html"
             class="p-side-navigation__link "
             
             >
            config
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="config-tls.html"
             class="p-side-navigation__link "
             
             >
            config-tls
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="config-vault.html"
             class="p-side-navigation__link "
             
             >
            config-vault
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="createadmin.html"
             class="p-side-navigation__link "
             
             >
            createadmin
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="device.html"
             class="p-side-navigation__link "
             
             >
            device
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="dhcp-snippet.html"
             class="p-side-navigation__link "
             
             >
            dhcp-snippet
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="discovery.html"
             class="p-side-navigation__link "
             
             >
            discovery
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="dnsresource-records.html"
             class="p-side-navigation__link "
             
             >
            dnsresource-records
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="dnsresource.html"
             class="p-side-navigation__link "
             
             >
            dnsresource
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="domain.html"
             class="p-side-navigation__link "
             
             >
            domain
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="events.html"
             class="p-side-navigation__link "
             
             >
            events
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="fabric.html"
             class="p-side-navigation__link "
             
             >
            fabric
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="file.html"
             class="p-side-navigation__link "
             
             >
            file
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="init.html"
             class="p-side-navigation__link "
             
             >
            init
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="interface.html"
             class="p-side-navigation__link "
             
             >
            interface
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="ipaddresses.html"
             class="p-side-navigation__link "
             
             >
            ipaddresses
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="iprange.html"
             class="p-side-navigation__link "
             
             >
            iprange
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="license-key.html"
             class="p-side-navigation__link "
             
             >
            license-key
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="list.html"
             class="p-side-navigation__link "
             
             >
            list
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="login.html"
             class="p-side-navigation__link "
             
             >
            login
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="logout.html"
             class="p-side-navigation__link "
             
             >
            logout
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="maas.html"
             class="p-side-navigation__link "
             
             >
            maas
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="machine.html"
             class="p-side-navigation__link "
             
             >
            machine
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="migrate.html"
             class="p-side-navigation__link "
             
             >
            migrate
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="network.html"
             class="p-side-navigation__link "
             
             >
            network
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="node.html"
             class="p-side-navigation__link "
             
             >
            node
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="node-device.html"
             class="p-side-navigation__link "
             
             >
            node-device
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="node-result.html"
             class="p-side-navigation__link "
             
             >
            node-result
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="node-script-result.html"
             class="p-side-navigation__link "
             
             >
            node-script-result
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="node-script.html"
             class="p-side-navigation__link "
             
             >
            node-script
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="notification.html"
             class="p-side-navigation__link "
             
             >
            notification
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="package-repository.html"
             class="p-side-navigation__link "
             
             >
            package-repository
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="partition.html"
             class="p-side-navigation__link "
             
             >
            partition
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="pod.html"
             class="p-side-navigation__link "
             
             >
            pod
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="cli-rack-controller.html"
             class="p-side-navigation__link "
             
             >
            rack-controller
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="raid.html"
             class="p-side-navigation__link "
             
             >
            raid
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="refresh.html"
             class="p-side-navigation__link "
             
             >
            refresh
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="cli-region-controller.html"
             class="p-side-navigation__link "
             
             >
            region-controller
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="resource-pool.html"
             class="p-side-navigation__link "
             
             >
            resource-pool
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="space.html"
             class="p-side-navigation__link "
             
             >
            space
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="sshkey.html"
             class="p-side-navigation__link "
             
             >
            sshkey
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="sslkey.html"
             class="p-side-navigation__link "
             
             >
            sslkey
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="static-route.html"
             class="p-side-navigation__link "
             
             >
            static-route
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="status.html"
             class="p-side-navigation__link "
             
             >
            status
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="subnet.html"
             class="p-side-navigation__link "
             
             >
            subnet
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="tag.html"
             class="p-side-navigation__link "
             
             >
            tag
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="user.html"
             class="p-side-navigation__link "
             
             >
            user
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="version.html"
             class="p-side-navigation__link "
             
             >
            version
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="vlan.html"
             class="p-side-navigation__link "
             
             >
            vlan
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="vm-cluster.html"
             class="p-side-navigation__link "
             
             >
            vm-cluster
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="vmfs-datastores.html"
             class="p-side-navigation__link "
             
             >
            vmfs-datastores
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="vm-host.html"
             class="p-side-navigation__link "
             
             >
            vm-host
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="volume-group.html"
             class="p-side-navigation__link "
             
             >
            volume-group
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="zone.html"
             class="p-side-navigation__link "
             
             >
            zone
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <strong class="p-side-navigation__text is-expandable"
                  aria-expanded="true"
                  
                  >Configuration guides</strong>
        

        
          
            <button class="p-side-navigation__expand"
                    aria-expanded=""
                    "
                    true
                    "
                    
                    aria-label="show submenu for Configuration guides"></button>
          
          
  <ul class="p-side-navigation__list">
    
      <li class="p-side-navigation__item">
        
          <a href="installation-requirements.html"
             class="p-side-navigation__link "
             
             >
            Installation requirements
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="how-to-use-cloud-init-with-maas.html"
             class="p-side-navigation__link "
             
             >
            Cloud-init
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="configuration-reference.html"
             class="p-side-navigation__link "
             
             >
            Configuration tables
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="reference-hardware-test-scripts.html"
             class="p-side-navigation__link "
             
             >
            Hardware test scripts
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="maas-logging-reference.html"
             class="p-side-navigation__link "
             
             >
            Logging
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="reference-maas-metrics.html"
             class="p-side-navigation__link "
             
             >
            Metrics
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="reference-power-drivers.html"
             class="p-side-navigation__link "
             
             >
            Power drivers
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="reference-maas-storage.html"
             class="p-side-navigation__link "
             
             >
            Storage
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="reference-terraform.html"
             class="p-side-navigation__link "
             
             >
            Terraform
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="maas-troubleshooting-guide.html"
             class="p-side-navigation__link "
             
             aria-current="page">
            Troubleshooting
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
  </ul>

        
      </li>
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="explanation.html"
             class="p-side-navigation__link is-expandable"
             aria-expanded="false"
             
             >
            Explanation
          </a>
        

        
          
            <button class="p-side-navigation__expand"
                    aria-expanded="
                    "
                    false
                    "
                    
                    aria-label="show submenu for Explanation"></button>
          
          
  <ul class="p-side-navigation__list">
    
      <li class="p-side-navigation__item">
        
          <a href="about-machine-basics.html"
             class="p-side-navigation__link "
             
             >
            Machine basics
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-the-machine-life-cycle.html"
             class="p-side-navigation__link "
             
             >
            The machine life-cycle
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-commissioning-machines.html"
             class="p-side-navigation__link "
             
             >
            Commissioning machines
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="reference-commissioning-scripts.html"
             class="p-side-navigation__link "
             
             >
            Commissioning scripts
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-machine-customization.html"
             class="p-side-navigation__link "
             
             >
            Machine customization
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-deploying-machines.html"
             class="p-side-navigation__link "
             
             >
            Deploying machines
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-deploying-running-machines.html"
             class="p-side-navigation__link "
             
             >
            Deploying running machines
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-lxd-projects.html"
             class="p-side-navigation__link "
             
             >
            LXD projects
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-machine-groups.html"
             class="p-side-navigation__link "
             
             >
            Machine groups
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-maas-networking.html"
             class="p-side-navigation__link "
             
             >
            Networking
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-controllers.html"
             class="p-side-navigation__link "
             
             >
            Controllers
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-images.html"
             class="p-side-navigation__link "
             
             >
            Images
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-maas-performance.html"
             class="p-side-navigation__link "
             
             >
            Performance
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-maas-events.html"
             class="p-side-navigation__link "
             
             >
            Events
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-maas-logging.html"
             class="p-side-navigation__link "
             
             >
            Logging
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
      <li class="p-side-navigation__item">
        
          <a href="about-maas-security.html"
             class="p-side-navigation__link "
             
             >
            Security
          </a>
        

        
          
          
  <ul class="p-side-navigation__list">
    
  </ul>

        
      </li>
    
  </ul>

        
      </li>
    
  </ul>

              
            
              
                
                
  <ul class="p-side-navigation__list">
    
  </ul>

              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          </div>
        </nav>
      </aside>

      <main class="col-6">
        <h1>Troubleshooting guide</h1>

        <h2><a class="p-link--anchor-heading" href="#p-9297-maas-os-deployment-failing-with-cloud-init-error" name="p-9297-maas-os-deployment-failing-with-cloud-init-error">MAAS OS deployment failing with cloud-init error</a></h2>
<p><strong>Problem:</strong><br/>
Deployment of a JUJU controller or an OS directly on a node fails with the error “cloud-init Data source not found.”</p>
<p><strong>Environment:</strong></p>
<ul>
<li>MAAS version: stable (2.8 mentioned)</li>
<li>Single NIC for MAAS node and JUJU controller node</li>
<li>Ubuntu 16.04 and 18.04 tried</li>
</ul>
<p><strong>Potential causes and solutions:</strong></p>
<ol>
<li>
<p><strong>Cloud-init unable to reach MAAS metadata server:</strong></p>
<ul>
<li>Ensure that the nodes can reach the MAAS metadata server, which provides SSH keys and user_data.</li>
</ul>
<p><strong>Solution:</strong></p>
<ul>
<li>Verify that the DNS server in your environment is set to the MAAS region/rack controller IP. You can set this in the Subnet Summary under the MAAS UI.</li>
<li>Ensure that “Allow DNS resolution” is enabled and correctly configured with the MAAS server’s IP.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">maas $profile subnet update $subnet_id dns_servers="[$MAAS_IP]"
</code></pre>
</li>
<li>
<p><strong>MAAS services or proxy issues:</strong></p>
<ul>
<li>Issues with services like squid or bind could also lead to this problem. Sometimes toggling the proxy settings can help.</li>
</ul>
<p><strong>Solution:</strong></p>
<ul>
<li>Toggle the proxy configuration from ‘Don’t use a proxy’ to ‘MAAS built-in’ or vice versa.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">maas $profile maas set-config name=http_proxy value="http://proxy.example.com:8000/"
maas $profile maas set-config name=http_proxy value=""
</code></pre>
</li>
<li>
<p><strong>Network configuration and connectivity:</strong></p>
<ul>
<li>The network setup should ensure proper routing and availability of the MAAS metadata service.</li>
</ul>
<p><strong>Solution:</strong></p>
<ul>
<li>Check network configurations and ensure there are no firewalls or network issues blocking access to the MAAS server.</li>
</ul>
</li>
<li>
<p><strong>Restarting MAAS services:</strong></p>
<ul>
<li>Sometimes, simply restarting the MAAS services can resolve intermittent issues.</li>
</ul>
<p><strong>Solution:</strong></p>
<ul>
<li>Restart MAAS services:</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart maas-rackd maas-regiond
</code></pre>
</li>
<li>
<p><strong>BIOS configuration:</strong></p>
<ul>
<li>There might be differences in BIOS configurations that affect deployment.</li>
</ul>
<p><strong>Solution:</strong></p>
<ul>
<li>Ensure that BIOS settings, especially related to network boot and BMCs, are consistent and correctly configured.</li>
</ul>
</li>
<li>
<p><strong>Check subnet and IP configuration:</strong></p>
<ul>
<li>Ensure the IP configuration for subnets is correct, and no conflicting, overlapping or duplicate subnets are present.</li>
</ul>
<p><strong>Solution:</strong></p>
<ul>
<li>Verify and correct subnet configurations in the MAAS UI.</li>
</ul>
</li>
<li>
<p><strong>Log analysis:</strong></p>
<ul>
<li>Detailed logs can provide more insights into the issue.</li>
</ul>
<p><strong>Solution:</strong></p>
<ul>
<li>Check MAAS and cloud-init logs for more details using the instructions provided in the <a href="https://maas.io/docs/how-to-use-logging">logging documentation</a>.</li>
</ul>
</li>
</ol>
<h3><a class="p-link--anchor-heading" href="#p-9297-example-configuration-and-commands" name="p-9297-example-configuration-and-commands">Example configuration and commands:</a></h3>
<pre data-code-wrap="bash"><code class="lang-bash"># Ensure DNS is correctly set
maas admin subnet update $subnet_id dns_servers="[$MAAS_IP]"

# Restart MAAS services
sudo systemctl restart maas-rackd maas-regiond

# Check MAAS logs
# insert relevant commands here
</code></pre>
<h3><a class="p-link--anchor-heading" href="#p-9297-community-tips" name="p-9297-community-tips">Community tips:</a></h3>
<ul>
<li>Adding a dynamic reserved range to the IPv6 subnet helped one user resolve the issue.</li>
<li>Ensuring the DNS IP in the subnet summary is set to the MAAS region/rack servers’ IP.</li>
</ul>
<p>By following these steps and checking these configurations, you should be able to resolve the “cloud-init Data source not found” error and successfully deploy your OS using MAAS.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-decoupling-dns-from-maas-and-resolving-configuration-issues" name="p-9297-decoupling-dns-from-maas-and-resolving-configuration-issues">Decoupling DNS from MAAS and resolving configuration issues</a></h2>
<p><strong>Problem:</strong><br/>
MAAS restarted after an update, causing DNS to fail due to duplicate subnets and configurations. This led to BIND9 failing to start, creating repeated crashes and restarts of the DNS service.</p>
<p><strong>Solution:</strong></p>
<h3><a class="p-link--anchor-heading" href="#p-9297-steps-to-decouple-dns-from-maas-and-resolve-configuration-issues" name="p-9297-steps-to-decouple-dns-from-maas-and-resolve-configuration-issues">Steps to decouple DNS from MAAS and resolve configuration issues:</a></h3>
<ol>
<li>
<p><strong>Identify the issue:</strong></p>
<ul>
<li>The issue was identified by errors in the <a href="https://maas.io/docs/how-to-use-logging">MAAS log files</a>, indicating problems with BIND9 due to duplicate subnets.</li>
</ul>
</li>
<li>
<p><strong>Check for duplicate subnets:</strong></p>
<ul>
<li>Run the following command to list all subnets and identify duplicates:<pre data-code-wrap="bash"><code class="lang-bash">maas $profile subnets read
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Remove duplicate subnets:</strong></p>
<ul>
<li>Identify any duplicate subnets in the output. Pay special attention to subnets with odd subnet masks or those that appear more than once.</li>
<li>Remove the duplicate subnets using the MAAS CLI or web interface:<pre data-code-wrap="bash"><code class="lang-bash">maas $profile subnet delete $subnet_id
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Restart MAAS services:</strong></p>
<ul>
<li>After removing the duplicate subnets, restart the MAAS services to apply the changes:<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart maas-regiond maas-rackd
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Verify DNS configuration:</strong></p>
<ul>
<li>Check the DNS configuration files to ensure there are no remaining issues. The relevant files can be found in:<pre data-code-wrap="bash"><code class="lang-bash"># deb
/etc/bind/maas/

# snap
/var/snap/maas/current/bind/
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Decouple DNS from MAAS:</strong></p>
<ul>
<li>If you wish to decouple DNS entirely from MAAS and use an external DNS server, you can disable the MAAS-managed DNS service:<pre data-code-wrap="bash"><code class="lang-bash">sudo maas $profile dns update 1 enabled=false
</code></pre>
</li>
<li>Configure your external DNS server to handle all DNS queries.</li>
</ul>
</li>
</ol>
<h3><a class="p-link--anchor-heading" href="#p-9297-example-commands" name="p-9297-example-commands">Example Commands:</a></h3>
<pre data-code-wrap="bash"><code class="lang-bash"># List all subnets to find duplicates
maas admin subnets read

# Delete a problematic subnet (replace $subnet_id with the actual ID)
maas admin subnet delete $subnet_id

# Restart MAAS services to apply changes
sudo systemctl restart maas-regiond maas-rackd

# Disable MAAS-managed DNS
sudo maas admin dns update 1 enabled=false
</code></pre>
<h3><a class="p-link--anchor-heading" href="#p-9297-verification" name="p-9297-verification">Verification:</a></h3>
<ul>
<li>Ensure the DNS service is running smoothly without errors.</li>
<li>Verify that the external DNS server is correctly configured and resolving queries.</li>
</ul>
<p>By following these steps, you can decouple DNS from MAAS, resolve configuration issues, and ensure a stable DNS environment for your OpenStack cluster and other services.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-configuring-the-second-nic-for-external-dhcp-in-maas" name="p-9297-configuring-the-second-nic-for-external-dhcp-in-maas">Configuring the second NIC for external DHCP in MAAS</a></h2>
<p><strong>Problem:</strong><br/>
You have managed to deploy machines with two NICs using MAAS. The first NIC uses PXE/DHCP, but configuring the second NIC to use external DHCP is proving challenging.</p>
<p><strong>Solution:</strong></p>
<h3><a class="p-link--anchor-heading" href="#p-9297-steps-to-configure-the-second-nic-for-external-dhcp" name="p-9297-steps-to-configure-the-second-nic-for-external-dhcp">Steps to configure the second NIC for external DHCP:</a></h3>
<ol>
<li>
<p><strong>Commission the machine:</strong></p>
<ul>
<li>Ensure the machine is commissioned in MAAS. After commissioning, MAAS should recognize both NICs.</li>
</ul>
</li>
<li>
<p><strong>Check interface status:</strong></p>
<ul>
<li>Verify if the second interface shows as connected to the correct VLAN/subnet from the external DHCP server.</li>
</ul>
</li>
<li>
<p><strong>Configure the second NIC:</strong></p>
<ul>
<li>Navigate to the machine details page in the MAAS UI.</li>
<li>Go to the “Network” tab to see the list of network interfaces.</li>
<li>Find the second NIC (e.g., <code>eth1</code> or <code>ens19</code>).</li>
</ul>
</li>
<li>
<p><strong>Set interface to DHCP:</strong></p>
<ul>
<li>Edit the configuration of the second NIC.</li>
<li>Set the interface to “DHCP” to ensure it will acquire an IP address from the external DHCP server. This is different from “Auto assign,” where MAAS would assign an IP before deployment.</li>
</ul>
</li>
</ol>
<h3><a class="p-link--anchor-heading" href="#p-9297-detailed-steps-in-the-maas-ui" name="p-9297-detailed-steps-in-the-maas-ui">Detailed steps in the MAAS UI:</a></h3>
<ol>
<li>
<p><strong>Access machine details:</strong></p>
<ul>
<li>Go to the “Machines” tab.</li>
<li>Click on the specific machine you are configuring.</li>
</ul>
</li>
<li>
<p><strong>Navigate to network interfaces:</strong></p>
<ul>
<li>In the machine details page, click on the “Network” tab.</li>
</ul>
</li>
<li>
<p><strong>Edit the second NIC configuration:</strong></p>
<ul>
<li>Locate the second NIC (e.g., <code>eth1</code> or <code>ens19</code>).</li>
<li>Click on the pencil icon (edit) next to the interface.</li>
</ul>
</li>
<li>
<p><strong>Set to DHCP:</strong></p>
<ul>
<li>In the configuration dialog, select “DHCP” from the dropdown menu.</li>
<li>Save the changes.</li>
</ul>
</li>
</ol>
<h3><a class="p-link--anchor-heading" href="#p-9297-verify-configuration" name="p-9297-verify-configuration">Verify configuration:</a></h3>
<ol>
<li>
<p><strong>Deploy the machine:</strong></p>
<ul>
<li>Deploy the machine from MAAS.</li>
<li>Ensure it successfully boots and the second NIC acquires an IP address from the external DHCP server.</li>
</ul>
</li>
<li>
<p><strong>Check network configuration:</strong></p>
<ul>
<li>SSH into the deployed machine.</li>
<li>Use <code>ip a</code> or <code>ifconfig</code> to check if the second NIC has acquired an IP address from the external DHCP server.</li>
</ul>
</li>
</ol>
<pre data-code-wrap="bash"><code class="lang-bash">ip a
</code></pre>
<ol start="3">
<li><strong>Troubleshoot if necessary:</strong>
<ul>
<li>If the second NIC does not acquire an IP address, check the DHCP server configuration and ensure it is correctly set up to provide IP addresses on the intended subnet.</li>
</ul>
</li>
</ol>
<p>By following these steps, you should be able to configure the second NIC on a machine deployed with MAAS to use an external DHCP server for IP address allocation.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-maas-setup-with-existingexternal-dhcp" name="p-9297-maas-setup-with-existingexternal-dhcp">MAAS setup with existing/external DHCP</a></h2>
<p><strong>Problem:</strong><br/>
A user was trying to set up MAAS with an existing DHCP server on an Edgerouter 12. However, when attempting to PXE boot machines, they received a ‘no media found’ error. The goal was to use MAAS without creating VLANs or replacing the existing DHCP server.</p>
<p><strong>Solution:</strong></p>
<h3><a class="p-link--anchor-heading" href="#p-9297-summary" name="p-9297-summary">Summary:</a></h3>
<p>The user ultimately resolved the issue by disabling the router’s DHCP and using the built-in DHCP service in MAAS.</p>
<h3><a class="p-link--anchor-heading" href="#p-9297-detailed-steps-to-configure-maas-with-an-existing-dhcp-server" name="p-9297-detailed-steps-to-configure-maas-with-an-existing-dhcp-server">Detailed steps to configure MAAS with an existing DHCP server:</a></h3>
<ol>
<li>
<p><strong>Understand MAAS DHCP configuration:</strong></p>
<ul>
<li>By default, MAAS manages DHCP for PXE booting. However, it is possible to integrate with an existing DHCP server.</li>
</ul>
</li>
<li>
<p><strong>MAAS configuration:</strong></p>
<ul>
<li><strong>Disable MAAS DHCP:</strong> Since the existing DHCP server on the router will handle IP allocation, you need to disable the MAAS DHCP server.</li>
<li><strong>Configure ProxyDHCP:</strong> MAAS can function with ProxyDHCP to handle PXE boot requests without managing the IP allocation.</li>
</ul>
</li>
<li>
<p><strong>Existing DHCP server configuration:</strong></p>
<ul>
<li><strong>Add DHCP options for PXE booting:</strong>
<ul>
<li>Configure the existing DHCP server to include options for booting via PXE. You need to add the following options:
<ul>
<li><strong>Option 66 (next-server):</strong> IP address of the MAAS server.</li>
<li><strong>Option 67 (filename):</strong> Path to the bootloader, typically something like <code>pxelinux.0</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Example DHCP configuration for PXE boot:</p>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">dhcp-option=66, "192.168.1.100"  # IP address of the MAAS server
dhcp-option=67, "pxelinux.0"     # Bootloader file
</code></pre>
</li>
<li>
<p><strong>Check MAAS DHCP configuration:</strong></p>
<ul>
<li>If you need to reference the configuration MAAS would generate, you can find it in <code>/var/snap/maas/common/maas/dhcpd.conf</code> for a snap installation.</li>
</ul>
</li>
<li>
<p><strong>Test PXE boot:</strong></p>
<ul>
<li>Ensure that the client machines are set to PXE boot from the network.</li>
<li>Reboot the machines and verify if they receive the PXE boot instructions from the existing DHCP server and proceed with commissioning and deployment via MAAS.</li>
</ul>
</li>
</ol>
<h3><a class="p-link--anchor-heading" href="#p-9297-additional-considerations" name="p-9297-additional-considerations">Additional considerations:</a></h3>
<ul>
<li><strong>Network configuration:</strong>
<ul>
<li>Ensure that the MAAS server and the existing DHCP server are on the same network segment to avoid any routing issues.</li>
</ul>
</li>
<li><strong>Debugging:</strong>
<ul>
<li>Use network tools like <code>tcpdump</code> or Wireshark to capture DHCP and TFTP traffic to troubleshoot any issues with PXE booting.</li>
</ul>
</li>
</ul>
<h3><a class="p-link--anchor-heading" href="#p-9297-final-solution" name="p-9297-final-solution">Final solution:</a></h3>
<p>If integrating with the existing DHCP server proves too challenging or unreliable, consider using the built-in DHCP service in MAAS as Robert-datacare eventually did. This approach simplifies the setup and leverages MAAS’s full capabilities for managing DHCP, DNS, and PXE booting seamlessly.</p>
<p>By following these steps, you can configure MAAS to work with an existing DHCP server or switch to using the built-in MAAS DHCP service to manage network booting and machine provisioning effectively.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-configuring-multiple-nics-on-a-machine-with-maas" name="p-9297-configuring-multiple-nics-on-a-machine-with-maas">Configuring multiple NICs on a machine with MAAS</a></h2>
<p><strong>Problem:</strong><br/>
You want to configure a machine with two NICs. NIC <span class="hashtag-raw">#1</span> is connected to a private subnet managed by MAAS, while NIC <span class="hashtag-raw">#2</span> is connected to a public subnet used for internet access. The user struggled to find a way to configure NIC <span class="hashtag-raw">#2</span> through the MAAS UI.</p>
<p><strong>Solution:</strong></p>
<p>Yes, it is possible to have two NICs working on a machine in MAAS. Here’s how you can configure both NICs:</p>
<ol>
<li>
<p><strong>Ensure both NICs are detected:</strong></p>
<ul>
<li>Verify that both NICs are detected by MAAS. You should see both interfaces (ens18 and ens19) in the MAAS UI under the machine’s network configuration.</li>
</ul>
</li>
<li>
<p><strong>Edit network configuration in MAAS:</strong></p>
<ul>
<li>Go to the MAAS UI.</li>
<li>Select the machine in question.</li>
<li>Navigate to the “Network” tab.</li>
<li>For NIC <span class="hashtag-raw">#1</span> (ens18):
<ul>
<li>Ensure it is configured to use DHCP on the private subnet (192.168.10.0/24).</li>
</ul>
</li>
<li>For NIC <span class="hashtag-raw">#2</span> (ens19):
<ul>
<li>Edit the interface settings to configure it manually for the public subnet (192.168.1.0/24).</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Configure NIC <span class="hashtag-raw">#2</span> manually in MAAS:</strong></p>
<ul>
<li>In the “Edit Physical” mask for ens19, select the appropriate fabric and subnet (public subnet 192.168.1.0/24).</li>
<li>Set the IP address manually or configure it to use DHCP if your public network has a DHCP server.</li>
<li>Assign the gateway and DNS settings as needed for internet access.</li>
</ul>
</li>
<li>
<p><strong>Example netplan configuration:</strong></p>
<ul>
<li>
<p>Ensure that the netplan configuration reflects the settings from MAAS. Here is an example of how the <code>50-cloud-init.yaml</code> might look:</p>
<pre data-code-wrap="yaml"><code class="lang-yaml">network:
    version: 2
    ethernets:
        ens18:
            addresses:
            - 192.168.10.5/24
            match:
                macaddress: 8e:57:8a:55:d4:2d
            mtu: 1500
            nameservers:
                addresses:
                - 192.168.10.10
                search:
                - maas
            set-name: ens18
        ens19:
            addresses:
            - 192.168.1.10/24  # Set this according to your network
            gateway4: 192.168.1.1  # Default gateway for internet access
            nameservers:
                addresses:
                - 8.8.8.8  # Google's DNS or your preferred DNS
                - 8.8.4.4
            match:
                macaddress: c6:11:fb:c9:5e:e2
            mtu: 1500
            set-name: ens19
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Apply the configuration:</strong></p>
<ul>
<li>Apply the network configuration using the <code>netplan apply</code> command or reboot the machine to ensure the settings take effect.</li>
</ul>
</li>
</ol>
<p><strong>Note:</strong><br/>
There was a mention of a bug when selecting a Fabric in the “Edit Physical” mask, causing it to jump back. Ensure that the correct fabric and subnet are selected before saving the configuration.</p>
<p>By following these steps, you should be able to configure both NICs on your machine, allowing it to communicate on both the private MAAS-managed network and the public internet-facing network.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-manual-dhcp-allocation-with-maas" name="p-9297-manual-dhcp-allocation-with-maas">Manual DHCP Allocation with MAAS</a></h2>
<p><strong>Problem:</strong><br/>
A casual user is considering using MAAS for his homelab, primarily for learning configuration and deployment of containers on Raspberry Pi clusters. He has traditionally used manual DHCP allocations for server IP addresses to simplify IP address management and DNS. He is concerned whether this approach will conflict with MAAS’s use of DHCP.</p>
<p><strong>Solution:</strong></p>
<p>You can use manual DHCP allocations with MAAS, but you need to ensure that the DHCP offers set the next-server address to the TFTP boot server. This is crucial as it allows MAAS machines (such as your Raspberry Pi clusters) to get the address of boot servers to request a Network Boot Program (NBP).</p>
<p><strong>Steps:</strong></p>
<ol>
<li>
<p><strong>Configure DHCP server:</strong></p>
<ul>
<li>Ensure your DHCP server is configured to assign static IP addresses based on MAC addresses for your Raspberry Pi clusters.</li>
<li>Set the <code>next-server</code> option in your DHCP server configuration to point to the MAAS TFTP server.</li>
</ul>
<p>Example DHCP configuration snippet:</p>
<pre data-code-wrap="bash"><code class="lang-bash">host raspberrypi1 {
    hardware ethernet xx:xx:xx:xx:xx:xx;
    fixed-address 192.168.1.10;
    next-server 192.168.1.2;  # IP address of the MAAS TFTP server
    filename "pxelinux.0";    # Or the appropriate boot file for your environment
}
</code></pre>
</li>
<li>
<p><strong>Ensure proper MAAS configuration:</strong></p>
<ul>
<li>In the MAAS UI, navigate to the ‘Subnets’ section and make sure your subnet is correctly configured.</li>
<li>Ensure that MAAS is set to manage DHCP for the subnet in question, but remember that your manual DHCP assignments will take precedence for the specified MAC addresses.</li>
</ul>
</li>
<li>
<p><strong>Testing:</strong></p>
<ul>
<li>Boot one of your Raspberry Pi devices and check that it receives the correct IP address and can locate the MAAS TFTP server to start the network boot process.</li>
</ul>
</li>
<li>
<p><strong>Managing IP address assignments:</strong></p>
<ul>
<li>Keep track of your manual DHCP assignments to avoid conflicts. Ensure all devices have unique IP addresses.</li>
<li>Use MAAS’s interface to monitor and manage DHCP leases and static assignments.</li>
</ul>
</li>
</ol>
<p>By following these steps, you can integrate manual DHCP allocations with MAAS, maintaining your existing IP address management strategy while leveraging MAAS’s powerful provisioning capabilities.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-dhcp-services-stopped-working" name="p-9297-dhcp-services-stopped-working">DHCP services stopped working</a></h2>
<p><strong>Problem:</strong><br/>
MAAS 2.9.2 (snap) DHCP services stopped working after memory and disk issues were resolved. Despite fixing the memory and disk problems and rebooting, the DHCP services are not starting.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Check logs:</strong></p>
<ul>
<li>Look into the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a>.</li>
<li>The error log shows something like this:<pre><code class="lang-auto">2021-06-09 08:58:43 maasserver.rack_controller: [critical] Failed configuring DHCP on rack controller 'id:1'.
  File "/snap/maas/12555/lib/python3.8/site-packages/maasserver/dhcp.py", line 864, in configure_dhcp
    config = yield deferToDatabase(get_dhcp_configuration, rack_controller)
  File "/snap/maas/12555/lib/python3.8/site-packages/maasserver/dhcp.py", line 783, in get_dhcp_configuration
    config = get_dhcp_configure_for(
  File "/snap/maas/12555/lib/python3.8/site-packages/maasserver/dhcp.py", line 663, in get_dhcp_configure_for
  File "/snap/maas/12555/lib/python3.8/site-packages/maasserver/dhcp.py", line 444, in make_subnet_config
  File "/snap/maas/12555/lib/python3.8/site-packages/maasserver/dhcp.py", line 447, in &lt;listcomp&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Check for configuration corruption:</strong></p>
<ul>
<li>The issues might be caused by configuration corruption due to previous memory and disk issues.</li>
</ul>
</li>
<li>
<p><strong>Verify subnet and fabric configuration:</strong></p>
<ul>
<li>
<p>Go to the MAAS UI and check if the subnets are assigned to the correct fabrics.</p>
</li>
<li>
<p>If a subnet appears under the wrong fabric, reassign it to the correct fabric.</p>
<p>Steps:</p>
<ul>
<li>Navigate to the “Subnets” section.</li>
<li>Open the subnet configuration page.</li>
<li>Reassign the subnet to the correct fabric.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Restart MAAS services:</strong></p>
<ul>
<li>After correcting the subnet assignment, restart the MAAS services.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart maas-rackd
sudo systemctl restart maas-regiond
</code></pre>
</li>
<li>
<p><strong>Cleaning up proxy cache (if applicable):</strong></p>
<ul>
<li>If using a proxy, sometimes cleaning the proxy cache can resolve issues.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">sudo mv /var/snap/maas/common/proxy /var/snap/maas/common/proxy.old
sudo mkdir -p /var/snap/maas/common/proxy
sudo chown -R proxy:proxy /var/snap/maas/common/proxy
sudo chmod -R 0750 /var/snap/maas/common/proxy
sudo systemctl restart maas-proxy
</code></pre>
</li>
<li>
<p><strong>Verify DHCP settings:</strong></p>
<ul>
<li>Ensure that the DHCP settings are correct in the MAAS UI.</li>
<li>Verify that DHCP is enabled on the correct subnets.</li>
</ul>
</li>
<li>
<p><strong>Check and repair database:</strong></p>
<ul>
<li>Sometimes issues may be related to the MAAS database. Verify the database integrity and repair if necessary.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">sudo maas-region dbshell
# Inside the database shell
VACUUM FULL;
</code></pre>
</li>
</ol>
<p>By following these steps, you should be able to diagnose and resolve the issues preventing the DHCP services from starting in MAAS.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-setting-up-an-upstream-dns-for-external-dns-resolution-in-maas" name="p-9297-setting-up-an-upstream-dns-for-external-dns-resolution-in-maas">Setting up an upstream DNS for external DNS resolution in MAAS</a></h2>
<p><strong>Problem:</strong><br/>
You have set up a MAAS environment with DHCP and DNS enabled. However, your MAAS-deployed devices are unable to resolve hostnames using upstream DNS. Specifically, you are trying to resolve the hostname “grafana” but it only resolves via IP.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Verify upstream DNS configuration:</strong><br/>
Ensure that your MAAS configuration includes the correct upstream DNS servers. You can set this up in the MAAS UI or via the command line.</p>
</li>
<li>
<p><strong>Edit DNS configuration in MAAS:</strong></p>
<ul>
<li>Go to the MAAS UI.</li>
<li>Navigate to the “Settings” tab.</li>
<li>Under the “DNS” section, add your upstream DNS servers.</li>
</ul>
</li>
<li>
<p><strong>Verify /etc/netplan configuration:</strong><br/>
Ensure that the <code>netplan</code> configuration on your MAAS-deployed device points to the correct DNS servers.</p>
<pre data-code-wrap="yaml"><code class="lang-yaml">network:
  version: 2
  ethernets:
    enp1s0:
      dhcp4: no
      addresses:
        - 192.168.178.139/24
      gateway4: 192.168.178.1
      nameservers:
        search:
          - maas
        addresses:
          - 192.168.178.70
          - 192.168.178.1
</code></pre>
</li>
<li>
<p><strong>Check systemd-resolved configuration:</strong><br/>
Verify that <code>systemd-resolved</code> is correctly configured to use the upstream DNS servers.</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart systemd-resolved
sudo systemctl status systemd-resolved
</code></pre>
<p>Ensure that <code>/etc/resolv.conf</code> is correctly linked to <code>systemd-resolved</code>.</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo ln -sf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf
</code></pre>
</li>
<li>
<p><strong>Test DNS resolution:</strong><br/>
Use the <code>dig</code> command to test DNS resolution directly against your upstream DNS.</p>
<pre data-code-wrap="bash"><code class="lang-bash">dig @192.168.178.70 grafana
dig @192.168.178.1 grafana
</code></pre>
</li>
<li>
<p><strong>Check MAAS DHCP and DNS configuration:</strong><br/>
Ensure that MAAS is correctly configured to provide the right DNS settings to its deployed devices.</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo maas &lt;profile&gt; dhcp-snippet read 0
</code></pre>
</li>
<li>
<p><strong>Restart network services:</strong><br/>
Restart network services on your MAAS-deployed device to apply changes.</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo netplan apply
sudo systemctl restart systemd-networkd
</code></pre>
</li>
<li>
<p><strong>Update DNS search domain:</strong><br/>
Ensure that the search domain includes the external domain if needed.</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo nano /etc/systemd/resolved.conf
# Add or update the DNS and Domains entries
[Resolve]
DNS=192.168.178.70 192.168.178.1
Domains=maas
</code></pre>
<p>Restart <code>systemd-resolved</code> again.</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart systemd-resolved
</code></pre>
</li>
</ol>
<p>By following these steps, your MAAS-deployed devices should be able to resolve hostnames using the upstream DNS servers.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-unable-to-commission-server-cloud-init-error-can-not-apply-stage-final-no-datasource-found" name="p-9297-unable-to-commission-server-cloud-init-error-can-not-apply-stage-final-no-datasource-found">Unable to commission server - cloud-init error: “Can not apply stage final, no datasource found!”</a></h2>
<p><strong>Problem:</strong><br/>
You are experiencing an issue where newly commissioned servers in your MAAS 3.1 environment fail with the cloud-init error “Can not apply stage final, no datasource found!” This problem is preventing you from commissioning new servers while your existing OpenStack environment has been running properly for some time.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Verify network configuration:</strong></p>
<ul>
<li>Ensure that the network configuration for the new servers is correct. Check that the servers can reach the MAAS server and that there are no network issues preventing them from accessing the necessary metadata.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash"># Check network interfaces
ip a
# Check routing
ip route
# Check DNS resolution
nslookup maas-server-ip
</code></pre>
</li>
<li>
<p><strong>Check MAAS logs:</strong></p>
<ul>
<li>Review the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> for any errors or warnings that might provide more context about the issue.</li>
</ul>
</li>
<li>
<p><strong>Verify cloud-init configuration:</strong></p>
<ul>
<li>Ensure that the cloud-init configuration is correct and that the datasource is properly defined. This is crucial for the commissioning process.</li>
</ul>
</li>
<li>
<p><strong>Update cloud-init configuration:</strong></p>
<ul>
<li>Sometimes, updating the cloud-init configuration can resolve issues with datasource detection. Edit the <code>/etc/cloud/cloud.cfg</code> file to ensure the datasource is correctly specified.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash"># Edit the cloud-init configuration file
sudo nano /etc/cloud/cloud.cfg

# Ensure the datasource list includes MAAS
datasources:
  - MAAS
</code></pre>
</li>
<li>
<p><strong>Recommission the server:</strong></p>
<ul>
<li>After verifying and updating the configurations, recommission the server through the MAAS UI or CLI.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash"># Recommission the server via CLI
maas $PROFILE machine commission $SYSTEM_ID
</code></pre>
</li>
<li>
<p><strong>Reset the node:</strong></p>
<ul>
<li>If the issue persists, try resetting the node and recommissioning it. This can often resolve issues related to temporary network or configuration glitches.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash"># Reset the node via CLI
maas $PROFILE machine release $SYSTEM_ID
maas $PROFILE machine commission $SYSTEM_ID
</code></pre>
</li>
<li>
<p><strong>Update MAAS and cloud-init:</strong></p>
<ul>
<li>Ensure that you are running the latest version of MAAS and cloud-init, as updates often include bug fixes and improvements.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash"># Update MAAS
sudo snap refresh maas

# Update cloud-init
sudo apt-get update
sudo apt-get install --only-upgrade cloud-init
</code></pre>
</li>
<li>
<p><strong>Consult documentation and community:</strong></p>
<ul>
<li>If you continue to experience issues, refer to the official MAAS and cloud-init documentation for further troubleshooting steps. Additionally, consider reaching out to the MAAS community or support channels for more specific guidance.</li>
</ul>
</li>
</ol>
<p>By following these steps, you should be able to troubleshoot and resolve the issue preventing your servers from commissioning successfully in MAAS.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-dhcp-service-stops-when-network-connection-between-region-and-racks-is-disconnected" name="p-9297-dhcp-service-stops-when-network-connection-between-region-and-racks-is-disconnected">DHCP service stops when network connection between region and racks is disconnected</a></h2>
<p><strong>Problem:</strong><br/>
When the network connection between the MAAS region controller and rack controllers is interrupted, the DHCP services on the rack nodes stop, causing deployed machines to lose their IP addresses after the lease time expires. The issue resolves itself when the network hardware is rebooted.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Ensure network reliability:</strong></p>
<ul>
<li>The MAAS architecture relies on constant communication between the region and rack controllers. Ensuring a stable and reliable network connection between these components is critical.</li>
</ul>
</li>
<li>
<p><strong>Redundancy:</strong></p>
<ul>
<li>Set up a secondary region controller to add redundancy. This might not solve the problem during a complete network outage but can help mitigate issues if a single region controller fails.</li>
</ul>
</li>
<li>
<p><strong>Extend DHCP Lease Time:</strong></p>
<ul>
<li>Extending the DHCP lease time can help mitigate the issue during brief network outages. This can be done using DHCP snippets to modify the lease duration in the MAAS DHCP configuration.</li>
</ul>
<p><strong>Steps to extend DHCP lease time:</strong></p>
<ul>
<li>Create a DHCP snippet to extend the lease time.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">echo 'dhcp-lease-time 86400; # 1 day' | sudo tee /etc/maas/dhcpd.conf.d/lease-time.conf
sudo systemctl restart maas-rackd
sudo systemctl restart maas-regiond
</code></pre>
</li>
<li>
<p><strong>Use external DHCP servers:</strong></p>
<ul>
<li>Configure external DHCP servers on each network segment. This ensures that even if the region controller is unreachable, machines can still obtain IP addresses.</li>
</ul>
<p><strong>Steps to configure external DHCP server:</strong></p>
<ul>
<li>
<p>Set up ISC DHCP server on Ubuntu:</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo apt update
sudo apt install isc-dhcp-server
</code></pre>
</li>
<li>
<p>Configure the DHCP server by editing <code>/etc/dhcp/dhcpd.conf</code>:</p>
<pre data-code-wrap="bash"><code class="lang-bash">subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.10 192.168.1.100;
  option routers 192.168.1.1;
  option domain-name-servers 8.8.8.8, 8.8.4.4;
}
</code></pre>
</li>
<li>
<p>Restart the DHCP server:</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart isc-dhcp-server
</code></pre>
</li>
<li>
<p>Ensure that the DHCP server is detected by MAAS. Configure at least one node to use DHCP so that MAAS can recognize the external DHCP server.</p>
</li>
</ul>
</li>
<li>
<p><strong>Network maintenance strategy:</strong></p>
<ul>
<li>Plan network maintenance during off-peak hours and ensure it does not exceed the DHCP lease duration.</li>
<li>Implement network maintenance strategies that minimize the need for complete network downtime, such as using redundant paths or gradual network component replacements.</li>
</ul>
</li>
<li>
<p><strong>Troubleshooting external dhcp server detection:</strong></p>
<ul>
<li>Ensure that DHCP packets are being sent and received properly.</li>
<li>Check the MAAS Web UI under “Controllers” to verify if the external DHCP server is detected.</li>
</ul>
<p><strong>Steps to verify external DHCP server:</strong></p>
<ul>
<li>Configure a node to use DHCP.</li>
<li>Check the MAAS Web UI under the “Controllers” section to see if the external DHCP server is listed.</li>
</ul>
<p>If the external DHCP server is not detected, verify the network configuration and ensure that DHCP packets are correctly being relayed to MAAS.</p>
</li>
</ol>
<p><strong>Conclusion:</strong><br/>
By implementing redundancy, extending DHCP lease times, using external DHCP servers, and planning network maintenance effectively, you can ensure that DHCP services continue to function even during network disruptions.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-problem-with-apt-proxy" name="p-9297-problem-with-apt-proxy">Problem with APT proxy</a></h2>
<p><strong>Problem:</strong><br/>
Some machines encounter errors while commissioning, specifically failing to locate packages due to issues with the APT proxy in MAAS. The error appears as follows:</p>
<pre><code class="lang-auto">Reading package lists...
Building dependency tree...
Reading state information...
E: Unable to locate package lldpd
</code></pre>
<p>When entering rescue mode and manually running <code>apt update</code>, the error shows a connection failure to the APT proxy IP:</p>
<pre><code class="lang-auto">sudo apt update
Err:1 http://archive.ubuntu.com/ubuntu focal InRelease
  Connection failed [IP: 10.8.8.183 8000]
Hit:2 http://archive.ubuntu.com/ubuntu focal-updates InRelease
Hit:3 http://archive.ubuntu.com/ubuntu focal-security InRelease
Hit:4 http://archive.ubuntu.com/ubuntu focal-backports InRelease
</code></pre>
<p>Switching to an external proxy (standard HTTP proxy) resolves the issue, indicating a problem with the MAAS proxy.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Identifying the issue:</strong><br/>
The error may be related to the Squid proxy on the MAAS node. Errors similar to:</p>
<pre><code class="lang-auto">Err:4 http://archive.ubuntu.com/ubuntu focal InRelease
Clearsigned file isn't valid, got 'NOSPLIT' (does the network require authentication?)
</code></pre>
</li>
<li>
<p><strong>Cleaning the proxy cache:</strong><br/>
The issue can often be resolved by cleaning the Squid proxy cache on the MAAS node.</p>
<p><strong>Steps to clean squid cache:</strong></p>
<ul>
<li>Move the existing proxy cache directory to a backup location.</li>
<li>Create a new proxy cache directory.</li>
<li>Set appropriate ownership and permissions.</li>
<li>Restart the MAAS proxy service.</li>
</ul>
<p><strong>Commands:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo mv /var/spool/maas-proxy /var/spool/maas-proxy.old
sudo mkdir -p /var/spool/maas-proxy
sudo chown -R proxy:proxy /var/spool/maas-proxy
sudo chmod -R 0750 /var/spool/maas-proxy
sudo systemctl restart maas-proxy
</code></pre>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>sudo mv /var/spool/maas-proxy /var/spool/maas-proxy.old</code>: Moves the existing cache directory to a backup location.</li>
<li><code>sudo mkdir -p /var/spool/maas-proxy</code>: Creates a new cache directory.</li>
<li><code>sudo chown -R proxy:proxy /var/spool/maas-proxy</code>: Sets the ownership of the new cache directory to the proxy user.</li>
<li><code>sudo chmod -R 0750 /var/spool/maas-proxy</code>: Sets the permissions for the cache directory.</li>
<li><code>sudo systemctl restart maas-proxy</code>: Restarts the MAAS proxy service to apply changes.</li>
</ul>
</li>
<li>
<p><strong>Confirmation:</strong><br/>
After performing the above steps, verify if the commissioning process completes successfully without encountering the APT proxy errors.</p>
</li>
</ol>
<p><strong>Conclusion:</strong><br/>
Cleaning the Squid proxy cache on the MAAS node has resolved similar issues for other users. If the issue persists, further investigation into network configurations or MAAS proxy settings may be required.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-managed-allocation-and-reserved-ranges-auto-assign" name="p-9297-managed-allocation-and-reserved-ranges-auto-assign">Managed Allocation and Reserved Ranges, Auto-Assign</a></h2>
<p><strong>Problem:</strong><br/>
Clarification needed on how MAAS handles IP address allocation in subnets, particularly concerning managed allocation, reserved ranges, dynamic ranges, and the difference between auto-assigned and DHCP-assigned IP addresses.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Managed allocation in subnets:</strong></p>
<ul>
<li>
<p><strong>Managed allocation:</strong><br/>
When managed allocation is enabled for a subnet, MAAS takes charge of assigning IP addresses. It uses specific ranges for different purposes.</p>
<ul>
<li>
<p><strong>Dynamic range:</strong><br/>
This is the range from which MAAS leases addresses for DHCP during commissioning or enlistment. MAAS DHCP server picks IPs from this range.</p>
</li>
<li>
<p><strong>Reserved range:</strong><br/>
IP addresses within the reserved range are not assigned by MAAS. These ranges are set aside for infrastructure systems, network hardware, external DHCP, or other uses outside of MAAS’s automatic management.</p>
</li>
</ul>
</li>
<li>
<p><strong>Unmanaged allocation:</strong><br/>
If managed allocation is disabled, MAAS does not automatically assign IP addresses from the subnet.</p>
</li>
</ul>
</li>
<li>
<p><strong>Explanation from documentation:</strong></p>
<ul>
<li>
<p><strong>MAAS glossary and forum:</strong><br/>
The glossary mentions that MAAS will not assign IPs inside the reserved range for managed subnets. The forum clarifies that during commissioning or enlistment, the dynamic range is used for DHCP leases, which means that nodes in these phases will get IPs from the dynamic range.</p>
</li>
<li>
<p><strong>Dynamic range usage:</strong><br/>
Managed allocation uses the dynamic range for temporary leases during commissioning or enlistment but excludes these from auto-assignments for provisioned nodes. This ensures a clear separation between IPs used temporarily and those assigned for operational use.</p>
</li>
</ul>
</li>
<li>
<p><strong>Auto-assigned vs. DHCP-Assigned IPs:</strong></p>
<ul>
<li>
<p><strong>Auto-assigned IPs:</strong><br/>
These IPs are automatically assigned by MAAS during the node provisioning process. These are typically static IPs allocated outside the reserved dynamic range.</p>
</li>
<li>
<p><strong>DHCP-assigned IPs:</strong><br/>
Nodes can be configured to use DHCP, where they will obtain their IP addresses from the MAAS-managed dynamic range. This mode is useful for nodes that may need to change their IP addresses frequently or for short-lived operations.</p>
</li>
</ul>
</li>
</ol>
<p><strong>Steps to resolve:</strong></p>
<ol>
<li>
<p><strong>Verify subnet configuration:</strong></p>
<ul>
<li>Check the subnet settings in the MAAS UI to ensure managed allocation is enabled or disabled as needed.</li>
<li>Configure the dynamic and reserved ranges appropriately to match your network design.</li>
</ul>
</li>
<li>
<p><strong>Understand IP allocation:</strong></p>
<ul>
<li>Ensure that IP addresses required for temporary use (commissioning/enlistment) fall within the dynamic range.</li>
<li>Set aside reserved ranges for infrastructure and systems not managed by MAAS.</li>
</ul>
</li>
<li>
<p><strong>Adjust node networking settings:</strong></p>
<ul>
<li>For nodes requiring static IPs, use the auto-assign mode.</li>
<li>For nodes requiring dynamic IPs, configure them to use DHCP.</li>
</ul>
</li>
</ol>
<p>By clarifying these points, you should have a better understanding of how MAAS handles IP address allocation within subnets and the difference between auto-assigned and DHCP-assigned IP addresses.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-error-the-server-connection-failed-with-the-error-bad-gateway" name="p-9297-error-the-server-connection-failed-with-the-error-bad-gateway">Error: The server connection failed with the error “Bad Gateway”</a></h2>
<p><strong>Problem:</strong><br/>
The MAAS UI was accessible until the network configuration was changed, putting it in its own network without an external DHCP. Now, the user gets an error: “Bad Gateway”.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Verify Network configuration:</strong></p>
<ul>
<li>Ensure that the MAAS server is correctly configured in its new network.</li>
<li>Check if the new IP address of the MAAS server is reachable.</li>
</ul>
</li>
<li>
<p><strong>Check MAAS configuration:</strong></p>
<ul>
<li>Since the IP address of the MAAS server was changed, update the MAAS configuration to reflect the new IP address:<pre data-code-wrap="sh"><code class="lang-sh">sudo maas config --maas-url=http://&lt;new-ip-address&gt;:5240/MAAS
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Check PostgreSQL connection:</strong></p>
<ul>
<li>The error logs may show an issue with the PostgreSQL connection. Verify that PostgreSQL is running and accepting connections on the new IP address.</li>
<li>Update the PostgreSQL configuration to allow connections from the new IP address:<pre data-code-wrap="sh"><code class="lang-sh">sudo nano /etc/postgresql/12/main/pg_hba.conf
</code></pre>
<ul>
<li>Add or update the line to allow connections:<pre><code class="lang-auto">host all all &lt;new-ip-address&gt;/32 md5
</code></pre>
</li>
<li>Restart PostgreSQL:<pre data-code-wrap="sh"><code class="lang-sh">sudo systemctl restart postgresql
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Verify DHCP settings:</strong></p>
<ul>
<li>Ensure that MAAS is configured to manage DHCP on the new network if needed:<pre data-code-wrap="sh"><code class="lang-sh">maas $PROFILE vlan update $FABRIC_ID $VLAN_TAG dhcp_on=True primary_rack=$PRIMARY_RACK_CONTROLLER
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Check logs for further issues:</strong></p>
<ul>
<li>Review the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> for any additional errors.</li>
</ul>
</li>
<li>
<p><strong>Restart MAAS services:</strong></p>
<ul>
<li>Restart the MAAS services to apply the new configurations:<pre data-code-wrap="sh"><code class="lang-sh">sudo systemctl restart maas-regiond maas-rackd
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Validate networking configuration:</strong></p>
<ul>
<li>Use the “Validate networking configuration” button in the MAAS UI or run the following command to ensure network settings are correct:<pre data-code-wrap="sh"><code class="lang-sh">maas $PROFILE subnet read $SUBNET_ID
</code></pre>
</li>
</ul>
</li>
</ol>
<p>By following these steps, you should be able to resolve the “Bad Gateway” error and restore access to the MAAS UI. If the issue persists, consider additional troubleshooting on the network level or consult the <a href="https://maas.io/docs">MAAS documentation</a> for further guidance.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-used-ip-addresses-in-a-subnet-empty-even-though-dhcp-leases-are-given-out" name="p-9297-used-ip-addresses-in-a-subnet-empty-even-though-dhcp-leases-are-given-out">Used IP addresses in a subnet empty even though DHCP leases are given out</a></h2>
<p><strong>Problem:</strong><br/>
MAAS is sending out DHCP leases to both a BMC and a machine set to PXE boot, but the MAAS UI does not show any machines or used IP addresses in the subnet. This issue is hindering the auto-discovery and provisioning process.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Verify DHCP leases:</strong></p>
<ul>
<li>Ensure that the DHCP leases are being given out correctly by checking the <code>dhcpd.leases</code> file in MAAS. You should see entries for both the BMC and the machine you’re trying to PXE boot.</li>
</ul>
</li>
<li>
<p><strong>Check network configuration:</strong></p>
<ul>
<li>Confirm that the hosts are on a different subnet than MAAS and that a DHCP relay is configured correctly. Verify that the relay settings are pointing to the MAAS server.</li>
</ul>
</li>
<li>
<p><strong>Verify VLAN configuration in MAAS:</strong></p>
<ul>
<li>Add the subnet with the hosts to MAAS and create a VLAN for it.</li>
<li>Ensure that the VLAN is added to <code>fabric-0</code> and that MAAS is configured to relay through the untagged VLAN.</li>
</ul>
</li>
<li>
<p><strong>Understand MAAS discovery process:</strong></p>
<ul>
<li>MAAS uses PXE boot and DHCP to discover new machines. Ensure that the machines are set to network boot (PXE) and that they are on the correct subnet where MAAS can communicate with them.</li>
<li>MAAS will recognize a machine if it sees the PXE request and responds with the necessary boot files.</li>
</ul>
</li>
<li>
<p><strong>Check for discovered hosts:</strong></p>
<ul>
<li>Go to the “Machines” tab in the MAAS UI and check the “Discovered hosts” section to see if the new machine appears there.</li>
</ul>
</li>
<li>
<p><strong>Troubleshoot network connectivity:</strong></p>
<ul>
<li>Ensure there are no network issues or misconfigurations that might prevent the DHCP response from reaching MAAS. Check for VLAN tagging issues or routing problems.</li>
</ul>
</li>
<li>
<p><strong>Review logs and configuration files:</strong></p>
<ul>
<li>Check the <a href="https://maas.io/docs/how-to-use-logging">MAAS log files</a> for any errors or warnings that might indicate issues with DHCP or PXE boot.</li>
</ul>
</li>
<li>
<p><strong>Documentation and guides:</strong></p>
<ul>
<li>Refer to the <a href="https://maas.io/docs/about-dhcp-in-maas">official MAAS documentation</a> for detailed information on how MAAS works with DHCP and how to properly configure and troubleshoot it.</li>
</ul>
</li>
</ol>
<p><strong>Example command for checking DHCP leases:</strong></p>
<ul>
<li>View the <code>dhcpd.leases</code> file to ensure that leases are being given out:<pre data-code-wrap="sh"><code class="lang-sh">cat /var/lib/dhcp/dhcpd.leases
</code></pre>
</li>
</ul>
<p><strong>Next steps:</strong></p>
<ul>
<li>If the machine is still not discovered, consider manually adding the machine to MAAS as a last resort.</li>
</ul>
<p>By following these steps, you should be able to diagnose and resolve the issue with MAAS not recognizing the used IP addresses and new machines in the subnet.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-networking-a-dell-server-in-maas" name="p-9297-networking-a-dell-server-in-maas">Networking a Dell server in MAAS</a></h2>
<p><strong>Problem:</strong><br/>
You have successfully set up a Dell server using MAAS, but network interfaces are not being recognized correctly in the MAAS UI, particularly when trying to create a bond interface (port channel). The second network interface (eno2) is UP and recognized by the operating system but is not shown as connected in the MAAS UI.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Check hardware compatibility:</strong></p>
<ul>
<li>Ensure that both eno1 and eno2 are physically connected and recognized by the server hardware. Check for any hardware-related issues or driver compatibility problems that might be causing one of the interfaces not to be detected.</li>
</ul>
</li>
<li>
<p><strong>Verify driver and firmware:</strong></p>
<ul>
<li>Make sure that you have the correct network drivers installed and that the firmware for both network interfaces (eno1 and eno2) is up to date. Outdated firmware or missing drivers can cause issues with interface detection.</li>
</ul>
</li>
<li>
<p><strong>Check network configuration:</strong></p>
<ul>
<li>Verify that the network cables and configurations for eno1 and eno2 are correct. Ensure they are both configured to operate in the same network and subnet.</li>
</ul>
</li>
<li>
<p><strong>MAAS UI configuration:</strong></p>
<ul>
<li>In the MAAS UI, go to the “Machines” tab and select your server.</li>
<li>Click on the “Interfaces” section to view the detected interfaces.</li>
<li>If only one interface (eno1) is shown as UP, it may indicate that the other interface (eno2) is not being detected correctly.</li>
</ul>
</li>
<li>
<p><strong>Troubleshoot interface detection:</strong></p>
<ul>
<li>On the server, try running the following command to manually bring up the eno2 interface and see if it gets detected by MAAS:<pre data-code-wrap="sh"><code class="lang-sh">sudo ip link set eno2 up
</code></pre>
</li>
<li>After running the command, check the MAAS UI again to see if the second interface is now recognized.</li>
</ul>
</li>
<li>
<p><strong>Check MAAS version:</strong></p>
<ul>
<li>Ensure that you are using an up-to-date version of MAAS. Sometimes, issues related to hardware detection and interface recognition are resolved in newer MAAS releases.</li>
</ul>
</li>
<li>
<p><strong>Validate networking configuration in MAAS:</strong></p>
<ul>
<li>Use the “Validate networking configuration” button in the MAAS UI to check for any network issues.</li>
</ul>
</li>
<li>
<p><strong>Commissioning script output:</strong></p>
<ul>
<li>Run a commissioning script to gather detailed logs and output. This can help identify any issues with the network interfaces. Share the commissioning output with the support team or relevant forums for further analysis.</li>
</ul>
</li>
<li>
<p><strong>Check physical connections:</strong></p>
<ul>
<li>Ensure that there are no physical disconnects or missing wires. Sometimes, issues can be caused by simple hardware problems like loose cables.</li>
</ul>
</li>
</ol>
<p><strong>Example command for commissioning script:</strong></p>
<ul>
<li>To run a commissioning script, follow the steps in the MAAS UI to commission the machine. During commissioning, MAAS will run various scripts to validate the hardware configuration. The output of these scripts can be found in the logs section of the MAAS UI.</li>
</ul>
<p><strong>Follow-up actions:</strong></p>
<ul>
<li>If the BMC (Baseboard Management Controller) of the server is powered off, manually power it up and check if the network interfaces are detected correctly.</li>
<li>If the issue persists after all troubleshooting steps, consider reaching out to the MAAS support team or community forums for further assistance.</li>
</ul>
<p>By methodically verifying and comparing configurations, you should be able to pinpoint the cause of the interface detection issue and resolve the networking problem in MAAS.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-maas-dhcp-says-there-are-no-leases" name="p-9297-maas-dhcp-says-there-are-no-leases">MAAS DHCP says there are no leases</a></h2>
<p><strong>Problem:</strong><br/>
You are experiencing an issue where MAAS is not responding to DHCP requests from the iDRAC of a Dell server. The iDRAC’s IP address is 0.0.0.0, and DHCP requests sent to MAAS do not receive replies. The DHCP logs indicate that DHCP DISCOVER messages are received on VLAN 5004, which is outside the valid VLAN range. Additionally, replacing one switch with another resolves the issue, suggesting a potential switch configuration problem.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Verify VLAN configuration:</strong></p>
<ul>
<li>Ensure that the VLAN configuration on both switches (SWITCH1 and SWITCH2) is consistent and correct. Verify that the port connected to the server is configured to handle the appropriate VLANs.</li>
</ul>
</li>
<li>
<p><strong>Check switch logs and settings:</strong></p>
<ul>
<li>Look into the logs and settings of SWITCH1 to see if there are any discrepancies or errors that might cause the DHCP requests to be tagged incorrectly. Ensure that the VLAN settings are not misconfigured.</li>
</ul>
</li>
<li>
<p><strong>MAAS network configuration:</strong></p>
<ul>
<li>Double-check the network configuration in MAAS to ensure that the VLANs are correctly defined and that there are available IP addresses in the DHCP range. You can do this by navigating to the network settings in the MAAS UI.</li>
</ul>
</li>
<li>
<p><strong>Reset iDRAC network settings:</strong></p>
<ul>
<li>If possible, reset the network settings of the iDRAC to ensure it is sending DHCP requests correctly. Verify that the iDRAC is set to obtain an IP address via DHCP.</li>
</ul>
</li>
<li>
<p><strong>Inspect DHCP logs:</strong></p>
<ul>
<li>Continue monitoring the DHCP logs (<code>/var/log/syslog</code>) on the MAAS server for any further insights or repeating patterns. Check if the MAC address of the iDRAC is consistently seen in the logs.</li>
</ul>
</li>
<li>
<p><strong>Test with a different VLAN:</strong></p>
<ul>
<li>If feasible, temporarily configure the iDRAC to use a different VLAN to see if the issue persists. This can help isolate whether the problem is VLAN-specific.</li>
</ul>
</li>
<li>
<p><strong>Switch configuration comparison:</strong></p>
<ul>
<li>Since SWITCH2 works fine, compare the configuration of SWITCH1 and SWITCH2. Look for differences in how they handle VLANs, DHCP relay, and port settings.</li>
</ul>
</li>
<li>
<p><strong>Firmware updates:</strong></p>
<ul>
<li>Ensure that both switches and the iDRAC firmware are up-to-date. Firmware bugs can sometimes cause unexpected behavior.</li>
</ul>
</li>
</ol>
<p><strong>Example commands for switch troubleshooting:</strong></p>
<ul>
<li>
<p>To display VLAN configuration on a Cisco switch:</p>
<pre data-code-wrap="sh"><code class="lang-sh">show vlan brief
</code></pre>
</li>
<li>
<p>To display interface configuration:</p>
<pre data-code-wrap="sh"><code class="lang-sh">show running-config interface &lt;interface-id&gt;
</code></pre>
</li>
</ul>
<p><strong>Follow-up actions:</strong></p>
<ul>
<li>If you identify a misconfiguration on SWITCH1, correct it and test the DHCP process again.</li>
<li>If the issue persists after all troubleshooting steps, consider isolating the network further or engaging with the switch vendor’s support for deeper diagnostics.</li>
</ul>
<p>By methodically verifying and comparing configurations, you should be able to pinpoint the cause of the VLAN misidentification and resolve the DHCP leasing issue.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-issues-with-pxe-booting-from-controller-with-two-networks" name="p-9297-issues-with-pxe-booting-from-controller-with-two-networks">Issues with PXE booting from controller with two networks</a></h2>
<p><strong>Problem:</strong><br/>
You are running a MAAS 3.3 server from an LXD container with two interfaces, each on a different VLAN. PXE booting from “network 2” results in the server only getting an IP and timing out on the TFTP request for <code>bootx64.efi</code>. The issue does not occur on “network 1”. A temporary workaround involved moving the subnet to a separate fabric and recommissioning/deploying, but the subnet eventually reverts to the original fabric, causing the problem to recur.</p>
<p><strong>Solution:</strong></p>
<ol>
<li>
<p><strong>Verify DHCP server:</strong></p>
<ul>
<li>Ensure there are no other DHCP servers running on “network 2” that could be conflicting with MAAS. Use tools like <code>dhcpdump</code> or <code>tcpdump</code> to detect any rogue DHCP servers.</li>
</ul>
</li>
<li>
<p><strong>Check network switch configuration:</strong></p>
<ul>
<li>Confirm that the switch ports are correctly configured for the VLANs. Verify that the switch is not blocking or misrouting TFTP packets.</li>
</ul>
</li>
<li>
<p><strong>Netplan configuration:</strong></p>
<ul>
<li>Verify the netplan configuration in your LXD container is correctly set up and applied. Here is your current configuration:</li>
</ul>
<pre data-code-wrap="yaml"><code class="lang-yaml">network:
  version: 2
  ethernets:
    eth0:
      addresses:
      - 10.25.51.3/23
      dhcp4: false
      nameservers:
        addresses:
        - 10.25.52.2
        - 10.25.51.3
      routes:
      - to: default
        via: 10.25.50.1
    eth1:
      addresses:
      - 10.25.54.100/24
      dhcp4: false
      nameservers:
        addresses:
        - 10.25.51.3
        - 10.25.52.2
</code></pre>
</li>
<li>
<p><strong>Ensure proper netplan application:</strong></p>
<ul>
<li>Make sure the netplan configuration is applied correctly by running <code>sudo netplan apply</code> inside the MAAS container.</li>
</ul>
</li>
<li>
<p><strong>Inspect TFTP service:</strong></p>
<ul>
<li>Verify that the TFTP service is running and properly configured to serve files on both networks. Check for any errors in the TFTP server logs.</li>
</ul>
</li>
<li>
<p><strong>Check MAAS logs:</strong></p>
<ul>
<li>Look into the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> for any errors or warnings related to network or DHCP services.</li>
</ul>
</li>
</ol>
<p>If the issue persists after following these steps, it might be beneficial to work closely with your network team to identify any potential network-level misconfigurations or conflicts. Additionally, you may want to check for any recent changes or updates that could have affected the network or MAAS configuration.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-get-a-complete-list-of-dns-resources-from-the-maas-api" name="p-9297-get-a-complete-list-of-dns-resources-from-the-maas-api">Get a complete list of DNS resources from the MAAS API</a></h2>
<p>To get a complete list of DNS resources from the MAAS API using Python, you need to include the <code>all=True</code> parameter in your request URL. Here is a working example using the <code>requests</code> library:</p>
<pre data-code-wrap="python"><code class="lang-python">import json
from requests import Request, Session
from requests_oauthlib import OAuth1

# Replace with your actual keys and URL
consumer_key = 'xxxxxxxxxx'
token_key = 'yyyyyyyyyyy'
token_secret = 'zzzzzzzzzz'
base_url = 'https://my-maas-instance.com/MAAS/api/2.0/dnsresources/'

# Authentication
auth = OAuth1(consumer_key, '', token_key, token_secret)

# Headers
headers = {'Accept': 'application/json'}

# Full URL with all=True parameter
url = f'{base_url}?all=True'

# Create a session and send the request
session = Session()
request = Request('GET', url, headers=headers, auth=auth)
prepped = request.prepare()
response = session.send(prepped)

# Print the response
print(response.text)
</code></pre>
<p>In this script, make sure to replace the placeholder values (<code>xxxxxxxxxx</code>, <code>yyyyyyyyyyy</code>, <code>zzzzzzzzzz</code>, and <code>https://my-maas-instance.com/MAAS/api/2.0/dnsresources/</code>) with your actual consumer key, token key, token secret, and the MAAS instance URL, respectively.</p>
<p>This will retrieve the full list of DNS resources from the MAAS API, including all entries when <code>all=True</code> is used.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-addressing-snmp-errors-in-maas" name="p-9297-addressing-snmp-errors-in-maas">Addressing SNMP errors in MAAS</a></h2>
<h3><a class="p-link--anchor-heading" href="#p-9297-error-description" name="p-9297-error-description">Error description:</a></h3>
<p>Encountering SNMP errors when attempting to query a device’s BMC. The errors include ‘Cannot find module’ for various MIBs and ‘Timeout’ when communicating with the target IP address.</p>
<h3><a class="p-link--anchor-heading" href="#p-9297-steps-to-resolve" name="p-9297-steps-to-resolve">Steps to resolve:</a></h3>
<ol>
<li>
<p><strong>Check SNMP Configuration:</strong><br/>
Ensure SNMP is correctly configured on the BMC device. Verify the community string, SNMP version, and access control settings.</p>
</li>
<li>
<p><strong>Install missing MIBs:</strong></p>
<ul>
<li>Install the required MIBs on the MAAS server. Missing MIBs often cause ‘Cannot find module’ errors.</li>
<li>Update the SNMP MIB repository:<pre data-code-wrap="bash"><code class="lang-bash">sudo apt-get install snmp-mibs-downloader
sudo download-mibs
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Verify network connectivity:</strong></p>
<ul>
<li>Ensure the MAAS server can reach the BMC device. Check the network connectivity and firewall rules.</li>
<li>Use <code>ping</code> or <code>telnet</code> to verify:<pre data-code-wrap="bash"><code class="lang-bash">ping &lt;BMC_IP&gt;
telnet &lt;BMC_IP&gt; 161
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Test SNMP communication:</strong></p>
<ul>
<li>Use the <code>snmpwalk</code> command to test SNMP communication manually:<pre data-code-wrap="bash"><code class="lang-bash">snmpwalk -v 2c -c &lt;community_string&gt; &lt;BMC_IP&gt;
</code></pre>
</li>
<li>Check for timeout errors or specific MIB module errors.</li>
</ul>
</li>
<li>
<p><strong>Update MAAS and dependencies:</strong></p>
<ul>
<li>Ensure you are using the latest version of MAAS and its dependencies. Update the system packages:<pre data-code-wrap="bash"><code class="lang-bash">sudo apt-get update
sudo apt-get upgrade
sudo snap refresh maas
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Configure SNMP on MAAS:</strong></p>
<ul>
<li>Edit the MAAS configuration to include the correct SNMP settings. Typically, this is done in the <code>/etc/maas/maas.cfg</code> file or through the MAAS web interface.</li>
</ul>
</li>
<li>
<p><strong>Check SNMP logs:</strong></p>
<ul>
<li>
<p>Review the SNMP logs for detailed error messages:</p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo journalctl -u maas
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Restart services:</strong></p>
<ul>
<li>Restart the MAAS and SNMP services to apply the changes:<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart maas-regiond
sudo systemctl restart maas-rackd
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>SNMP timeout troubleshooting:</strong></p>
<ul>
<li>If timeouts persist, increase the SNMP timeout value and retry:<pre data-code-wrap="bash"><code class="lang-bash">snmpwalk -v 2c -c &lt;community_string&gt; -t 60 &lt;BMC_IP&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Community support:</strong></p>
<ul>
<li>If issues persist, consider reaching out to the community or consulting MAAS documentation and forums for specific guidance related to your hardware and MAAS version.</li>
</ul>
</li>
</ol>
<p>By following these steps, you should be able to resolve the SNMP errors and successfully query your device’s BMC using MAAS.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-disabling-bind-named-on-ipv6-in-maas" name="p-9297-disabling-bind-named-on-ipv6-in-maas">Disabling BIND (named) on IPv6 in MAAS</a></h2>
<p><strong>Scenario:</strong><br/>
You need to disable BIND (named) from listening on IPv6 addresses in a MAAS setup. The solution involves editing the BIND configuration to disable IPv6.</p>
<p><strong>For Snap installation:</strong><br/>
Snap installations of MAAS do not allow direct editing of the named configuration files because they are contained within the snap. However, you can manage named options indirectly.</p>
<p><strong>For Apt Installation:</strong><br/>
If MAAS is installed using apt, you can directly edit the BIND configuration files.</p>
<h3><a class="p-link--anchor-heading" href="#p-9297-steps-for-apt-installed-maas" name="p-9297-steps-for-apt-installed-maas">Steps for Apt-installed MAAS</a></h3>
<ol>
<li>
<p><strong>Open the named configuration options file:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo nano /etc/bind/named.conf.options
</code></pre>
</li>
<li>
<p><strong>Edit the file to disable IPv6:</strong><br/>
Find the line that specifies the IPv6 listening options and change it to disable IPv6. The line typically looks like:</p>
<pre data-code-wrap="bash"><code class="lang-bash">listen-on-v6 { any; };
</code></pre>
<p>Change it to:</p>
<pre data-code-wrap="bash"><code class="lang-bash">listen-on-v6 { none; };
</code></pre>
</li>
<li>
<p><strong>Save and exit the file:</strong></p>
<ul>
<li>Press <code>Ctrl+O</code> to write the changes.</li>
<li>Press <code>Enter</code> to confirm.</li>
<li>Press <code>Ctrl+X</code> to exit the editor.</li>
</ul>
</li>
<li>
<p><strong>Restart BIND to apply the changes:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart bind9
</code></pre>
</li>
</ol>
<h3><a class="p-link--anchor-heading" href="#p-9297-verification" name="p-9297-verification">Verification</a></h3>
<ol>
<li>
<p><strong>Check the BIND status:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl status bind9
</code></pre>
<p>Ensure there are no errors.</p>
</li>
<li>
<p><strong>Verify that BIND is not listening on IPv6:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo netstat -plnt | grep named
</code></pre>
<p>This should show that named is not listening on any IPv6 addresses.</p>
</li>
</ol>
<h3><a class="p-link--anchor-heading" href="#p-9297-notes" name="p-9297-notes">Notes</a></h3>
<ul>
<li><strong>MAAS Snap installation:</strong><br/>
For the snap version of MAAS, this process is not directly applicable as snaps are isolated and do not allow direct modification of their internal configuration files. In such cases, consult the snap documentation or consider using an apt-based installation if you need more flexibility in configuration.</li>
</ul>
<p>By following these steps, you should be able to disable BIND from listening on IPv6 in a MAAS environment installed via apt.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-creating-and-managing-dns-srv-records-in-maas" name="p-9297-creating-and-managing-dns-srv-records-in-maas">Creating and managing DNS SRV records in MAAS</a></h2>
<p><strong>Problem:</strong><br/>
Difficulty in creating and resolving DNS SRV records in MAAS, where records added via the MAAS GUI do not resolve correctly despite appearing in the zone file.</p>
<p><strong>Solution:</strong><br/>
Ensure that DNS SRV records are created correctly and troubleshoot potential issues with the web GUI by verifying the records directly in the zone file and ensuring that named.conf is properly updated.</p>
<p><strong>Steps to Resolve:</strong></p>
<ol>
<li>
<p><strong>Verify SRV record creation via MAAS GUI:</strong></p>
<ul>
<li>Log in to the MAAS web interface.</li>
<li>Navigate to the DNS settings and add the desired SRV records.</li>
<li>Ensure the format is correct:<pre><code class="lang-auto">_service._protocol.name. TTL class SRV priority weight port target.
</code></pre>
</li>
<li>Example:<pre><code class="lang-auto">_myservice._tcp.test. 30 IN SRV 10 10 1234 t1.test.
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Check zone file directly:</strong></p>
<ul>
<li>Access the MAAS server and check the DNS zone file for the domain.</li>
<li>Verify that the SRV record appears correctly in the zone file.<pre data-code-wrap="bash"><code class="lang-bash">cat /var/lib/bind/maas/zone.test
</code></pre>
</li>
<li>Example:<pre data-code-wrap="bash"><code class="lang-bash">; Zone file modified: 2023-12-09 16:00:59.338123.
$TTL 30
@ IN SOA test. nobody.example.com. (
0000000951 ; serial
600 ; Refresh
1800 ; Retry
604800 ; Expire
30 ; NXTTL
)
@ 30 IN NS maas.
t2 30 IN A 192.168.1.2
t3 30 IN A 192.168.1.3
t1 30 IN A 192.168.1.1
_myservice._tcp 30 IN SRV 10 10 1234 t1.test.
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Test SRV record resolution:</strong></p>
<ul>
<li>Use the <code>dig</code> command to query the SRV record and check the response.<pre data-code-wrap="bash"><code class="lang-bash">dig @localhost SRV _myservice._tcp.test
</code></pre>
</li>
<li>Expected output:<pre data-code-wrap="bash"><code class="lang-bash">; &lt;&lt;&gt;&gt; DiG 9.18.18-0ubuntu0.22.04.1-Ubuntu &lt;&lt;&gt;&gt; @localhost SRV _myservice._tcp.test
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 10147
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; QUESTION SECTION:
;_myservice._tcp.test. IN SRV

;; ANSWER SECTION:
_myservice._tcp.test. 30 IN SRV 10 10 1234 t1.test.

;; Query time: 0 msec
;; SERVER: 127.0.0.1#53(localhost) (UDP)
;; WHEN: Sat Dec 09 16:05:35 UTC 2023
;; MSG SIZE rcvd: 135
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Troubleshoot GUI issues:</strong></p>
<ul>
<li>If records do not appear or resolve correctly, manually edit the zone file and named configuration.</li>
<li>Ensure there are no stale or incorrectly formatted entries.</li>
<li>Restart the DNS service to apply changes:<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart bind9
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Check named configuration:</strong></p>
<ul>
<li>Ensure that the named configuration includes the correct zone settings and paths to the zone files.<pre data-code-wrap="bash"><code class="lang-bash">cat /etc/bind/named.conf
</code></pre>
</li>
</ul>
</li>
</ol>
<p><strong>Example:</strong></p>
<ol>
<li>
<p><strong>Create SRV record in MAAS GUI:</strong></p>
<ul>
<li>Navigate to the domain <code>test</code> and add the SRV record <code>_myservice._tcp.test</code>.</li>
</ul>
</li>
<li>
<p><strong>Verify zone file:</strong></p>
<ul>
<li>Confirm the zone file has the correct entries.<pre data-code-wrap="bash"><code class="lang-bash">cat /var/lib/bind/maas/zone.test
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Test resolution:</strong></p>
<ul>
<li>Use <code>dig</code> to test the SRV record.<pre data-code-wrap="bash"><code class="lang-bash">dig @localhost SRV _myservice._tcp.test
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Manual edit and restart (if needed):</strong></p>
<ul>
<li>Edit zone file if the GUI fails and restart DNS service.<pre data-code-wrap="bash"><code class="lang-bash">sudo nano /var/lib/bind/maas/zone.test
sudo systemctl restart bind9
</code></pre>
</li>
</ul>
</li>
</ol>
<p>By following these steps, you can create and manage DNS SRV records in MAAS, ensuring they are correctly configured and resolvable.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-legacy-bios-boot-from-second-nic" name="p-9297-legacy-bios-boot-from-second-nic">Legacy BIOS boot from second NIC</a></h2>
<p><strong>Problem:</strong><br/>
When using MAAS with machines that boot via legacy BIOS, there’s an issue where PXE booting from the second NIC results in a “No boot filename received” error. This occurs despite the machine receiving a DHCP offer.</p>
<p><strong>Solution:</strong><br/>
The issue is likely due to the limitation that, until MAAS version 3.5, booting from the first NIC is required for machines using legacy BIOS. To resolve this, you need to configure the machines to boot from the first NIC and use the second NIC for other network configurations.</p>
<p><strong>Steps to resolve:</strong></p>
<ol>
<li>
<p><strong>Verify boot order:</strong></p>
<ul>
<li>Ensure that the boot order in the BIOS settings of your machines prioritizes the first NIC for PXE booting.</li>
</ul>
</li>
<li>
<p><strong>Reconfigure MAAS network settings:</strong></p>
<ul>
<li>Ensure that the MAAS server and DHCP configurations are set up correctly for the first NIC.</li>
</ul>
</li>
<li>
<p><strong>Update MAAS machine entries:</strong></p>
<ul>
<li>If necessary, re-add the machines in MAAS using the MAC address of the first NIC.</li>
</ul>
</li>
</ol>
<p><strong>Detailed steps:</strong></p>
<p><strong>a. Check and configure BIOS settings:</strong></p>
<ol>
<li>
<p><strong>Access BIOS/UEFI settings:</strong></p>
<ul>
<li>Restart the machine and enter the BIOS/UEFI setup (usually by pressing F2, F10, F12, or Delete during boot).</li>
</ul>
</li>
<li>
<p><strong>Set boot order:</strong></p>
<ul>
<li>Navigate to the boot settings and set the first NIC as the primary boot device for PXE booting.</li>
</ul>
</li>
</ol>
<p><strong>b. Update MAAS configuration:</strong></p>
<ol>
<li>
<p><strong>Re-add machine with first NIC:</strong></p>
<ul>
<li>In the MAAS UI, ensure the machine is enlisted with the MAC address of the first NIC.</li>
</ul>
<p><strong>Example command to add machine with first NIC:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE machines add mac_addresses=$FIRST_NIC_MAC
</code></pre>
</li>
<li>
<p><strong>Verify DHCP configuration:</strong></p>
<ul>
<li>Ensure DHCP is correctly configured for the first NIC in the subnet used for PXE booting.</li>
</ul>
</li>
</ol>
<p><strong>Example DHCP configuration check:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo nano /etc/dhcp/dhcpd.conf
</code></pre>
<ul>
<li>Ensure the correct interface and subnet are specified.</li>
</ul>
<p><strong>c. Re-commission the machine:</strong></p>
<ol>
<li>
<p><strong>Commission the machine:</strong></p>
<ul>
<li>Re-commission the machine in MAAS using the first NIC for PXE booting.</li>
</ul>
<p><strong>Example command to commission machine:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE machine commission $MACHINE_ID
</code></pre>
</li>
<li>
<p><strong>Check logs for errors:</strong></p>
<ul>
<li>Monitor the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> for any errors related to network configuration.</li>
</ul>
</li>
</ol>
<p><strong>Example workflow:</strong></p>
<ol>
<li>
<p><strong>Verify boot order in BIOS:</strong></p>
<ul>
<li>Ensure the first NIC is set as the primary boot device.</li>
</ul>
</li>
<li>
<p><strong>Add machine to MAAS with first NIC:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE machines add mac_addresses=$FIRST_NIC_MAC
</code></pre>
</li>
<li>
<p><strong>Configure and verify DHCP for first NIC:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo nano /etc/dhcp/dhcpd.conf
</code></pre>
</li>
<li>
<p><strong>Commission the machine:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE machine commission $MACHINE_ID
</code></pre>
</li>
<li>
<p>**Monitor the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a>.</p>
</li>
</ol>
<p>By following these steps, you can ensure that machines with legacy BIOS can successfully PXE boot from the first NIC, resolving the “No boot filename received” error and enabling proper commissioning and deployment in MAAS.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-using-routed-subnets" name="p-9297-using-routed-subnets">Using routed subnets</a></h2>
<p><strong>Problem:</strong><br/>
The MAAS server is set up on VLAN 1000 with subnet 10.10.10.0/24 and is configured to serve another subnet 10.20.20.0/24 via DHCP relay. Devices in the 10.20.20.0/24 subnet can receive DHCP addresses but fail to connect to the TFTP server, resulting in timeouts.</p>
<p><strong>Solution:</strong><br/>
To resolve this issue, you need to ensure that TFTP and other necessary services can communicate properly across subnets. This involves verifying network configurations and ensuring that MAAS is set up to handle requests from both subnets.</p>
<p><strong>Steps to resolve the issue:</strong></p>
<ol>
<li>
<p><strong>Check the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a></strong> to verify that the TFTP requests are being received and to identify any potential issues.</p>
</li>
<li>
<p><strong>Verify network configuration:</strong></p>
<ul>
<li>Ensure that network devices are correctly configured to route traffic between the subnets. This includes ensuring that the DHCP relay is functioning properly and that there are no routing issues.</li>
</ul>
<p><strong>Example configuration check:</strong></p>
<ul>
<li>Verify that routers or switches between the VLANs are configured to allow TFTP traffic.</li>
</ul>
</li>
<li>
<p><strong>Enable ProxyDHCP:</strong></p>
<ul>
<li>Ensure that ProxyDHCP is enabled on the MAAS server to handle PXE boot requests.</li>
</ul>
<p><strong>Example command to enable ProxyDHCP:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE maas set-config name=enable_proxy value=true
</code></pre>
</li>
<li>
<p><strong>Check TFTP configuration:</strong></p>
<ul>
<li>Verify that the TFTP server on the MAAS rack controller is properly configured to serve requests from both subnets.</li>
</ul>
<p><strong>Example TFTP configuration check:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo nano /etc/default/tftpd-hpa
</code></pre>
<ul>
<li>Ensure the TFTP server is listening on the correct interfaces.</li>
</ul>
</li>
<li>
<p><strong>Ensure IP forwarding:</strong></p>
<ul>
<li>Verify that IP forwarding is enabled on the MAAS server to allow routing between the subnets.</li>
</ul>
<p><strong>Example command to enable IP forwarding:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo sysctl -w net.ipv4.ip_forward=1
</code></pre>
</li>
<li>
<p><strong>Firewall configuration:</strong></p>
<ul>
<li>Double-check that there are no firewall rules blocking traffic between the subnets.</li>
</ul>
<p><strong>Example firewall check:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo ufw status
</code></pre>
</li>
<li>
<p><strong>Network device configuration:</strong></p>
<ul>
<li>Ensure that network devices (routers/switches) are configured to forward TFTP and HTTP requests from devices in the 10.20.20.0/24 subnet to the MAAS server in the 10.10.10.0/24 subnet.</li>
</ul>
<p><strong>Example network configuration:</strong></p>
<pre><code class="lang-plaintext">Router Configuration:
- DHCP relay pointing to 10.10.10.2
- IP routes allowing traffic between 10.20.20.0/24 and 10.10.10.0/24
</code></pre>
</li>
</ol>
<p><strong>Example workflow:</strong></p>
<ol>
<li>
<p><strong>Check the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a>:</strong></p>
</li>
<li>
<p><strong>Verify network devices configuration:</strong></p>
<ul>
<li>Ensure that all routers and switches are correctly configured to allow TFTP traffic.</li>
</ul>
</li>
<li>
<p><strong>Enable ProxyDHCP on MAAS:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE maas set-config name=enable_proxy value=true
</code></pre>
</li>
<li>
<p><strong>Check TFTP server configuration:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo nano /etc/default/tftpd-hpa
</code></pre>
<ul>
<li>Ensure it listens on the correct interfaces.</li>
</ul>
</li>
<li>
<p><strong>Enable IP forwarding:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo sysctl -w net.ipv4.ip_forward=1
</code></pre>
</li>
<li>
<p><strong>Check firewall status:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo ufw status
</code></pre>
</li>
</ol>
<p>By following these steps, you can troubleshoot and resolve the issue of the MAAS server not responding to TFTP requests from the 10.20.20.0/24 subnet, ensuring that all devices can properly communicate with the MAAS server across different subnets.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-commissioning-failed-due-to-lldpd" name="p-9297-commissioning-failed-due-to-lldpd">Commissioning failed due to lldpd</a></h2>
<p><strong>Problem:</strong><br/>
The commissioning process fails at the “lldpd” installation step due to the error “Unable to locate package lldpd.” This issue occurs in a disconnected environment where a local mirror of the Ubuntu repository is used.</p>
<p><strong>Solution:</strong><br/>
The issue is likely due to missing repository components in the local mirror configuration, particularly the “universe” component where the <code>lldpd</code> package resides.</p>
<p><strong>Steps to resolve:</strong></p>
<ol>
<li>
<p><strong>Check repository components:</strong></p>
<ul>
<li>Ensure that the local mirror includes the necessary repository components (<code>main</code>, <code>universe</code>, <code>restricted</code>, and <code>multiverse</code>).</li>
</ul>
</li>
<li>
<p><strong>Update MAAS settings:</strong></p>
<ul>
<li>Update the MAAS settings to ensure it uses the local mirror correctly, including all required components.</li>
</ul>
</li>
<li>
<p><strong>Verify and update preseed configuration:</strong></p>
<ul>
<li>Verify the preseed configuration to ensure it includes all necessary components.</li>
</ul>
</li>
<li>
<p><strong>Detailed steps:</strong></p>
<p><strong>a. Verify local mirror configuration:</strong></p>
<ul>
<li>Ensure your local mirror configuration includes the <code>universe</code> component.</li>
</ul>
<p><strong>Example local mirror configuration:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">deb http://192.168.1.100/repos/archive.ubuntu.com/ubuntu focal main universe restricted multiverse
</code></pre>
<p><strong>b. Update MAAS proxy settings:</strong></p>
<ul>
<li>Ensure MAAS is configured to use the local mirror as a proxy and includes all components.</li>
</ul>
<p><strong>Example MAAS proxy configuration:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo maas $PROFILE maas set-config name=http_proxy value="http://192.168.1.100:8000/"
</code></pre>
<p><strong>c. Verify preseed configuration:</strong></p>
<ul>
<li>Access the preseed configuration to ensure it includes all necessary repository components.</li>
</ul>
<p><strong>Example command to access preseed:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">http://&lt;maas_ip&gt;:5240/MAAS/metadata/latest/by-id/&lt;system_id&gt;/?op=get_preseed
</code></pre>
<p><strong>Example preseed configuration:</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">sources:
  repo_infra_3:
    source: deb http://192.168.1.100/repos/archive.ubuntu.com/ubuntu $RELEASE main universe restricted multiverse
</code></pre>
<p><strong>d. Disable official repositories:</strong></p>
<ul>
<li>Since the environment is disconnected from the internet, disable the official repositories to avoid errors.</li>
</ul>
<p><strong>Example configuration to disable official repositories:</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">sources:
  repo_infra_3:
    source: deb http://192.168.1.100/repos/archive.ubuntu.com/ubuntu $RELEASE main universe restricted multiverse
</code></pre>
<p><strong>e. Re-run commissioning:</strong></p>
<ul>
<li>Re-run the commissioning process to ensure the changes take effect.</li>
</ul>
</li>
<li>
<p><strong>Verify package availability:</strong></p>
<ul>
<li>Confirm that the <code>lldpd</code> package is available in the local mirror by running the following command on a test machine:</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">sudo apt-get update
sudo apt-get install lldpd
</code></pre>
</li>
</ol>
<p>By following these steps, you can ensure that the necessary repository components are included and configured correctly, allowing the commissioning process to complete successfully without errors related to the <code>lldpd</code> package.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-adding-domains-to-the-dns-search-list" name="p-9297-adding-domains-to-the-dns-search-list">Adding domains to the DNS search list</a></h2>
<p><strong>Problem:</strong><br/>
You want to add two additional domains to the DNS search list for a subnet in MAAS, but there doesn’t seem to be an option to set this directly in the UI or through typical configuration methods.</p>
<p><strong>Solution:</strong><br/>
To add additional domains to the DNS search list for a subnet in MAAS, you can use a custom cloud-init script to configure the <code>resolv.conf</code> file. Follow these steps:</p>
<ol>
<li>
<p><strong>Use cloud-init configuration:</strong></p>
<ul>
<li>Cloud-init can be used to configure the DNS search list by specifying the appropriate settings in a custom cloud-init script.</li>
</ul>
</li>
<li>
<p><strong>Steps to configure DNS search list:</strong></p>
<p><strong>a. Create a custom cloud-init script:</strong></p>
<ul>
<li>Create a cloud-init script that adds the desired search domains to the <code>resolv.conf</code> file.</li>
</ul>
<p><strong>Example cloud-init script:</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">#cloud-config
write_files:
  - path: /etc/cloud/cloud.cfg.d/99-custom-dns.cfg
    content: |
      network:
        config: disabled
runcmd:
  - echo "search domain1.com domain2.com" &gt;&gt; /etc/resolv.conf
  - netplan apply
</code></pre>
<p><strong>b. Update MAAS machine configuration:</strong></p>
<ul>
<li>Apply this cloud-init script to the machines managed by MAAS. You can do this by adding the script to the custom commissioning and deployment scripts in the MAAS UI or via the CLI.</li>
</ul>
<p><strong>Example command to apply custom cloud-init script:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE machine update $MACHINE_ID user_data="$(base64 -w 0 /path/to/your/cloud-init.yaml)"
</code></pre>
<p><strong>c. Verify DNS configuration:</strong></p>
<ul>
<li>After the machines have been deployed, verify that the <code>resolv.conf</code> file has the correct DNS search list entries.</li>
</ul>
<p><strong>Example command to check <code>resolv.conf</code>:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">cat /etc/resolv.conf
</code></pre>
</li>
<li>
<p><strong>Ensure persistence:</strong></p>
<ul>
<li>Since cloud-init might overwrite the network configuration on reboot, ensure that your custom cloud-init script disables network configuration management by cloud-init.</li>
</ul>
<p><strong>Example configuration to disable network configuration by cloud-init:</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">network:
  config: disabled
</code></pre>
<ul>
<li>Add this configuration to your cloud-init script to prevent cloud-init from overwriting your custom DNS settings.</li>
</ul>
</li>
</ol>
<p><strong>Example workflow:</strong></p>
<ol>
<li>
<p><strong>Create custom cloud-init script:</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">#cloud-config
write_files:
  - path: /etc/cloud/cloud.cfg.d/99-custom-dns.cfg
    content: |
      network:
        config: disabled
runcmd:
  - echo "search domain1.com domain2.com" &gt;&gt; /etc/resolv.conf
  - netplan apply
</code></pre>
</li>
<li>
<p><strong>Apply script to MAAS machine:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE machine update $MACHINE_ID user_data="$(base64 -w 0 /path/to/your/cloud-init.yaml)"
</code></pre>
</li>
<li>
<p><strong>Deploy and verify:</strong></p>
<ul>
<li>Deploy the machine and verify the DNS configuration.</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">cat /etc/resolv.conf
</code></pre>
</li>
</ol>
<p>By following these steps, you can add additional domains to the DNS search list for your MAAS-managed subnets, ensuring proper DNS resolution for your deployed machines.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-clients-get-the-image-but-dont-appear-on-the-gui" name="p-9297-clients-get-the-image-but-dont-appear-on-the-gui">Clients get the image but don’t appear on the GUI</a></h2>
<p><strong>Problem:</strong><br/>
Clients (VMs) receive the image and boot correctly from MAAS, but they do not appear in the MAAS GUI under the Machines section.</p>
<p><strong>Solution:</strong><br/>
This issue could be due to network misconfiguration or incorrect settings in MAAS that prevent the clients from being properly enlisted and commissioned. Follow these steps to resolve the issue:</p>
<ol>
<li>
<p><strong>Verify network configuration:</strong></p>
<ul>
<li>Ensure that DHCP is enabled on the correct VLAN where your VMs are located.</li>
<li>Check that the DHCP server sends the DHCP offer with the MAAS IP provided in the “next server” property.</li>
</ul>
</li>
<li>
<p><strong>Check MAAS logs:</strong></p>
<ul>
<li>Review <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> for any errors or warnings that might indicate why the clients are not appearing in the GUI.</li>
</ul>
</li>
<li>
<p><strong>Ensure proper enlistment:</strong></p>
<ul>
<li>Confirm that the clients are properly enlisting with MAAS. This includes ensuring that the correct commissioning scripts are running.</li>
</ul>
</li>
<li>
<p><strong>Steps to resolve the issue:</strong></p>
<p><strong>a. Verify DHCP configuration:</strong></p>
<ul>
<li>Ensure that the DHCP server on MAAS is correctly configured to provide IP addresses to the VMs on the correct VLAN.</li>
</ul>
<p><strong>Example command to check DHCP configuration:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE dhcps read
</code></pre>
<p><strong>b. Check MAAS logs:</strong></p>
<ul>
<li>Check the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> for any errors or issues related to DHCP or network configuration.</li>
</ul>
<p><strong>c. Verify network interface configuration:</strong></p>
<ul>
<li>Ensure that the network interfaces on the MAAS VM are correctly configured and match the settings in MAAS.</li>
</ul>
<p><strong>d. Ensure correct enlistment:</strong></p>
<ul>
<li>Verify that the VMs are set up to enlist correctly with MAAS. This includes making sure they are using the correct PXE boot settings.</li>
</ul>
<p><strong>Example steps to verify PXE boot:</strong></p>
<ol>
<li>Ensure the VM is set to network boot (PXE).</li>
<li>Verify that the correct boot image is being used.</li>
</ol>
<p><strong>e. Check commissioning status:</strong></p>
<ul>
<li>Make sure the VMs are commissioning correctly and check their status in MAAS.</li>
</ul>
<p><strong>Example command to check commissioning status:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE machines read
</code></pre>
</li>
<li>
<p><strong>Additional configuration:</strong></p>
<ul>
<li>Ensure that the MAAS server and clients are on the same network and that there are no firewall rules blocking communication.</li>
</ul>
</li>
</ol>
<p><strong>Example workflow:</strong></p>
<ol>
<li>
<p><strong>Check DHCP and network configuration:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE dhcps read
</code></pre>
</li>
<li>
<p><strong>Check the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a></strong>.</p>
</li>
<li>
<p><strong>Verify PXE boot settings:</strong></p>
<ul>
<li>Ensure VMs are set to boot from the network (PXE).</li>
</ul>
</li>
<li>
<p><strong>Check commissioning status:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE machines read
</code></pre>
</li>
</ol>
<p>By following these steps, you can diagnose and resolve the issue of clients receiving images but not appearing in the MAAS GUI. This approach ensures proper network configuration and correct commissioning of the VMs.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-ha-dhcp-for-relayed-subnets" name="p-9297-ha-dhcp-for-relayed-subnets">HA DHCP for relayed subnets</a></h2>
<p><strong>Problem:</strong><br/>
Implementing high availability (HA) for DHCP in relayed subnets using MAAS is not straightforward, and the standard architecture restricts adding a secondary rack controller in these scenarios.</p>
<p><strong>Solution:</strong><br/>
To achieve HA for DHCP services in relayed subnets with MAAS, follow these steps:</p>
<ol>
<li>
<p><strong>Understand MAAS DHCP configuration:</strong></p>
<ul>
<li>MAAS typically allows for setting a primary and secondary rack controller for DHCP services directly connected to subnets. For relayed DHCP, both rack controllers must be aware of each other and be able to manage the DHCP relay for the target subnets.</li>
</ul>
</li>
<li>
<p><strong>Update VLAN configuration via CLI:</strong></p>
<ul>
<li>Use the MAAS CLI to configure the primary and secondary rack controllers for DHCP. Ensure both rack controllers are on the same VLAN where they can communicate effectively.</li>
</ul>
</li>
<li>
<p><strong>Steps for Configuration:</strong></p>
<p><strong>a. Identify VLAN and fabric IDs:</strong></p>
<ul>
<li>Determine the fabric ID and VLAN ID for the subnets where DHCP needs to be relayed.</li>
</ul>
<p><strong>b. Configure primary and secondary rack controllers:</strong></p>
<ul>
<li>Update the VLAN configuration to set the primary and secondary rack controllers.</li>
</ul>
<p><strong>Example commands:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE vlan update $FABRIC_ID $VLAN_TAG dhcp_on=True \
    primary_rack=$PRIMARY_RACK_CONTROLLER \
    secondary_rack=$SECONDARY_RACK_CONTROLLER 
</code></pre>
<p><strong>c. Configure DHCP relay:</strong></p>
<ul>
<li>Use the CLI to set up the DHCP relay, ensuring both rack controllers can handle the relayed DHCP traffic.</li>
</ul>
<p><strong>Example command:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE vlan update $FABRIC_ID $VLAN_ID_SRC relay_vlan=$VLAN_ID_TARGET
</code></pre>
</li>
<li>
<p><strong>Network considerations:</strong></p>
<ul>
<li>Ensure that both rack controllers are connected to the same network infrastructure that supports VLANs and DHCP relay. They should be able to communicate over the same VLAN.</li>
</ul>
</li>
<li>
<p><strong>HA setup with IP helpers:</strong></p>
<ul>
<li>Configure IP helpers on your network switches to relay DHCP requests to both the primary and secondary rack controllers. This will ensure that if one rack controller goes down, the other can still handle DHCP requests.</li>
</ul>
</li>
<li>
<p><strong>Verify configuration:</strong></p>
<ul>
<li>After configuration, verify that both rack controllers are operational and can handle DHCP requests. Check the MAAS UI and logs to confirm there are no errors.</li>
</ul>
</li>
</ol>
<p><strong>Example workflow:</strong></p>
<ol>
<li>
<p><strong>Get fabric and VLAN IDs:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE fabrics read
maas $PROFILE vlans read $FABRIC_ID
</code></pre>
</li>
<li>
<p><strong>Update VLAN for DHCP and relay:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas $PROFILE vlan update $FABRIC_ID $VLAN_TAG dhcp_on=True \
    primary_rack=$PRIMARY_RACK_CONTROLLER \
    secondary_rack=$SECONDARY_RACK_CONTROLLER 

maas $PROFILE vlan update $FABRIC_ID $VLAN_ID_SRC relay_vlan=$VLAN_ID_TARGET
</code></pre>
</li>
<li>
<p><strong>Configure IP helpers on network switch:</strong></p>
<ul>
<li>Set IP helpers to point to both rack controllers’ IP addresses on the network switch.</li>
</ul>
</li>
</ol>
<p>By following these steps, you can set up HA for DHCP in relayed subnets using MAAS, ensuring redundancy and high availability for your network configuration. This approach leverages both the MAAS CLI for detailed configuration and network infrastructure for effective DHCP relay.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-external-dhcp-configuration" name="p-9297-external-dhcp-configuration">External DHCP configuration</a></h2>
<p><strong>Problem:</strong><br/>
MAAS passes the commissioning and deployment stages but gets stuck in the “rebooting” stage with an <code>errno 101 network is unreachable</code> error. This issue may be related to the external DHCP configuration.</p>
<p><strong>Solution:</strong><br/>
To resolve issues related to external DHCP configuration in MAAS, follow these steps:</p>
<ol>
<li>
<p><strong>Verify external DHCP server:</strong></p>
<ul>
<li>Ensure that the external DHCP server is properly configured and operational on the subnet where the MAAS rack controller is connected.</li>
</ul>
</li>
<li>
<p><strong>Enable network discovery:</strong></p>
<ul>
<li>Make sure that network discovery is enabled in MAAS and that the rack controller is checking for external DHCP servers regularly.</li>
</ul>
</li>
<li>
<p><strong>Check logs:</strong></p>
<ul>
<li>Inspect the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> to verify that the rack controller is detecting the external DHCP server.</li>
</ul>
</li>
<li>
<p><strong>Set static IP configuration:</strong></p>
<ul>
<li>If using a virtual environment like OpenVSwitch, configure the server’s network settings to static IP addresses to avoid issues during boot.</li>
</ul>
</li>
<li>
<p><strong>Detailed steps:</strong></p>
<p><strong>a. Verify external DHCP server:</strong></p>
<ul>
<li>Ensure that the external DHCP server is providing IP addresses correctly. Check if the external DHCP server’s host is visible in the network discovery results.</li>
</ul>
<p><strong>b. Enable network discovery:</strong></p>
<ul>
<li>Confirm that network discovery is enabled and set to check every 10 minutes.</li>
</ul>
<p><strong>Example:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas admin subnet update &lt;subnet-id&gt; manage_discovery=true
</code></pre>
<p><strong>c. Check logs:</strong></p>
<ul>
<li>Review the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> to ensure the external DHCP server is being detected.</li>
</ul>
<p><strong>d. Set static IP configuration:</strong></p>
<ul>
<li>If the issue persists, configure the server’s network settings to use a static IP address. This is particularly useful for virtual environments where DHCP might not function as expected.</li>
</ul>
<p><strong>Example netplan configuration (static IP):</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">network:
  ethernets:
    ens16:
      addresses:
        - 192.168.30.20/23
      nameservers:
        addresses:
          - 192.168.30.1
          - 192.168.30.2
      routes:
        - to: default
          via: 192.168.30.10
  version: 2
</code></pre>
<p><strong>Apply the changes:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo netplan apply
</code></pre>
</li>
<li>
<p><strong>Additional configuration:</strong></p>
<ul>
<li>Ensure that the network interfaces and routing are correctly set up to allow communication with the MAAS server.</li>
</ul>
</li>
</ol>
<p>By following these steps, users can resolve the <code>errno 101 network is unreachable</code> error and ensure that the MAAS deployment process completes successfully. This approach addresses both DHCP configuration issues and network interface settings.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-errno-101-network-is-unreachable" name="p-9297-errno-101-network-is-unreachable">Errno 101 - network is unreachable</a></h2>
<p><strong>Problem:</strong><br/>
MAAS passes the commissioning and deployment stages but gets stuck in the “rebooting” stage with an <code>errno 101 network is unreachable</code> error. This occurs even with a standard installation without using a cloud-init script.</p>
<p><strong>Solution:</strong><br/>
This issue can often be related to external DHCP configuration or network misconfiguration. Here are steps to resolve the issue:</p>
<ol>
<li>
<p><strong>Verify network configuration:</strong></p>
<ul>
<li>Ensure that the network interfaces are correctly configured and can reach the MAAS metadata service.</li>
</ul>
</li>
<li>
<p><strong>Check DHCP settings:</strong></p>
<ul>
<li>Verify that DHCP is correctly set up and that the deployed machine receives the correct IP address and can communicate with the MAAS server.</li>
</ul>
</li>
<li>
<p><strong>Modify cloud-init configuration:</strong></p>
<ul>
<li>Ensure that the cloud-init configuration is correctly set up to avoid network-related issues during the rebooting stage.</li>
</ul>
</li>
<li>
<p><strong>Detailed steps:</strong></p>
<p><strong>a. Verify network interfaces:</strong></p>
<ul>
<li>Check the network configuration on the deployed machine to ensure it has the correct IP settings and can reach the MAAS server.</li>
</ul>
<p><strong>Example commands:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">ip addr show
ip route show
</code></pre>
<p><strong>b. Check DHCP and DNS configuration:</strong></p>
<ul>
<li>Ensure that the DHCP server provides the correct IP address, subnet mask, gateway, and DNS settings to the deployed machine.</li>
</ul>
<p><strong>Example:</strong></p>
<ul>
<li>Ensure that the machine receives an IP address in the correct subnet and can reach the MAAS server.</li>
</ul>
<p><strong>c. Modify cloud-init configuration:</strong></p>
<ul>
<li>Modify the cloud-init configuration to disable attempts to contact the MAAS metadata server if it is not reachable.</li>
</ul>
<p><strong>Example cloud-init script:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">#!/bin/bash
# disable cloud-init network configuration after deployment
sudo touch /etc/cloud/cloud-init.disabled
</code></pre>
<p><strong>d. Update network configuration:</strong></p>
<ul>
<li>Update the network configuration files on the deployed machine to ensure it uses the correct network settings.</li>
</ul>
<p><strong>Example netplan configuration:</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">network:
  version: 2
  ethernets:
    enp1s0:
      dhcp4: true
      nameservers:
        addresses:
          - 8.8.8.8
          - 8.8.4.4
</code></pre>
<p><strong>Apply the changes:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo netplan apply
</code></pre>
</li>
<li>
<p><strong>Check external DHCP configuration:</strong></p>
<ul>
<li>If using an external DHCP server, ensure it is correctly configured to work with MAAS.</li>
</ul>
</li>
</ol>
<p>By following these steps, you can resolve the <code>errno 101 network is unreachable</code> error during the rebooting stage in MAAS, ensuring that the deployed machine can correctly communicate with the MAAS server and complete the deployment process.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-post-deployment-network-issues" name="p-9297-post-deployment-network-issues">Post-deployment network issues</a></h2>
<p><strong>Problem:</strong><br/>
Users face issues when switching the network interface of a deployed VM from an isolated deployment network to a bridged network, causing the VM to hang or freeze during boot.</p>
<p><strong>Solution:</strong><br/>
MAAS does not support reassigning a deployed machine to a new subnet directly. To address this, follow these steps:</p>
<ol>
<li>
<p><strong>Avoid switching networks:</strong></p>
<ul>
<li>To avoid issues, do not switch the VM’s network interface after deployment. Instead, ensure that the VM is configured with the correct network settings from the start.</li>
</ul>
</li>
<li>
<p><strong>Use a different router:</strong></p>
<ul>
<li>If using an ISP router that does not support VLANs or advanced network settings, consider adding another router that can manage your home network effectively.</li>
</ul>
</li>
<li>
<p><strong>Manual network configuration:</strong></p>
<ul>
<li>If you must change the network interface, manually reconfigure the network settings on the VM after switching it to the bridged network.</li>
</ul>
</li>
<li>
<p><strong>Detailed steps:</strong></p>
<p><strong>a. Update cloud-init configuration:</strong></p>
<ul>
<li>Ensure cloud-init does not attempt to contact the MAAS metadata server on the isolated network once the VM is moved.</li>
</ul>
<p><strong>Example script:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">#!/bin/bash
# disable cloud-init network configuration after deployment
sudo touch /etc/cloud/cloud-init.disabled
</code></pre>
<p><strong>b. Modify network configuration:</strong></p>
<ul>
<li>Manually update the network configuration files on the VM to match the new network settings.</li>
</ul>
<p><strong>Example netplan configuration:</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">network:
  version: 2
  ethernets:
    enp1s0:
      dhcp4: true
</code></pre>
<p><strong>c. Apply network changes:</strong></p>
<ul>
<li>Apply the changes to ensure the VM uses the new network configuration.</li>
</ul>
<p><strong>Example commands:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo netplan apply
</code></pre>
</li>
<li>
<p><strong>Add a custom router:</strong></p>
<ul>
<li>Add a custom router in front of your ISP router to handle DHCP, VLANs, and other advanced network features.</li>
</ul>
<p><strong>Example setup:</strong></p>
<ul>
<li>ISP router provides internet connectivity.</li>
<li>Custom router manages the internal network, DHCP, and VLANs.</li>
<li>Connect MAAS and VMs to the custom router.</li>
</ul>
</li>
</ol>
<p>By following these steps, users can manage network configurations more effectively and avoid issues related to switching network interfaces post-deployment. This approach ensures that VMs operate correctly within the desired network setup.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-controller-interfacenetwork-issues" name="p-9297-controller-interfacenetwork-issues">Controller interface/network issues</a></h2>
<p><strong>Problem:</strong><br/>
Users experience issues with MAAS using unintended network interfaces, particularly in multi-homed environments with Docker running on the same system. Specific challenges include unwanted interface detection, persistent subnets, and network discovery on unselected subnets.</p>
<p><strong>Solution:</strong><br/>
To address these issues and better manage network interfaces and subnets in MAAS, follow these steps:</p>
<ol>
<li>
<p><strong>Bind MAAS to a single interface:</strong></p>
<ul>
<li>While MAAS does not support binding to a single interface out of the box, you can control which interfaces MAAS services use by configuring individual components such as nginx, squid, and rsyslogd.</li>
</ul>
</li>
<li>
<p><strong>Remove unwanted interfaces:</strong></p>
<ul>
<li>Unfortunately, MAAS does not provide a direct way to remove interfaces through the GUI or CLI if they keep reappearing. However, you can take steps to ignore certain interfaces like <code>docker0</code>.</li>
</ul>
</li>
<li>
<p><strong>Ignore certain interfaces:</strong></p>
<ul>
<li>To ignore specific interfaces, you can use custom scripts or configuration files to exclude them from MAAS management.</li>
</ul>
</li>
<li>
<p><strong>Configure network services:</strong></p>
<ul>
<li>Customize the <code>named.conf</code> file to control DNS behavior and prevent unwanted DNS resolution on specific subnets.</li>
</ul>
</li>
<li>
<p><strong>Detailed steps:</strong></p>
<p><strong>a. Exclude Docker interface:</strong></p>
<ul>
<li>Prevent MAAS from using the <code>docker0</code> interface by configuring the system to exclude it. Create a script to modify the network configuration.</li>
</ul>
<p><strong>Example script:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">#!/bin/bash
# Exclude docker0 interface from MAAS management
INTERFACE="docker0"
IP_ADDR=$(ip addr show $INTERFACE | grep "inet\b" | awk '{print $2}' | cut -d/ -f1)

if [ -n "$IP_ADDR" ]; then
  echo "Exclude $INTERFACE ($IP_ADDR) from MAAS"
  ip link set $INTERFACE down
  ip addr flush dev $INTERFACE
fi
</code></pre>
<p><strong>b. Customize <code>named.conf</code>:</strong></p>
<ul>
<li>Modify the <code>named.conf</code> file to prevent <code>named</code> from using specific subnets.</li>
</ul>
<p><strong>Example configuration:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">options {
  ...
  listen-on { 127.0.0.1; &lt;your-desired-interface-ip&gt;; };
  ...
};
</code></pre>
<p><strong>c. Modify network configuration:</strong></p>
<ul>
<li>Adjust the network configuration files to ensure MAAS services bind only to the desired interface.</li>
</ul>
<p><strong>Example for <code>nginx</code>:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">server {
    listen &lt;your-desired-interface-ip&gt;:80;
    server_name maas.local;
    ...
}
</code></pre>
<p><strong>d. Disable unwanted subnet management:</strong></p>
<ul>
<li>Use MAAS CLI to disable subnet management features on undesired subnets.</li>
</ul>
<p><strong>Example CLI commands:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">maas admin subnet update &lt;subnet-id&gt; manage_allocation=false
maas admin subnet update &lt;subnet-id&gt; manage_discovery=false
maas admin subnet update &lt;subnet-id&gt; allow_dns=false
</code></pre>
</li>
<li>
<p><strong>Review and restart services:</strong></p>
<ul>
<li>After making these changes, restart the MAAS services to apply the new configuration.</li>
</ul>
<p><strong>Restart MAAS services:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash">sudo systemctl restart maas-regiond
sudo systemctl restart maas-rackd
</code></pre>
</li>
</ol>
<p>By following these steps, users can better control which network interfaces and subnets are managed by MAAS, addressing issues related to unwanted interface usage and persistent subnets. This approach ensures that MAAS operates within the desired network configuration parameters.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-adding-vlan-interfaces-to-lxd-vms" name="p-9297-adding-vlan-interfaces-to-lxd-vms">Adding VLAN interfaces to LXD VMs</a></h2>
<p><strong>Problem:</strong><br/>
Users need to add VLAN interfaces to LXD VMs in MAAS but face limitations in modifying VMs post-creation and ensuring proper VLAN tagging.</p>
<p><strong>Solution:</strong><br/>
To add VLAN interfaces to LXD VMs, follow these steps:</p>
<ol>
<li>
<p><strong>Configure VLAN interfaces on the VM host:</strong></p>
<ul>
<li>The VM host should have VLAN interfaces configured to match the desired VLANs. This setup is done on the VM host at the OS level.</li>
</ul>
</li>
<li>
<p><strong>Create bridges for VLAN interfaces:</strong></p>
<ul>
<li>For each VLAN you want to expose to the VMs, create a bridge with the corresponding VLAN interface inside it. This allows the VMs to have untagged interfaces while ensuring that the traffic is tagged as it leaves the host.</li>
</ul>
</li>
<li>
<p><strong>Step-by-step configuration:</strong></p>
<p><strong>a. Add VLAN interface to MAAS rack controller:</strong></p>
<ul>
<li>Add a VLAN interface to the MAAS rack controller and assign an IP address.</li>
<li>Restart MAAS to ensure it detects the new interface.</li>
<li>Add a subnet and VLAN in MAAS and enable DHCP on the VLAN.</li>
</ul>
<p><strong>Example:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash"># Add VLAN 500 to physical interface eth0
sudo ip link add link eth0 name eth0.500 type vlan id 500
sudo ip addr add 150.150.150.1/24 dev eth0.500
sudo ip link set dev eth0.500 up
</code></pre>
<p><strong>b. Create bridge interface:</strong></p>
<ul>
<li>Create a bridge interface with the new VLAN interface as a member.</li>
</ul>
<p><strong>Example:</strong></p>
<pre data-code-wrap="bash"><code class="lang-bash"># Create bridge br500 and add eth0.500 as a member
sudo brctl addbr br500
sudo brctl addif br500 eth0.500
sudo ip link set dev br500 up
</code></pre>
<p><strong>c. Configure netplan (if using):</strong></p>
<ul>
<li>Update the Netplan configuration to persist the VLAN and bridge setup.</li>
</ul>
<p><strong>Example:</strong></p>
<pre data-code-wrap="yaml"><code class="lang-yaml">network:
  version: 2
  ethernets:
    eth0:
      dhcp4: true
  vlans:
    eth0.500:
      id: 500
      link: eth0
      addresses: [150.150.150.1/24]
  bridges:
    br500:
      interfaces: [eth0.500]
      dhcp4: no
</code></pre>
<ul>
<li>Apply the Netplan configuration:</li>
</ul>
<pre data-code-wrap="bash"><code class="lang-bash">sudo netplan apply
</code></pre>
</li>
<li>
<p><strong>Create VMs in MAAS:</strong></p>
<ul>
<li>When creating VMs in MAAS, specify an interface and select the subnet corresponding to the desired VLAN. This ensures that the VMs are placed in the correct VLAN.</li>
</ul>
</li>
</ol>
<p>By following these steps, users can successfully add VLAN interfaces to LXD VMs in MAAS, ensuring proper VLAN tagging and network configuration. This setup allows VMs to operate with untagged interfaces while maintaining VLAN traffic tagging at the host level.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-netplan-configuration-ignored-when-deploying-a-machine" name="p-9297-netplan-configuration-ignored-when-deploying-a-machine">Netplan configuration ignored when deploying a machine</a></h2>
<p><strong>Problem:</strong><br/>
The Netplan configuration provided in the <code>cloud-init</code> script is being ignored, resulting in static IP settings instead of the desired DHCP configuration.</p>
<p><strong>Solution:</strong><br/>
To ensure the network configuration is correctly applied during deployment, follow these steps:</p>
<ol>
<li>
<p><strong>Edit machine’s interfaces in MAAS:</strong></p>
<ul>
<li>Before deploying the machine, edit the machine’s network interfaces in MAAS to set the IP mode to DHCP. This avoids the need for <code>cloud-init</code> to handle network configuration.</li>
</ul>
</li>
<li>
<p><strong>Default DHCP for future machines:</strong></p>
<ul>
<li>While it’s not currently possible to make DHCP the default for all future machines in MAAS, you can include this configuration as part of your deployment automation.</li>
</ul>
</li>
<li>
<p><strong>Custom <code>cloud-init</code> script:</strong></p>
<ul>
<li>If you still prefer to use a <code>cloud-init</code> script, ensure it correctly sets up the network interfaces. However, due to current limitations, you may need a workaround to apply Netplan configuration.</li>
</ul>
</li>
<li>
<p><strong>Workaround with bash script:</strong></p>
<ul>
<li>Use a bash script within <code>cloud-init</code> to manually write the Netplan configuration and apply it. This can be done using the <code>runcmd</code> section of the <code>cloud-init</code> script.</li>
</ul>
<p>Example <code>cloud-init</code> script with bash workaround:</p>
<pre data-code-wrap="yaml"><code class="lang-yaml">#cloud-config
packages:
  - qemu-guest-agent
  - openssh-server

users:
  - default
  - name: untouchedwagons
    gecos: untouchedwagons
    primary_group: untouchedwagons
    groups: sudo
    sudo: ALL=(ALL) NOPASSWD:ALL
    shell: /bin/bash
    ssh_import_id:
      - gh:UntouchedWagons

runcmd:
  - [ systemctl, enable, --now, qemu-guest-agent ]
  - [ systemctl, enable, --now, ssh ]
  - |
    cat &lt;&lt;EOF &gt; /etc/netplan/01-netcfg.yaml
    network:
      version: 2
      ethernets:
        ens18:
          match:
            macaddress: 'bc:24:11:e5:41:b7'
          dhcp4: true
          dhcp-identifier: mac
    EOF
    netplan apply
</code></pre>
</li>
<li>
<p><strong>Automation integration:</strong></p>
<ul>
<li>Integrate these configurations into your existing automation framework (e.g., Ansible, Terraform) to ensure consistent and repeatable deployments.</li>
</ul>
</li>
</ol>
<p>By following these steps, you can ensure that the network configuration is applied correctly during machine deployment in MAAS, avoiding the issues with ignored Netplan settings.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-pre-registering-machine-with-ipmi-address-as-fqdn" name="p-9297-pre-registering-machine-with-ipmi-address-as-fqdn">Pre-registering machine with IPMI address as FQDN</a></h2>
<p><strong>Problem:</strong><br/>
Users encounter issues when trying to set the IPMI IP address field as an FQDN in MAAS. The machine gets registered with an IPv4 address associated with the FQDN, and the commissioning process does not complete.</p>
<p><strong>Solution:</strong><br/>
To address this issue and implement workarounds, follow these steps:</p>
<ol>
<li>
<p><strong>Direct FQDN usage:</strong></p>
<ul>
<li>Currently, MAAS does not support using FQDN directly for the <code>power_address</code> field. The <code>power_address</code> must be an IPv4 or IPv6 address as per the BMC enlistment documentation.</li>
</ul>
</li>
<li>
<p><strong>Workarounds:</strong></p>
<p><strong>a. Use Unique hostnames in the cluster:</strong></p>
<ul>
<li>Ensure each machine in the cluster has a unique hostname. This can help in distinguishing and managing machines more effectively.</li>
</ul>
<p><strong>b. Assign FQDN management hostnames:</strong></p>
<ul>
<li>Assign a unique management FQDN to the BMC/IPMI IP of each machine. For example, use <code>[hostname]-mgmt</code> as the FQDN for the IPMI address.</li>
</ul>
<p><strong>c. Update BMC IP using Python script:</strong></p>
<ul>
<li>Write a Python script that updates the BMC IP address for each machine using the MAAS API. Schedule this script to run periodically (e.g., every 5 minutes) using <code>cron</code>.</li>
</ul>
<p>Example Python script:</p>
<pre data-code-wrap="python"><code class="lang-python">import maas.client
from maas.client import login
from maas.client.enum import NodeStatus

MAAS_API_URL = 'http://&lt;MAAS_SERVER&gt;/MAAS/'
API_KEY = '&lt;YOUR_API_KEY&gt;'
FQDN_SUFFIX = '-mgmt'

def update_bmc_ips():
    client = login(MAAS_API_URL, API_KEY)
    nodes = client.machines.list(status=NodeStatus.READY)
    for node in nodes:
        hostname = node.hostname
        fqdn = f"{hostname}{FQDN_SUFFIX}"
        ip_address = socket.gethostbyname(fqdn)
        node.power_address = ip_address
        node.save()

if __name__ == "__main__":
    update_bmc_ips()
</code></pre>
<ul>
<li>Add the script to <code>crontab</code> to run every 5 minutes:<pre data-code-wrap="bash"><code class="lang-bash">*/5 * * * * /usr/bin/python3 /path/to/update_bmc_ips.py
</code></pre>
</li>
</ul>
</li>
</ol>
<p>By following these steps, users can manage their MAAS setup more effectively, even when direct FQDN usage is not supported for IPMI addresses. The provided workarounds ensure that the IPMI addresses are updated and managed correctly using the MAAS API and periodic scripts.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-automating-initial-configuration-settings-for-new-machines" name="p-9297-automating-initial-configuration-settings-for-new-machines">Automating initial configuration settings for new machines</a></h2>
<p><strong>Problem:</strong><br/>
Users need to manually configure network interfaces to DHCP and set power configurations to Manual for new machines added to MAAS, seeking a way to automate these settings.</p>
<p><strong>Solution:</strong><br/>
To automate the initial configuration settings for new machines in MAAS, follow these steps:</p>
<ol>
<li>
<p><strong>Use preseed scripts:</strong></p>
<ul>
<li>Utilize MAAS preseed scripts to automate network and power configurations. Preseed scripts can run commands during different stages of machine deployment.</li>
</ul>
</li>
<li>
<p><strong>Curtin userdata:</strong></p>
<ul>
<li>Modify <code>curtin_userdata</code> to include early commands for setting network interfaces to DHCP and power configuration to Manual. Add these configurations to the preseed file.</li>
</ul>
<p>Example preseed configuration:</p>
<pre data-code-wrap="yaml"><code class="lang-yaml">early_commands:
  10_dhcp: |
    for nic in $(ls /sys/class/net/ | grep -v lo); do
      echo "dhclient ${nic}" &gt;&gt; /etc/network/interfaces.d/${nic};
      dhclient ${nic}
    done
  20_power: |
    echo "manual" &gt; /etc/maas/power.conf
</code></pre>
</li>
<li>
<p><strong>MAAS CLI:</strong></p>
<ul>
<li>Use the MAAS CLI to automate the setting of DHCP and power configuration for newly added machines. Create a script to be run after the machine is added to MAAS.</li>
</ul>
<p>Example script:</p>
<pre data-code-wrap="bash"><code class="lang-bash">#!/bin/bash
MACHINE_ID=$1

# Set network interface to DHCP
maas admin interface link-subnet $MACHINE_ID \
  $(maas admin interfaces read $MACHINE_ID | jq '.[0].id') \
  mode=DHCP

# Set power configuration to Manual
maas admin machine update $MACHINE_ID power_type=manual
</code></pre>
</li>
<li>
<p><strong>Automate through hooks:</strong></p>
<ul>
<li>Use MAAS hooks to trigger the script whenever a new machine is added. Hooks can be configured to execute scripts based on specific events.</li>
</ul>
</li>
<li>
<p><strong>Check certified hardware:</strong></p>
<ul>
<li>Ensure that the hardware being added to MAAS is certified and recognized by MAAS. This helps in automatic detection and configuration.</li>
</ul>
</li>
<li>
<p><strong>Custom automation:</strong></p>
<ul>
<li>Integrate these steps into your existing automation framework if you have one. Tools like Ansible, Terraform, or custom scripts can be used to manage these configurations.</li>
</ul>
</li>
</ol>
<p>By implementing these steps, users can automate the initial configuration settings for new machines in MAAS, reducing manual intervention and streamlining the deployment process.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-vlan-issues-and-rack-controller-configuration" name="p-9297-vlan-issues-and-rack-controller-configuration">VLAN issues and rack controller configuration</a></h2>
<p><strong>Problem:</strong><br/>
Users encounter issues with VLANs not being utilized on any rack controller, leading to problems with DHCP and network connectivity.</p>
<p><strong>Solution:</strong><br/>
To troubleshoot and resolve VLAN issues in MAAS, follow these steps:</p>
<ol>
<li>
<p><strong>Configure VLAN interfaces:</strong></p>
<ul>
<li>Ensure that VLAN interfaces are correctly configured on the rack controller with proper IDs, links, and IP addresses. Use <code>netplan</code> to apply configurations:<pre data-code-wrap="bash"><code class="lang-bash">sudo netplan apply
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Define subnets properly:</strong></p>
<ul>
<li>Verify that subnets are defined correctly in MAAS for each VLAN. Check that the network, gateway, and DNS information are accurately entered.</li>
</ul>
</li>
<li>
<p><strong>Physical connections:</strong></p>
<ul>
<li>Confirm that the rack controller is physically connected to the appropriate networks and VLANs. If using a managed switch, ensure that ports are configured for the correct VLANs.</li>
</ul>
</li>
<li>
<p><strong>Check MAAS logs:</strong></p>
<ul>
<li>Review the <a href="https://maas.io/docs/how-to-use-logging">MAAS logs</a> for any errors related to VLANs or DHCP:</li>
</ul>
</li>
<li>
<p><strong>Force network re-detection:</strong></p>
<ul>
<li>Remove and re-add the rack controller in MAAS to force it to re-detect available networks and VLANs.</li>
</ul>
</li>
<li>
<p><strong>Test DHCP on single VLAN:</strong></p>
<ul>
<li>Enable DHCP on one VLAN at a time to identify any working configurations.</li>
</ul>
</li>
<li>
<p><strong>Static IP address:</strong></p>
<ul>
<li>Consider setting a static IP address on the VLAN interface to avoid DHCP conflicts.</li>
</ul>
</li>
<li>
<p><strong>Restart rack controller:</strong></p>
<ul>
<li>Restart the rack controller to ensure it reconnects correctly to MAAS and the VLANs.</li>
</ul>
</li>
<li>
<p><strong>Reinstall rack controller:</strong></p>
<ul>
<li>As a last resort, reinstall the rack controller following the official documentation to resolve any networking issues:
<ul>
<li>Ensure the rack controller is not installed on the same machine as the region controller.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>DHCP forwarding considerations:</strong></p>
<ul>
<li>If using DHCP forwarding on the router, ensure that the rack servers on the VLAN can still communicate with the DHCP server.</li>
</ul>
</li>
</ol>
<p>By following these steps, users can troubleshoot and resolve issues with VLAN utilization on rack controllers in MAAS, ensuring proper network configuration and connectivity.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-releasing-old-dhcp-leases" name="p-9297-releasing-old-dhcp-leases">Releasing old DHCP leases</a></h2>
<p><strong>Problem:</strong><br/>
Deploying servers in MAAS results in an error stating “No more IPs available in subnet,” despite having unused IP addresses.</p>
<p><strong>Solution:</strong><br/>
To release old DHCP leases and resolve IP allocation issues, follow these steps:</p>
<ol>
<li>
<p><strong>Check for orphaned IP addresses:</strong></p>
<ul>
<li>Run the following SQL query to identify orphaned IP addresses in the MAAS database:<pre data-code-wrap="sql"><code class="lang-sql">sudo -u postgres psql -d maasdb -c "
SELECT count(*)
FROM maasserver_staticipaddress
LEFT JOIN maasserver_interface_ip_addresses ON maasserver_staticipaddress.id = maasserver_interface_ip_addresses.staticipaddress_id
LEFT JOIN maasserver_interface ON maasserver_interface.id = maasserver_interface_ip_addresses.interface_id
WHERE maasserver_staticipaddress.ip IS NULL 
  AND maasserver_interface.type = 'unknown' 
  AND maasserver_staticipaddress.alloc_type = 6;
"
</code></pre>
</li>
<li>This will help you identify any orphaned addresses that are not properly allocated.</li>
</ul>
</li>
<li>
<p><strong>Clean neighbor discoveries:</strong></p>
<ul>
<li>Use the MAAS CLI to clear discovered neighbors, which might be causing IP conflicts:<pre data-code-wrap="bash"><code class="lang-bash">maas admin discoveries clear all=True -k
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Verify cleared discoveries:</strong></p>
<ul>
<li>After clearing, check if the discoveries were successfully removed:<pre data-code-wrap="bash"><code class="lang-bash">maas admin discoveries read -k
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Clear ARP table (optional):</strong></p>
<ul>
<li>If necessary, clear the ARP table on the Rack server to ensure no stale entries exist:<pre data-code-wrap="bash"><code class="lang-bash">arp -d [IP address]
</code></pre>
</li>
<li>Example to clear all entries:<pre data-code-wrap="bash"><code class="lang-bash">arp -d 172.21.68.79
arp -d 172.21.68.69
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Run deployment again:</strong></p>
<ul>
<li>Attempt to deploy the server again to check if the issue persists. If the error still occurs, check the discoveries once more without cleaning:<pre data-code-wrap="bash"><code class="lang-bash">maas admin discoveries read -k
</code></pre>
</li>
</ul>
</li>
</ol>
<p>By following these steps, users can release old DHCP leases and address IP exhaustion issues in MAAS, ensuring successful server deployment.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-configuring-loopback-addresses" name="p-9297-configuring-loopback-addresses">Configuring loopback addresses</a></h2>
<p><strong>Problem:</strong><br/>
Configuring the loopback interface (lo) using MAAS is not straightforward, especially when deploying nodes for use with Free Range Routing (FRR) and BGP.</p>
<p><strong>Solution:</strong><br/>
To configure loopback addresses in MAAS, follow these steps:</p>
<ol>
<li>
<p><strong>Understand loopback interface:</strong></p>
<ul>
<li>Loopback interfaces do not require MAC addresses since they are used for internal routing within the node itself.</li>
</ul>
</li>
<li>
<p><strong>Manually add loopback interface:</strong></p>
<ul>
<li>After commissioning a node, manually add the loopback interface in MAAS.</li>
<li>If the MAAS web UI requires a MAC address for the loopback interface, use a placeholder value like <code>00:00:00:00:00:00</code> but ensure it does not conflict with other nodes.</li>
</ul>
</li>
<li>
<p><strong>Avoid duplicate MAC addresses:</strong></p>
<ul>
<li>Since MAAS does not support duplicate MAC addresses, manually configure the loopback interface on each node with a unique identifier or find a way to bypass the MAC address requirement.</li>
</ul>
</li>
<li>
<p><strong>Alternative methods:</strong></p>
<ul>
<li>If manually adding the loopback interface in MAAS is problematic, consider configuring the loopback interface outside of MAAS using post-deployment scripts.</li>
<li>Use MAAS to deploy the base configuration, then apply custom network configurations (including loopback interfaces) through cloud-init or other automation tools.</li>
</ul>
</li>
<li>
<p><strong>Feedback from support:</strong></p>
<ul>
<li>Internal support teams may have additional methods or patches to address this issue. Reach out to MAAS support for the latest solutions or updates regarding loopback interface configuration.</li>
</ul>
</li>
</ol>
<p>By following these steps, users can effectively configure loopback interfaces on nodes managed by MAAS, facilitating advanced network setups like L3 routing and BGP.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-shrinking-dynamic-ip-range" name="p-9297-shrinking-dynamic-ip-range">Shrinking dynamic IP range</a></h2>
<p><strong>Problem:</strong><br/>
Users may encounter errors when attempting to shrink the dynamic IP address range in MAAS due to conflicts with existing IP addresses or ranges.</p>
<p><strong>Solution:</strong><br/>
To troubleshoot and resolve this issue, follow these steps:</p>
<ol>
<li>
<p><strong>Check current IP ranges and static addresses:</strong></p>
<ul>
<li>Use the following SQL queries to check the current IP ranges and static IP addresses in the MAAS database:<pre data-code-wrap="sql"><code class="lang-sql">SELECT * FROM maasserver_iprange;
SELECT * FROM maasserver_staticipaddress WHERE text(ip) LIKE '192.168.0.%' ORDER BY ip;
</code></pre>
</li>
<li>Identify any existing IP addresses that may conflict with the desired new range.</li>
</ul>
</li>
<li>
<p><strong>Identify sticky addresses:</strong></p>
<ul>
<li>Identify any sticky addresses within the current range that may cause conflicts. Sticky addresses are IP addresses allocated by MAAS DHCP that persist over reboots.</li>
</ul>
</li>
<li>
<p><strong>Adjust IP range:</strong></p>
<ul>
<li>Ensure that the new IP range does not overlap with any existing reserved or sticky addresses. Modify the start and end IP addresses to avoid conflicts.</li>
<li>Example: If the current range is 192.168.0.194 - 192.168.0.220 and sticky addresses occupy 192.168.0.195 - 192.168.0.211, adjust the range to avoid these addresses.</li>
</ul>
</li>
<li>
<p><strong>Update MAAS configuration:</strong></p>
<ul>
<li>After identifying a non-conflicting range, update the MAAS configuration to reflect the new IP range.</li>
</ul>
</li>
<li>
<p><strong>Database updates:</strong></p>
<ul>
<li>If necessary, manually update the IP range in the MAAS database to ensure consistency. Make sure to backup the database before making any changes.</li>
</ul>
</li>
</ol>
<p>By following these steps, users can effectively shrink the dynamic IP address range in MAAS without encountering conflicts with existing IP addresses or ranges.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-overlapping-subnets-can-break-deployments" name="p-9297-overlapping-subnets-can-break-deployments">Overlapping subnets can break deployments</a></h2>
<p>Ensure that your subnets don’t overlap to avoid deployment failures. Check and delete any outdated or redundant subnets through the Web UI.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-need-to-reconfigure-server-ip-address" name="p-9297-need-to-reconfigure-server-ip-address">Need to reconfigure server IP address</a></h2>
<p>If you need to modify your MAAS server’s IP, simply re-run the setup:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">sudo dpkg-reconfigure maas-region-controller
</code></pre>
<h2><a class="p-link--anchor-heading" href="#p-9297-network-booting-ibm-power-servers" name="p-9297-network-booting-ibm-power-servers">Network booting IBM Power servers</a></h2>
<p>IBM Power servers with OPAL firmware utilise Petitboot for PXE interactions. For smooth deployment, configure a specific NIC as the network boot device via Petitboot.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-resolve-dns-conflicts-between-lxd-and-maas" name="p-9297-resolve-dns-conflicts-between-lxd-and-maas">Resolve DNS conflicts between LXD and MAAS</a></h2>
<p>If both MAAS and LXD are managing DNS, disable LXD’s DNS and DHCP:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">lxc network set $LXD_BRIDGE_NAME dns.mode=none
lxc network set $LXD_BRIDGE_NAME ipv4.dhcp=false
lxc network set $LXD_BRIDGE_NAME ipv6.dhcp=false
</code></pre>
<h2><a class="p-link--anchor-heading" href="#p-9297-nodes-hang-on-commissioning" name="p-9297-nodes-hang-on-commissioning">Nodes hang on “Commissioning”</a></h2>
<p><strong>Timing issues</strong>: Make sure the hardware clocks on your nodes and MAAS server are synchronised.</p>
<p><strong>Network drivers</strong>: Use Linux-compatible network adaptors if commissioning hangs due to driver issues.</p>
<p>Feel free to contribute additional issues and solutions.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-command-packer-not-found" name="p-9297-command-packer-not-found">Command ‘packer’ not found</a></h2>
<p>When you try to run <code>packer</code> or execute a <code>make</code> command, you may encounter an error message indicating that <code>packer</code> is not installed. The issue can be resolved by <a href="https://maas.io/docs/how-to-build-custom-images#p-17423-gather-components">referring to this section</a>.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-error-with-packer" name="p-9297-error-with-packer">Error with <code>packer</code>:</a></h2>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">stormrider@neuromancer:~$ packer
Command 'packer' not found...
</code></pre>
<h2><a class="p-link--anchor-heading" href="#p-9297-error-with-make" name="p-9297-error-with-make">Error with <code>make</code>:</a></h2>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">stormrider@neuromancer:~/mnt/Dropbox/src/git/packer-maas/ubuntu$ make
sudo: packer: command not found...
</code></pre>
<h2><a class="p-link--anchor-heading" href="#p-9297-no-rule-to-make-target-ovmf_varsfd" name="p-9297-no-rule-to-make-target-ovmf_varsfd">No rule to make target …OVMF_VARS.fd</a></h2>
<p>Should you see an error like the one below, you’ve forgotten to <a href="https://maas.io/docs/how-to-build-custom-images#p-17423-gather-components">install a needed dependency</a>.</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">make: *** No rule to make target '/usr/share/OVMF/OVMF_VARS.fd'...
</code></pre>
<h2><a class="p-link--anchor-heading" href="#p-9297-failure-to-create-qemu-driver" name="p-9297-failure-to-create-qemu-driver">Failure to create QEMU driver</a></h2>
<p>Encountering the following error means you’re missing a dependency. Refer to <a href="https://maas.io/docs/how-to-build-custom-images#p-17423-gather-components">this section</a> for resolution.</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">Failed creating Qemu driver: exec: "qemu-img": executable file not found in $PATH
</code></pre>
<h2><a class="p-link--anchor-heading" href="#p-9297-timeout-changes-not-taking-effect" name="p-9297-timeout-changes-not-taking-effect">Timeout changes not taking effect</a></h2>
<p>If you’ve modified the session timeout settings in the MAAS web interface but don’t see the changes, do the following:</p>
<ol>
<li>Make sure you’ve got administrative access to the MAAS web interface for changing session timeout settings.</li>
<li>After altering the session timeout duration, don’t forget to save the new settings.</li>
<li>Clear your browser’s cache and cookies. They might be holding on to old settings. Restart your browser and try again.</li>
</ol>
<h2><a class="p-link--anchor-heading" href="#p-9297-users-logged-out-before-timeout-expires" name="p-9297-users-logged-out-before-timeout-expires">Users logged out before timeout expires</a></h2>
<p>If users are getting logged out before the session timeout you’ve set, consider these checks:</p>
<ol>
<li>Double-check the unit of time you’ve set for the session timeout (weeks, days, hours, minutes). A mistake in units can cause unexpected timeouts.</li>
<li>Inspect any server settings conflicting with MAAS that may cause premature session timeouts, like window manager logout settings in Ubuntu.</li>
<li>If you’re using a load balancer or proxy, make sure it’s not causing additional timeouts conflicting with MAAS.</li>
</ol>
<h2><a class="p-link--anchor-heading" href="#p-9297-cant-set-an-infinite-session-timeout" name="p-9297-cant-set-an-infinite-session-timeout">Can’t set an infinite session timeout</a></h2>
<p>You can’t set an “infinite” session timeout in MAAS. The maximum allowed duration is 14 days. This limit strikes a balance between security and usability.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-users-are-suddenly-logged-out" name="p-9297-users-are-suddenly-logged-out">Users are suddenly logged out</a></h2>
<p>MAAS will auto-logoff users when the session timeout duration is reached. If this happens more often than desired, consider increasing the timeout value to prevent frequent “idle-time” logouts.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-cant-set-different-timeouts-for-user-groups" name="p-9297-cant-set-different-timeouts-for-user-groups">Can’t set different timeouts for user groups</a></h2>
<p>MAAS only supports a global session timeout setting. While you can’t customise this by user group, you could deploy separate MAAS instances with different configurations to achieve similar effects.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-cant-extend-sessions-beyond-the-timeout" name="p-9297-cant-extend-sessions-beyond-the-timeout">Can’t extend sessions beyond the timeout</a></h2>
<p>The timeout duration resets every time there’s activity from the user. To extend a session, simply refresh the page before the timeout period ends. This will reset the session timer.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-django-errors" name="p-9297-django-errors">Django errors</a></h2>
<p>Sometimes, you may face the following Django error:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">django.core.exceptions.ValidationError: ['Subarchitecture(&lt;value&gt;) must be generic when setting hwe_kernel.']
</code></pre>
<p>To solve this, try specifying a different commissioning kernel—perhaps upgrading from Xenial to Focal.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-forgotten-password" name="p-9297-forgotten-password">Forgotten password</a></h2>
<p>If you forget your MAAS admin password but have sudo privileges, you can reset it like so:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">sudo maas changepassword $PROFILE
</code></pre>
<p>Replace <code>$PROFILE</code> with the username.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-missing-web-ui" name="p-9297-missing-web-ui">Missing Web UI</a></h2>
<p>The default MAAS web UI is at <code>http://&lt;hostname&gt;:5240/MAAS/</code>. If it’s unreachable:</p>
<ul>
<li>Verify Apache is running: <code>sudo /etc/init.d/apache2 status</code>.</li>
<li>Validate the hostname or try <code>http://127.0.0.1:5240/MAAS/</code>.</li>
</ul>
<h2><a class="p-link--anchor-heading" href="#p-9297-backdoor-image-login" name="p-9297-backdoor-image-login">Backdoor image login</a></h2>
<p>Ephemeral images boot nodes during MAAS activities. If you need emergency access, you can create a temporary backdoor in these images. This lets you log in to check logs and debug issues.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-extract-the-cloud-image" name="p-9297-extract-the-cloud-image">Extract the cloud image</a></h2>
<p>Download the appropriate image and extract its files:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">wget https://cloud-images.ubuntu.com/xenial/current/xenial-server-cloudimg-amd64-root.tar.gz
mkdir xenial
sudo tar -C xenial -xpSf xenial-server-cloudimg-amd64-root.tar.gz --numeric-owner --xattrs "--xattrs-include=*"
</code></pre>
<h2><a class="p-link--anchor-heading" href="#p-9297-generate-password-hash" name="p-9297-generate-password-hash">Generate password hash</a></h2>
<p>Create a SHA-512 hashed password:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">python3 -c 'import crypt; print(crypt.crypt("ubuntu", crypt.mksalt(crypt.METHOD_SHA512)))'
</code></pre>
<p>Modify the <code>xenial/etc/shadow</code> file to insert this hash.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-rebuild-squashfs-image" name="p-9297-rebuild-squashfs-image">Rebuild squashfs image</a></h2>
<p>Create a new SquashFS file with your changes:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">sudo mksquashfs xenial/ xenial-customized.squashfs -xattrs -comp xz
</code></pre>
<p>Replace the existing MAAS image with this customised one.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-migrating-snap-installs" name="p-9297-migrating-snap-installs">Migrating snap installs</a></h2>
<p>For snap-based MAAS in ‘all’ mode, you can migrate to a local PostgreSQL:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">sudo /snap/maas/current/helpers/migrate-vd Snapatabase
</code></pre>
<h2><a class="p-link--anchor-heading" href="#p-9297-manual-db-export" name="p-9297-manual-db-export">Manual DB export</a></h2>
<p>To manually move your MAAS database, run:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">export PGPASS=$(sudo awk -F':\\s+' '$1 == "database_pass" {print $2}' \
    /var/snap/maas/current/regiond.conf)
sudo pg_dump -U maas -h /var/snap/maas/common/postgres/sockets \
    -d maasdb -F t -f maasdb-dump.tar
</code></pre>
<p>Stop the MAAS snap (<code>sudo snap stop maas</code>) and create a new PostgreSQL user and database for MAAS on the destination machine.</p>
<p>This should cover various miscellaneous issues you may encounter while using MAAS. Feel free to contribute with your own experiences.</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-leaked-admin-api-key" name="p-9297-leaked-admin-api-key">Leaked admin API key</a></h2>
<p>If MAAS hardware sync leaks your admin API key, you can:</p>
<ul>
<li>Rotate all admin tokens</li>
<li>Re-deploy machines with hardware sync enabled</li>
</ul>
<p>Or swap the token manually:</p>
<h2><a class="p-link--anchor-heading" href="#p-9297-manually-swap-the-maas-admin-api-token" name="p-9297-manually-swap-the-maas-admin-api-token">Manually swap the MAAS admin API token</a></h2>
<p>Query the database to identify machines with hardware sync enabled:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">select system_id 
from maasserver_node 
where enable_hw_sync = true;
</code></pre>
<p>Rotate API keys on any affected machines. To verify an API key belongs to an admin, perform this database query:</p>
<pre data-code-wrap="nohighlight"><code class="lang-nohighlight">select u.username, u.email 
from auth_user u
left join piston3_consumer c 
on u.id = c.user_id
where key = 'your-leaked-api-key';
</code></pre>
<p>To remove the leaked API key, log in to the MAAS UI and delete it. Then reconfigure your MAAS CLI and hardware sync as needed.</p>

        <div class="p-strip">
          <hr class="p-rule" />
          <div class="p-article-pagination">
            
            
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
                
              
              
              
                
                  <a class="p-article-pagination__link--previous"
                     href="reference-terraform.html">
                    <span class="p-article-pagination__label">Previous</span>
                    <span class="p-article-pagination__title">
                      
                    Terraform</span>
                  </a>
                  
                
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

            
            
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
                
              
              
                
                  <a class="p-article-pagination__link--next"
                     href="explanation.html">
                    <span class="p-article-pagination__label">Next</span>
                    <span class="p-article-pagination__title">
                      
                    Explanation</span>
                  </a>
                  
                
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
          </div>
        </div>

        <div class="p-strip is-shallow">

          <div class="p-notification--information">

            <div class="p-notification__content">
              <p class="p-notification__message">
                Last updated 4 months ago. <a href="https://discourse.maas.io/t/troubleshooting-guide/5333">Help improve this document in the forum</a>.
              </p>
            </div>

          </div>

        </div>
      </main>
      
      <div class="col-3">
        <nav class="p-table-of-contents__nav" aria-label="Table of contents">
          <ul class="p-table-of-contents__list">
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-maas-os-deployment-failing-with-cloud-init-error">MAAS OS deployment failing with cloud-init error</a></li>
              
                <ul class="p-table-of-contents__list">
                
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-example-configuration-and-commands">Example configuration and commands:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-community-tips">Community tips:</a></li>
                  
                </ul>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-decoupling-dns-from-maas-and-resolving-configuration-issues">Decoupling DNS from MAAS and resolving configuration issues</a></li>
              
                <ul class="p-table-of-contents__list">
                
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-steps-to-decouple-dns-from-maas-and-resolve-configuration-issues">Steps to decouple DNS from MAAS and resolve configuration issues:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-example-commands">Example Commands:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-verification">Verification:</a></li>
                  
                </ul>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-configuring-the-second-nic-for-external-dhcp-in-maas">Configuring the second NIC for external DHCP in MAAS</a></li>
              
                <ul class="p-table-of-contents__list">
                
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-steps-to-configure-the-second-nic-for-external-dhcp">Steps to configure the second NIC for external DHCP:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-detailed-steps-in-the-maas-ui">Detailed steps in the MAAS UI:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-verify-configuration">Verify configuration:</a></li>
                  
                </ul>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-maas-setup-with-existingexternal-dhcp">MAAS setup with existing/external DHCP</a></li>
              
                <ul class="p-table-of-contents__list">
                
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-summary">Summary:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-detailed-steps-to-configure-maas-with-an-existing-dhcp-server">Detailed steps to configure MAAS with an existing DHCP server:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-additional-considerations">Additional considerations:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-final-solution">Final solution:</a></li>
                  
                </ul>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-configuring-multiple-nics-on-a-machine-with-maas">Configuring multiple NICs on a machine with MAAS</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-manual-dhcp-allocation-with-maas">Manual DHCP Allocation with MAAS</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-dhcp-services-stopped-working">DHCP services stopped working</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-setting-up-an-upstream-dns-for-external-dns-resolution-in-maas">Setting up an upstream DNS for external DNS resolution in MAAS</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-unable-to-commission-server-cloud-init-error-can-not-apply-stage-final-no-datasource-found">Unable to commission server - cloud-init error: “Can not apply stage final, no datasource found!”</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-dhcp-service-stops-when-network-connection-between-region-and-racks-is-disconnected">DHCP service stops when network connection between region and racks is disconnected</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-problem-with-apt-proxy">Problem with APT proxy</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-managed-allocation-and-reserved-ranges-auto-assign">Managed Allocation and Reserved Ranges, Auto-Assign</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-error-the-server-connection-failed-with-the-error-bad-gateway">Error: The server connection failed with the error “Bad Gateway”</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-used-ip-addresses-in-a-subnet-empty-even-though-dhcp-leases-are-given-out">Used IP addresses in a subnet empty even though DHCP leases are given out</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-networking-a-dell-server-in-maas">Networking a Dell server in MAAS</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-maas-dhcp-says-there-are-no-leases">MAAS DHCP says there are no leases</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-issues-with-pxe-booting-from-controller-with-two-networks">Issues with PXE booting from controller with two networks</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-get-a-complete-list-of-dns-resources-from-the-maas-api">Get a complete list of DNS resources from the MAAS API</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-addressing-snmp-errors-in-maas">Addressing SNMP errors in MAAS</a></li>
              
                <ul class="p-table-of-contents__list">
                
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-error-description">Error description:</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-steps-to-resolve">Steps to resolve:</a></li>
                  
                </ul>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-disabling-bind-named-on-ipv6-in-maas">Disabling BIND (named) on IPv6 in MAAS</a></li>
              
                <ul class="p-table-of-contents__list">
                
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-steps-for-apt-installed-maas">Steps for Apt-installed MAAS</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-verification">Verification</a></li>
                  
                  <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-notes">Notes</a></li>
                  
                </ul>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-creating-and-managing-dns-srv-records-in-maas">Creating and managing DNS SRV records in MAAS</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-legacy-bios-boot-from-second-nic">Legacy BIOS boot from second NIC</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-using-routed-subnets">Using routed subnets</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-commissioning-failed-due-to-lldpd">Commissioning failed due to lldpd</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-adding-domains-to-the-dns-search-list">Adding domains to the DNS search list</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-clients-get-the-image-but-dont-appear-on-the-gui">Clients get the image but don’t appear on the GUI</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-ha-dhcp-for-relayed-subnets">HA DHCP for relayed subnets</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-external-dhcp-configuration">External DHCP configuration</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-errno-101-network-is-unreachable">Errno 101 - network is unreachable</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-post-deployment-network-issues">Post-deployment network issues</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-controller-interfacenetwork-issues">Controller interface/network issues</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-adding-vlan-interfaces-to-lxd-vms">Adding VLAN interfaces to LXD VMs</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-netplan-configuration-ignored-when-deploying-a-machine">Netplan configuration ignored when deploying a machine</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-pre-registering-machine-with-ipmi-address-as-fqdn">Pre-registering machine with IPMI address as FQDN</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-automating-initial-configuration-settings-for-new-machines">Automating initial configuration settings for new machines</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-vlan-issues-and-rack-controller-configuration">VLAN issues and rack controller configuration</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-releasing-old-dhcp-leases">Releasing old DHCP leases</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-configuring-loopback-addresses">Configuring loopback addresses</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-shrinking-dynamic-ip-range">Shrinking dynamic IP range</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-overlapping-subnets-can-break-deployments">Overlapping subnets can break deployments</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-need-to-reconfigure-server-ip-address">Need to reconfigure server IP address</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-network-booting-ibm-power-servers">Network booting IBM Power servers</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-resolve-dns-conflicts-between-lxd-and-maas">Resolve DNS conflicts between LXD and MAAS</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-nodes-hang-on-commissioning">Nodes hang on “Commissioning”</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-command-packer-not-found">Command ‘packer’ not found</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-error-with-packer">Error with packer:</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-error-with-make">Error with make:</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-no-rule-to-make-target-ovmf_varsfd">No rule to make target …OVMF_VARS.fd</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-failure-to-create-qemu-driver">Failure to create QEMU driver</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-timeout-changes-not-taking-effect">Timeout changes not taking effect</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-users-logged-out-before-timeout-expires">Users logged out before timeout expires</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-cant-set-an-infinite-session-timeout">Can’t set an infinite session timeout</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-users-are-suddenly-logged-out">Users are suddenly logged out</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-cant-set-different-timeouts-for-user-groups">Can’t set different timeouts for user groups</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-cant-extend-sessions-beyond-the-timeout">Can’t extend sessions beyond the timeout</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-django-errors">Django errors</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-forgotten-password">Forgotten password</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-missing-web-ui">Missing Web UI</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-backdoor-image-login">Backdoor image login</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-extract-the-cloud-image">Extract the cloud image</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-generate-password-hash">Generate password hash</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-rebuild-squashfs-image">Rebuild squashfs image</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-migrating-snap-installs">Migrating snap installs</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-manual-db-export">Manual DB export</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-leaked-admin-api-key">Leaked admin API key</a></li>
              
            
              <li class="p-table-of-contents__item"><a class="p-table-of-contents__link" href="#p-9297-manually-swap-the-maas-admin-api-token">Manually swap the MAAS admin API token</a></li>
              
            
          </ul>
        </nav>
      </div>
    </div>
  </div>

  <script>
    // Allows the 'onchange' listener to be used on a select field, while still being accessible.
    (function() {
      var selectField = document.querySelector("#version-select");

      selectField.changed = false;
      selectField.onfocus = selectFocussed;
      selectField.onblur = selectUnFocussed;
      selectField.onkeyup = selectKeyed;
      selectField.onchange = updatePage;
    })();

    function updatePage(e) {
      this.changed = true;
      window.location.href = e.target.value;
    }

    function selectFocussed() {
      this.initValue = this.value;
    }

    function selectUnFocussed() {
      if (this.value != this.initValue) {
        this.changed = true;
        window.location.href = this.value;
      }
    }

    function selectKeyed(e) {
      e.preventDefault();
      var theKeyPressed;
      var validConfirmKeys = [9, "Tab", 13, "Enter"]
      var validCancleKeys = [27, "Escape", "esc"]

      if (e) {
        theKeyPressed = e.key || e.keyCode;
      } else {
        return false;
      }

      if (validConfirmKeys.includes(theKeyPressed) && this.value != this.initValue) {
        this.changed = true;
        window.location.href = this.value;
      } else if (validCancleKeys.includes(theKeyPressed)) {
        this.value = this.initValue;
      } else {
        this.changed = false;
      }
    }
  </script>
  <script src="https://canonical.com/static/js/side-navigation.js?v=818b02d"></script>
  <script src="https://canonical.com/static/js/modules/discourse-rad-parser/discourse-rad-parser.js?v=7516a6f"></script>
  <script>
    drpNs.DiscourseRADParser();
  </script>

          </div>

          
  <div class="p-strip is-dark l-footer--sticky">
  <footer class="row">
    <div class="col-3">
      <p>
        Copyright &copy; 2025
        <br />
        CC-BY-SA 3.0, Canonical Ltd.
      </p>
    </div>
    <div class="col-9">
      <nav aria-label="Footer">
        <ul class="p-inline-list--middot">
          <li class="p-inline-list__item">
            <a aria-label="External link to the Ubuntu legal information page"
               href="https://www.ubuntu.com/legal">Legal information</a>
          </li>
          <li class="p-inline-list__item">
            <a class="js-revoke-cookie-manager" href="#">Manage your tracker settings</a>
          </li>
          <li class="p-inline-list__item">
            <a href="https://github.com/canonical/multipass/issues/new/choose">Report a bug on Multipass itself</a>
          </li>
          <li class="p-inline-list__item">
            <a aria-label="External link to report a bug on this site"
               href="https://github.com/canonical/canonical.com/issues/new?template=ISSUE_TEMPLATE.md">
              Report a bug on this site
            </a>
          </li>
        </ul>
        <span class="u-off-screen">
          <a href="#">Go to the top of the page</a>
        </span>
      </nav>
    </div>
  </footer>
</div>


          <script defer src="https://canonical.com/static/js/dist/navigation.js?v=88c542d"></script>
          <script src="https://canonical.com/static/js/dist/forms.js?v=79ab59d"></script>
          <script>
            (function() {
              // Form submission notification
              var bannerElements = ["#success", "#newsletter-signup", "#contact-form-success", "#contact-form-fail"];
              bannerElements.forEach(el => {
                if (location.hash === el) {
                  document.querySelector(el).classList.remove("u-hide");
                } else {
                  document.querySelector(el).classList.add("u-hide");
                }
              })

              let params = new URLSearchParams(window.location.search);
              const utm_names = ["campaign", "source", "medium", "content", "term"];
              for (let i = 0; i < utm_names.length; i++) {
                var utm_fields = document.getElementsByName("utm_" + utm_names[i]);
                if (utm_fields.length > 0) {
                  utm_fields[0].value = params.get("utm_" + utm_names[i]);
                }
              }
            })()
          </script>
          <script defer src="https://canonical.com/static/js/source-inheritance.js?v=ad13b6b"></script>
          
          <!-- Cookie policy -->
          <script src="https://canonical.com/static/js/modules/cookie-policy/cookie-loader.js?v=90c3a18"></script>
          <script src="https://canonical.com/static/js/dist/cookie-policy-with-callback.js?v=99a6d07"></script>

           <!-- Google Tag Manager -->
          <script>
            document.addEventListener('DOMContentLoaded', () => {
              /** init gtm after 2 seconds - can be adjusted */
              setTimeout(initGTM, 2000);
            });
            document.addEventListener('scroll', initGTMOnEvent);
            document.addEventListener('mousemove', initGTMOnEvent);
            document.addEventListener('touchstart', initGTMOnEvent);

            function initGTMOnEvent(event) {
              initGTM();
              event.currentTarget.removeEventListener(event.type, initGTMOnEvent); // remove the event listener that got triggered
            }
            
            function initGTM() {
              if (window.gtmDidInit) {
                return false;
              }
              window.gtmDidInit = true; // flag to ensure script does not get added to DOM more than once.
              
              (function(w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({
                  'gtm.start': new Date().getTime(),
                  event: 'gtm.js'
                });
                var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
                j.async = true;
                j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                f.parentNode.insertBefore(j, f);
              })(window, document, 'script', 'dataLayer', 'GTM-M5BPGQ6');
            }
          </script>

        </body>

      
<!-- Mirrored from canonical.com/maas/docs/maas-troubleshooting-guide by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Aug 2025 20:41:02 GMT -->
</html>
